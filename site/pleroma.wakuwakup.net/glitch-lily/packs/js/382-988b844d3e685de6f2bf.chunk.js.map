{"version":3,"sources":["webpack:///./node_modules/history/node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/resolve-pathname/esm/resolve-pathname.js","webpack:///./node_modules/value-equal/esm/value-equal.js","webpack:///./node_modules/tiny-invariant/dist/tiny-invariant.esm.js","webpack:///./node_modules/history/esm/history.js","webpack:///./node_modules/dom-helpers/util/inDOM.js","webpack:///./node_modules/error-stack-parser/error-stack-parser.js","webpack:///./node_modules/stack-generator/stack-generator.js","webpack:///./node_modules/stacktrace-gps/stacktrace-gps.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/source-map.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/base64.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/mapping-list.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-consumer.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/binary-search.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/quick-sort.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/source-node.js","webpack:///./node_modules/react-overlays/lib/utils/ownerDocument.js","webpack:///./node_modules/react-router/node_modules/resolve-pathname/index.js","webpack:///./node_modules/react-router/node_modules/value-equal/index.js","webpack:///./node_modules/react-router/node_modules/history/es/LocationUtils.js","webpack:///./node_modules/react-router/node_modules/history/es/PathUtils.js","webpack:///./node_modules/react-router/node_modules/history/es/DOMUtils.js","webpack:///./node_modules/react-router/node_modules/history/es/createBrowserHistory.js","webpack:///./node_modules/react-router/node_modules/history/es/createHashHistory.js","webpack:///./node_modules/react-router/node_modules/history/es/createMemoryHistory.js","webpack:///./node_modules/react-router/es/generatePath.js","webpack:///./node_modules/react-router/es/Redirect.js","webpack:///./node_modules/react-router-dom/es/Redirect.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/store.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/util/async-components.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/domain_blocks.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/mutes.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/announcements.js","webpack:///./node_modules/favico.js/favico.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/column_loading.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/bundle_column_error.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/util/react_router_helpers.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/upload_area.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/notifications_counter_icon.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/tabs_bar.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/drawer_loading.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/compose_panel.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/follow_requests_nav_link.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/list_panel.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/navigation_panel.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/columns_area.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/containers/columns_area_container.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/picture_in_picture/components/header.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/picture_in_picture/index.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/index.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/error_boundary.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/containers/mastodon.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/lily/components/mastodon-storeref.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/statuses.js","webpack:///./node_modules/redux/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/redux/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/redux/es/redux.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/avatar.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/blocks.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/display_name.js","webpack:///./node_modules/react-textarea-autosize/node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/use-isomorphic-layout-effect/dist/use-isomorphic-layout-effect.browser.esm.js","webpack:///./node_modules/use-composed-ref/dist/use-composed-ref.esm.js","webpack:///./node_modules/react-textarea-autosize/dist/react-textarea-autosize.browser.esm.js","webpack:///./node_modules/use-latest/dist/use-latest.esm.js","webpack:///./node_modules/react-textarea-autosize/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/prop-types-extra/lib/componentOrElement.js","webpack:///./node_modules/react-overlays/lib/utils/getContainer.js","webpack:///./node_modules/dom-helpers/ownerDocument.js","webpack:///./node_modules/dom-helpers/query/isWindow.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/account_notes.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/conversations.js","webpack:///./node_modules/react-router/node_modules/history/node_modules/warning/browser.js","webpack:///./node_modules/dom-helpers/query/scrollTop.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/status_content.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/directory.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/favourites.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/bookmarks.js","webpack:///./node_modules/redux-immutable/dist/utilities/getStateName.js","webpack:///./node_modules/prop-types-extra/lib/utils/createChainableTypeChecker.js","webpack:///./node_modules/dom-helpers/query/offset.js","webpack:///./node_modules/dom-helpers/query/contains.js","webpack:///./node_modules/dom-helpers/style/index.js","webpack:///./node_modules/dom-helpers/util/camelizeStyle.js","webpack:///./node_modules/redux-immutable/dist/index.js","webpack:///./node_modules/redux-thunk/es/index.js","webpack:///./node_modules/tesseract.js-core/tesseract-core.wasm.js","webpack:///./node_modules/tesseract.js/dist/worker.min.js","webpack:///./node_modules/char-regex/index.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/attachment_list.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/search.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/loading_indicator.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/columns.js","webpack:///./node_modules/react-notification/dist/defaultPropTypes.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/status_visibility_icon.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/suggestions.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/history.js","webpack:///./node_modules/dom-helpers/query/scrollLeft.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/lists.js","webpack:///./node_modules/dom-helpers/events/on.js","webpack:///./node_modules/dom-helpers/events/off.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/dropdown_menu.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/redux-immutable/dist/combineReducers.js","webpack:///./node_modules/redux-immutable/dist/utilities/index.js","webpack:///./node_modules/redux-immutable/dist/utilities/getUnexpectedInvocationParameterMessage.js","webpack:///./node_modules/redux-immutable/dist/utilities/validateNextState.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/local_settings.js","webpack:///./node_modules/dom-helpers/node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/prop-types-extra/lib/elementType.js","webpack:///./node_modules/react-overlays/lib/Portal.js","webpack:///./node_modules/react-overlays/lib/LegacyPortal.js","webpack:///./node_modules/react-overlays/lib/Position.js","webpack:///./node_modules/react-overlays/lib/utils/calculatePosition.js","webpack:///./node_modules/dom-helpers/query/position.js","webpack:///./node_modules/dom-helpers/node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/dom-helpers/query/offsetParent.js","webpack:///./node_modules/dom-helpers/util/camelize.js","webpack:///./node_modules/dom-helpers/util/hyphenateStyle.js","webpack:///./node_modules/dom-helpers/util/hyphenate.js","webpack:///./node_modules/dom-helpers/style/getComputedStyle.js","webpack:///./node_modules/dom-helpers/style/removeStyle.js","webpack:///./node_modules/dom-helpers/transition/properties.js","webpack:///./node_modules/dom-helpers/transition/isTransform.js","webpack:///./node_modules/react-overlays/lib/RootCloseWrapper.js","webpack:///./node_modules/react-overlays/lib/utils/addEventListener.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/picture_in_picture.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/compose/components/dropdown_menu.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/compose/components/dropdown.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/trends.js","webpack:///./node_modules/react-notification/dist/notification.js","webpack:///./app/javascript/flavours/glitch/images/logo_warn_glitch.svg","webpack:///./node_modules/react-notification/dist/index.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/languages.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/util/privacy_preference.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/height_cache.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/custom_emojis.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/compose/components/privacy_dropdown.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/compose/components/upload_progress.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/compose/components/character_counter.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/util/dom_helpers.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js","webpack:///./node_modules/lodash/_isStrictComparable.js","webpack:///./node_modules/lodash/_matchesStrictComparable.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/rules.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/filters.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/bundle.js","webpack:///./node_modules/react-notification/dist/notificationStack.js","webpack:///./node_modules/react-notification/dist/stackedNotification.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/containers/bundle_container.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/bundles.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/actions/pin_statuses.js","webpack:///./node_modules/lodash/mapValues.js","webpack:///./node_modules/atrament/lib/atrament.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/dropdown_menu.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/timelines.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/meta.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/alerts.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/user_lists.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/domain_lists.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/accounts.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/accounts_counters.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/statuses.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/relationships.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/util/uuid.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/settings.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/local_settings.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/push_notifications.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/status_lists.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/mutes.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/blocks.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/rules.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/boosts.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/contexts.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/util/js_helpers.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/compose.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/search.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/media_attachments.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/notifications.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/height_cache.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/custom_emojis.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/lists.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/list_editor.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/list_adder.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/conversations.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/suggestions.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/pinned_accounts_editor.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/polls.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/trends.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/announcements.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/markers.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/account_notes.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/picture_in_picture.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/accounts_map.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/history.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/tags.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/index.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/reducers/filters.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/middleware/loading_bar.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/middleware/sounds.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/store/configureStore.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/middleware/errors.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/bundle_modal_error.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/modal_loading.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/actions_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/video_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/boost_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/favourite_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/audio_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/doodle_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/confirmation_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/focal_point_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/deprecated_settings_modal.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/components/modal_root.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/containers/modal_container.js","webpack:///./node_modules/stackframe/stackframe.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/components/button.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/stringz/dist/index.js","webpack:///./node_modules/lodash/_baseIteratee.js","webpack:///./node_modules/lodash/_baseMatches.js","webpack:///./node_modules/lodash/_baseIsMatch.js","webpack:///./node_modules/lodash/_getMatchData.js","webpack:///./node_modules/lodash/_baseMatchesProperty.js","webpack:///./node_modules/lodash/get.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/lodash/_baseToString.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/react-overlays/lib/Overlay.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/property.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/lodash/_basePropertyDeep.js","webpack:///./node_modules/atrament/lib/mouse.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/mastodon/actions/tags.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-generator.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/base64-vlq.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/array-set.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/containers/notifications_container.js","webpack:///app/javascript/builds/infra/glitch-lily/app/javascript/flavours/glitch/features/ui/containers/loading_bar_container.js","webpack:///./node_modules/stacktrace-js/stacktrace.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","isAbsolute","pathname","charAt","spliceOne","list","index","k","n","pop","to","from","undefined","hasTrailingSlash","toParts","split","fromParts","isToAbs","isFromAbs","mustEndAbs","concat","last","up","part","unshift","result","join","substr","obj","valueOf","valueEqual","a","b","Array","isArray","every","item","aValue","bValue","keys","prefix","condition","message","Error","addLeadingSlash","path","stripLeadingSlash","stripBasename","toLowerCase","indexOf","hasBasename","stripTrailingSlash","slice","parsePath","search","hash","hashIndex","searchIndex","createPath","location","createLocation","state","currentLocation","decodeURI","e","URIError","locationsAreEqual","createTransitionManager","prompt","listeners","setPrompt","nextPrompt","confirmTransitionTo","action","getUserConfirmation","callback","appendListener","fn","isActive","listener","push","filter","notifyListeners","_len","args","_key","forEach","canUseDOM","window","document","createElement","getConfirmation","confirm","PopStateEvent","HashChangeEvent","getHistoryState","history","createBrowserHistory","props","ua","globalHistory","canUseHistory","navigator","userAgent","needsHashChangeListener","_props","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_ref","_window$location","createKey","Math","random","toString","transitionManager","setState","nextState","handlePopState","event","isExtraneousPopstateEvent","handlePop","handleHashChange","forceNextPop","ok","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","revertPop","initialLocation","createHref","listenerCount","checkDOMListeners","addEventListener","removeEventListener","isBlocked","href","pushState","prevIndex","nextKeys","replace","replaceState","goBack","goForward","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","stripHash","url","getHashPath","substring","replaceHashPath","createHashHistory","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","encodedPath","prevLocation","allPaths","lastIndexOf","baseTag","querySelector","getAttribute","pushHashPath","nextPaths","clamp","lowerBound","upperBound","min","max","createMemoryHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","entries","map","entry","nextIndex","nextEntries","splice","canGo","exports","__esModule","default","_default","module","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","parts","exec","line","sanitizedLine","tokens","locationParts","functionName","fileName","lineNumber","columnNumber","functionNameRegex","matches","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","len","argsRaw","functionCall","shift","backtrace","opts","maxStackSize","curr","callee","test","RegExp","$1","caller","SourceMap","_xdr","Promise","resolve","reject","req","XMLHttpRequest","open","onerror","onreadystatechange","readyState","status","responseText","send","_atob","b64str","atob","_parseJson","string","JSON","_findFunctionName","syntaxes","code","maxLines","commentPos","m","_ensureSupportedEnvironment","defineProperty","create","_ensureStackFrameIsLegit","stackframe","TypeError","_findSourceMappingURL","lastSourceMappingUrl","matchSourceMappingUrl","sourceMappingUrlRegExp","_extractLocationInfoFromSourceMapSource","sourceMapConsumer","sourceCache","loc","originalPositionFor","column","mappedSource","sourceContentFor","name","StackTraceGPS","sourceMapConsumerCache","ajax","_get","isDataUrl","offline","supportedEncodingRegexp","sourceMapStart","encodedSource","xhrPromise","method","then","bind","_getSourceMapConsumer","sourceMappingURL","defaultSourceRoot","sourceMapConsumerPromise","sourceMapSource","sourceRoot","SourceMapConsumer","pinpoint","getMappedLocation","mappedStackFrame","resolveMappedStackFrame","findFunctionName","guessedFunctionName","SourceMapGenerator","SourceNode","intToCharMap","encode","number","decode","charCode","util","MappingList","_array","_sorted","_last","generatedLine","generatedColumn","unsortedForEach","aCallback","aThisArg","add","aMapping","mappingA","mappingB","lineA","lineB","columnA","columnB","compareByGeneratedPositionsInflated","toArray","sort","binarySearch","ArraySet","base64VLQ","quickSort","aSourceMap","sourceMap","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","version","getArg","sources","names","sourcesContent","mappings","file","_version","String","normalize","relative","_names","fromArray","_sources","_mappings","Mapping","originalLine","originalColumn","lastOffset","_sections","s","offset","offsetLine","offsetColumn","generatedOffset","consumer","fromSourceMap","__generatedMappings","get","_parseMappings","__originalMappings","_charIsMappingSeparator","aStr","c","aSourceRoot","GENERATED_ORDER","ORIGINAL_ORDER","GREATEST_LOWER_BOUND","LEAST_UPPER_BOUND","eachMapping","aContext","aOrder","context","_generatedMappings","_originalMappings","mapping","at","allGeneratedPositionsFor","aArgs","needle","has","_findMapping","compareByOriginalPositions","lastColumn","smc","_sourceRoot","_generateSourcesContent","_file","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","str","segment","end","value","previousGeneratedColumn","previousOriginalLine","previousOriginalColumn","previousSource","previousName","cachedSegments","temp","originalMappings","rest","compareByGeneratedPositionsDeflated","aNeedle","aMappings","aLineName","aColumnName","aComparator","aBias","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","hasContentsOfAllSources","size","some","sc","aSource","nullOnMissing","urlParse","fileUriAbsPath","scheme","generatedPositionFor","constructor","j","sectionIndex","section","cmp","bias","content","generatedPosition","sectionMappings","adjustedMapping","recursiveSearch","aLow","aHigh","aHaystack","aCompare","mid","floor","swap","ary","x","y","doQuickSort","comparator","p","r","low","high","round","pivot","q","REGEX_NEWLINE","isSourceNode","aLine","aColumn","aChunks","aName","children","sourceContents","fromStringWithSourceMap","aGeneratedCode","aSourceMapConsumer","aRelativePath","node","remainingLines","shiftNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","sourceFile","setSourceContent","aChunk","chunk","prepend","walk","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","aSourceFile","aSourceContent","toSetString","walkSourceContents","fromSetString","toStringWithSourceMap","generated","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","original","addMapping","idx","charCodeAt","sourceContent","componentOrElement","_ownerDocument2","_reactDom2","findDOMNode","_interopRequireDefault","_typeof","Symbol","iterator","aType","aKeys","bKeys","patternCache","cacheCount","pattern","cacheKey","cache","compiledGenerator","compile","params","generator","pretty","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_React$Component","Redirect","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","isStatic","router","staticContext","componentWillMount","perform","componentDidMount","componentDidUpdate","prevProps","prevTo","nextTo","computeTo","computedMatch","render","Component","propTypes","object","bool","oneOfType","isRequired","defaultProps","contextTypes","shape","func","STORE_HYDRATE","hydrateStore","rawState","dispatch","withMutations","getIn","setIn","removeIn","applyMigrations","fromJS","v","Iterable","isIndexed","toList","toMap","convertState","type","hydrateCompose","importFetchedAccounts","values","accounts","saveSettings","EmojiPicker","Compose","Notifications","HomeTimeline","PublicTimeline","CommunityTimeline","HashtagTimeline","ListTimeline","Lists","ListEditor","PinnedAccountsEditor","DirectTimeline","Status","GettingStarted","KeyboardShortcuts","PinnedStatuses","AccountTimeline","AccountGallery","Followers","Following","Reblogs","Favourites","FollowRequests","GenericNotFound","FavouritedStatuses","BookmarkedStatuses","Blocks","DomainBlocks","Mutes","OnboardingModal","MuteModal","BlockModal","ReportModal","SettingsModal","MediaGallery","Video","Audio","EmbedModal","GettingStartedMisc","ListAdder","Search","Tesseract","Directory","FollowRecommendations","CompareHistoryModal","DOMAIN_BLOCK_REQUEST","DOMAIN_BLOCK_SUCCESS","DOMAIN_BLOCK_FAIL","DOMAIN_UNBLOCK_REQUEST","DOMAIN_UNBLOCK_SUCCESS","DOMAIN_UNBLOCK_FAIL","DOMAIN_BLOCKS_FETCH_REQUEST","DOMAIN_BLOCKS_FETCH_SUCCESS","DOMAIN_BLOCKS_FETCH_FAIL","DOMAIN_BLOCKS_EXPAND_REQUEST","DOMAIN_BLOCKS_EXPAND_SUCCESS","DOMAIN_BLOCKS_EXPAND_FAIL","blockDomain","domain","getState","blockDomainRequest","api","post","at_domain","endsWith","valueSeq","blockDomainSuccess","catch","err","blockDomainFail","unblockDomain","unblockDomainRequest","delete","unblockDomainSuccess","unblockDomainFail","fetchDomainBlocks","response","next","getLinks","refs","find","link","rel","domains","fetchDomainBlocksSuccess","data","uri","expandDomainBlocks","expandDomainBlocksSuccess","MUTES_FETCH_REQUEST","MUTES_FETCH_SUCCESS","MUTES_FETCH_FAIL","MUTES_EXPAND_REQUEST","MUTES_EXPAND_SUCCESS","MUTES_EXPAND_FAIL","MUTES_INIT_MODAL","MUTES_TOGGLE_HIDE_NOTIFICATIONS","MUTES_CHANGE_DURATION","fetchMutes","fetchMutesSuccess","fetchRelationships","id","fetchMutesFail","expandMutes","expandMutesSuccess","expandMutesFail","initMuteModal","account","openModal","toggleHideNotifications","changeMuteDuration","duration","ANNOUNCEMENTS_FETCH_REQUEST","ANNOUNCEMENTS_FETCH_SUCCESS","ANNOUNCEMENTS_FETCH_FAIL","ANNOUNCEMENTS_UPDATE","ANNOUNCEMENTS_DELETE","ANNOUNCEMENTS_DISMISS_SUCCESS","ANNOUNCEMENTS_REACTION_ADD_REQUEST","ANNOUNCEMENTS_REACTION_ADD_FAIL","ANNOUNCEMENTS_REACTION_REMOVE_REQUEST","ANNOUNCEMENTS_REACTION_REMOVE_FAIL","ANNOUNCEMENTS_REACTION_UPDATE","ANNOUNCEMENTS_TOGGLE_SHOW","noOp","fetchAnnouncements","done","fetchAnnouncementsRequest","fetchAnnouncementsSuccess","normalizeAnnouncement","fetchAnnouncementsFail","finally","skipLoading","announcements","skipAlert","updateAnnouncements","announcement","dismissAnnouncement","announcementId","dismissAnnouncementRequest","dismissAnnouncementSuccess","dismissAnnouncementFail","addReaction","alreadyAdded","reaction","addReactionRequest","put","addReactionSuccess","addReactionFail","removeReaction","removeReactionRequest","removeReactionSuccess","removeReactionFail","updateReaction","toggleShowAnnouncements","deleteAnnouncement","Favico","opt","_opt","_orig","_h","_w","_canvas","_context","_img","_ready","_lastBadge","_running","_readyCb","_stop","_browser","_animTimeout","_drawTimeout","_doc","_def","bgColor","textColor","fontFamily","fontStyle","position","animation","elementId","dataUrl","win","ff","InstallTrigger","chrome","opera","ie","safari","HTMLElement","supported","_queue","icon","reset","clearRect","drawImage","setIcon","clearTimeout","run","options","start","abs","w","h","drawVideo","video","paused","ended","setTimeout","circle","more","beginPath","font","textAlign","moveTo","lineTo","quadraticCurveTo","arc","PI","fillStyle","g","o","fill","closePath","stroke","fillText","rectangle","fillRect","hexToRgb","hex","parseInt","merge","def","attrname","mergedOpt","getIcon","elm","element","getElementById","setAttribute","getElementsByTagName","getLink","appendChild","canvas","toDataURL","old","parentNode","removeChild","types","fade","none","popFade","slide","cb","revert","step","animationType","hidden","msHidden","webkitHidden","mozHidden","isUp","isLeft","hasAttribute","onload","height","width","getContext","ready","init","badge","videoElement","image","imageElement","newImg","ratio","webcam","URL","createObjectURL","newVideo","getUserMedia","oGetUserMedia","msGetUserMedia","mozGetUserMedia","webkitGetUserMedia","audio","stream","src","play","browser","ColumnLoading","ImmutablePureComponent","title","multiColumn","focusable","placeholder","className","PropTypes","messages","defineMessages","body","retry","BundleColumnError","React","handleRetry","onRetry","intl","formatMessage","onClick","injectIntl","WrappedSwitch","PureComponent","Switch","Children","child","cloneElement","WrappedRoute","renderComponent","component","componentParams","fetchComponent","loading","renderLoading","renderError","Route","UploadArea","handleKeyUp","keyCode","active","preventDefault","stopPropagation","onClose","componentWillUnmount","defaultStyle","backgroundOpacity","backgroundScale","style","spring","stiffness","damping","visibility","opacity","transform","defaultMessage","connect","count","IconWithBadge","links","NavLink","data-preview-title-id","data-preview-icon","fixedWidth","exact","flexGrow","flexBasis","getIndex","findIndex","TabsBar","withRouter","setRef","ref","handleClick","isUserTouching","persist","requestAnimationFrame","tabs","querySelectorAll","currentTab","tab","classList","contains","nextTab","childNodes","remove","DrawerLoading","ComposePanel","openInRoute","singleColumn","withHotkeys","FollowRequestsNavLink","ImmutableList","fetchFollowRequests","getOrderedLists","createSelector","lists","localeCompare","take","ListPanel","fetchLists","isEmpty","strict","ImmutablePropTypes","onOpenSettings","profile_directory","preferencesLink","relationshipsLink","showTrends","componentMap","publish","ColumnsArea","withRef","mediaQuery","matchMedia","shouldAnimate","renderComposePanel","handleLayoutChange","handleSwipe","pendingIndex","nextLinkSelector","handleAnimationEnd","handleWheel","_interruptScrollAnimation","renderView","columnIndex","view","columnId","componentWillReceiveProps","lastIndex","supportsPassiveEvents","passive","addListener","isRtlLayout","componentWillUpdate","nextProps","newIndex","removeListener","handleLayouteChange","handleChildrenContentChange","modifier","scrollRight","scrollWidth","innerWidth","columns","navbarUnder","openSettings","floatingActionButton","Link","aria-label","hysteresis","threshold","onChangeIndex","onTransitionEnd","animateTransitions","springConfig","delay","easeFunction","disabled","disableSwiping","toJS","other","SpecificComponent","forwardRef","close","Header","accountId","statusId","PictureInPicture","left","handleClose","removePictureInPicture","currentTime","player","volume","muted","autoPlay","inline","alwaysVisible","poster","backgroundColor","foregroundColor","accentColor","classNames","beforeUnload","keyMap","help","new","forceNew","toggleComposeSpoilers","focusColumn","reply","favourite","boost","mention","openProfile","moveDown","moveUp","back","goToHome","goToNotifications","goToLocal","goToFederated","goToDirect","goToStart","goToFavourites","goToPinned","goToProfile","goToBlocked","goToMuted","goToRequests","toggleSpoiler","bookmark","toggleCollapse","toggleSensitive","openMedia","SwitchingColumnsArea","mobile","isMobile","layout","onLayoutChange","trailing","handleResize","cancel","getWrappedInstance","toggle","prevState","includes","redirect","withReplies","UI","hasComposingText","trim","hasMediaAttachments","canUploadMore","isWide","dropdownMenuIsOpen","unreadNotifications","showFaviconBadge","hicolorPrivacyIcons","moved","me","firstLaunch","INTRODUCTION_VERSION","username","draggingOver","handleBeforeUnload","synchronouslySubmitMarkers","returnValue","clearHeight","handleDragEnter","dragTargets","dataTransfer","handleDragOver","dataTransferIsText","dropEffect","handleDrop","files","uploadCompose","handleDragLeave","el","closeUploadModal","handleServiceWorkerPostMessage","console","warn","handleVisibilityChange","visibilityHiddenProp","notificationsSetVisibility","submitMarkers","immediate","handleHotkeyNew","focus","handleHotkeySearch","handleHotkeyForceNew","resetCompose","handleHotkeyToggleComposeSpoilers","changeComposeSpoilerness","handleHotkeyFocusColumn","container","scrollTop","offsetTop","scrollIntoView","handleHotkeyBack","setHotkeysRef","hotkeys","handleHotkeyToggleHelp","handleHotkeyGoToHome","handleHotkeyGoToNotifications","handleHotkeyGoToLocal","handleHotkeyGoToFederated","handleHotkeyGoToDirect","handleHotkeyGoToStart","handleHotkeyGoToFavourites","handleHotkeyGoToPinned","handleHotkeyGoToProfile","handleHotkeyGoToBlocked","handleHotkeyGoToMuted","handleHotkeyGoToRequests","handleDragEnd","serviceWorker","favicon","closeOnboarding","fetchMarkers","expandHomeTimeline","expandNotifications","fetchFilters","fetchRules","__mousetrap__","stopCallback","tagName","visibilityChange","columnsClass","systemFontUi","handlers","attach","focused","pointerEvents","moved_to_link","ErrorBoundary","hasError","errorMessage","stackTrace","mappedStackTrace","componentStack","componentDidCatch","info","StackTrace","fromError","stackframes","sf","handleReload","reload","likelyBrowserAddonIssue","debugInfo","issueTracker","source_url","tabIndex","issuetracker","rows","readOnly","settings","localeData","getLocale","addLocaleData","store","configureStore","hydrateAction","initialState","checkDeprecatedLocalSettings","fetchCustomEmojis","Mastodon","identity","signedIn","meta","accessToken","access_token","permissions","role","getChildContext","disconnect","connectUserStream","shouldUpdateScroll","_","mastodonModalKey","locale","BrowserRouter","childContextTypes","MastodonStoreRef","storeRef","childProps","useEffect","STATUS_FETCH_SUCCESS","STATUS_FETCH_FAIL","STATUS_DELETE_REQUEST","STATUS_DELETE_SUCCESS","STATUS_DELETE_FAIL","CONTEXT_FETCH_REQUEST","CONTEXT_FETCH_SUCCESS","CONTEXT_FETCH_FAIL","STATUS_MUTE_REQUEST","STATUS_MUTE_SUCCESS","STATUS_MUTE_FAIL","STATUS_UNMUTE_REQUEST","STATUS_UNMUTE_SUCCESS","STATUS_UNMUTE_FAIL","STATUS_REVEAL","STATUS_HIDE","STATUS_COLLAPSE","REDRAFT","fetchStatus","fetchContextRequest","importFetchedStatuses","ancestors","descendants","statuses","fetchContextSuccess","deleteFromTimelines","fetchContextFail","fetchContext","fetchStatusRequest","importFetchedStatus","fetchStatusSuccess","fetchStatusFail","editStatus","routerHistory","set","fetchStatusSourceRequest","fetchStatusSourceSuccess","ensureComposeIsVisible","setComposeToStatus","text","spoiler_text","fetchStatusSourceFail","deleteStatus","withRedraft","deleteStatusRequest","deleteStatusSuccess","raw_text","content_type","redraft","deleteStatusFail","updateStatus","muteStatus","muteStatusRequest","muteStatusSuccess","muteStatusFail","unmuteStatus","unmuteStatusRequest","unmuteStatusSuccess","unmuteStatusFail","hideStatus","ids","revealStatus","_defineProperty","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","formatProdErrorMessage","$$observable","observable","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","subscribe","isSubscribed","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","compose","funcs","arg","reduce","applyMiddleware","middlewares","createStore","_dispatch","middlewareAPI","chain","middleware","Avatar","hovering","handleMouseEnter","animate","handleMouseLeave","backgroundSize","staticSrc","backgroundImage","onMouseEnter","onMouseLeave","data-avatar-of","autoPlayGif","BLOCKS_FETCH_REQUEST","BLOCKS_FETCH_SUCCESS","BLOCKS_FETCH_FAIL","BLOCKS_EXPAND_REQUEST","BLOCKS_EXPAND_SUCCESS","BLOCKS_EXPAND_FAIL","BLOCKS_INIT_MODAL","fetchBlocks","fetchBlocksSuccess","fetchBlocksFail","expandBlocks","expandBlocksSuccess","expandBlocksFail","initBlockModal","DisplayName","currentTarget","emojis","emoji","localDomain","others","onAccountClick","computedClass","displayName","suffix","acct","dangerouslySetInnerHTML","__html","prev","cur","updateRef","current","libRef","userRef","prevUserRef","HIDDEN_TEXTAREA_STYLE","overflow","top","right","forceHiddenStyles","setProperty","hiddenTextarea","noop","SIZING_STYLE","isIE","documentElement","currentStyle","latestListener","handler","cacheMeasurements","maxRows","minRows","_ref$onChange","onChange","_ref$onHeightChange","onHeightChange","excluded","sourceKeys","_objectWithoutPropertiesLoose","isControlled","heightRef","measurementsCacheRef","resizeTextarea","nodeSizingData","getComputedStyle","sizingStyle","acc","prop","boxSizing","parseFloat","borderRightWidth","borderLeftWidth","paddingRight","paddingLeft","paddingSize","paddingBottom","paddingTop","borderSize","borderBottomWidth","borderTopWidth","getSizingData","_calculateNodeHeight","sizingData","scrollHeight","getHeight","rowHeight","minHeight","maxHeight","calculateNodeHeight","_react2","_createChainableTypeChecker2","propName","componentName","propFullName","propValue","propType","isValidElement","nodeType","defaultContainer","_reactDom","ownerDocument","defaultView","parentWindow","ACCOUNT_NOTE_SUBMIT_REQUEST","ACCOUNT_NOTE_SUBMIT_SUCCESS","ACCOUNT_NOTE_SUBMIT_FAIL","ACCOUNT_NOTE_INIT_EDIT","ACCOUNT_NOTE_CANCEL","ACCOUNT_NOTE_CHANGE_COMMENT","submitAccountNote","comment","relationship","submitAccountNoteFail","initEditAccountNote","cancelAccountNote","changeAccountNoteComment","CONVERSATIONS_MOUNT","CONVERSATIONS_UNMOUNT","CONVERSATIONS_FETCH_REQUEST","CONVERSATIONS_FETCH_SUCCESS","CONVERSATIONS_FETCH_FAIL","CONVERSATIONS_UPDATE","CONVERSATIONS_READ","CONVERSATIONS_DELETE_SUCCESS","mountConversations","unmountConversations","markConversationRead","conversationId","expandConversations","maxId","expandConversationsRequest","max_id","since_id","isLoadingRecent","aggr","last_status","expandConversationsSuccess","expandConversationsFail","conversations","updateConversations","conversation","deleteConversation","deleteConversationRequest","deleteConversationSuccess","deleteConversationFail","val","_isWindow","pageYOffset","scrollTo","pageXOffset","scrollLeft","textMatchesTarget","origin","host","startsWith","isLinkMisleading","linkTextParts","Node","TEXT_NODE","textContent","ELEMENT_NODE","linkText","targetURL","protocol","hostname","decodeIDNA","StatusContent","onLinkClick","collapsed","parseClick","onMentionClick","onHashtagClick","hashtag","handleMouseDown","startXY","clientX","clientY","handleMouseUp","startX","startY","deltaX","deltaY","localName","button","handleSpoilerClick","onExpandedToggle","setContentsRef","contentsNode","_updateStatusLinks","tagLinks","rewriteMentions","firstChild","createTextNode","acctSpan","previousSibling","tag","insertAdjacentText","insertAdjacentElement","removeAttribute","onUpdate","media","extraMedia","mediaIcons","expanded","spoilerContent","lang","classnames","mentionsPlaceholder","mentionLinks","aggregate","toggleText","mediaIcon","aria-hidden","onMouseDown","onMouseUp","marginBottom","DIRECTORY_FETCH_REQUEST","DIRECTORY_FETCH_SUCCESS","DIRECTORY_FETCH_FAIL","DIRECTORY_EXPAND_REQUEST","DIRECTORY_EXPAND_SUCCESS","DIRECTORY_EXPAND_FAIL","fetchDirectory","fetchDirectoryRequest","limit","fetchDirectorySuccess","fetchDirectoryFail","expandDirectory","expandDirectoryRequest","loadedItems","expandDirectorySuccess","expandDirectoryFail","FAVOURITED_STATUSES_FETCH_REQUEST","FAVOURITED_STATUSES_FETCH_SUCCESS","FAVOURITED_STATUSES_FETCH_FAIL","FAVOURITED_STATUSES_EXPAND_REQUEST","FAVOURITED_STATUSES_EXPAND_SUCCESS","FAVOURITED_STATUSES_EXPAND_FAIL","fetchFavouritedStatuses","fetchFavouritedStatusesSuccess","fetchFavouritedStatusesFail","expandFavouritedStatuses","expandFavouritedStatusesSuccess","expandFavouritedStatusesFail","BOOKMARKED_STATUSES_FETCH_REQUEST","BOOKMARKED_STATUSES_FETCH_SUCCESS","BOOKMARKED_STATUSES_FETCH_FAIL","BOOKMARKED_STATUSES_EXPAND_REQUEST","BOOKMARKED_STATUSES_EXPAND_SUCCESS","BOOKMARKED_STATUSES_EXPAND_FAIL","fetchBookmarkedStatuses","fetchBookmarkedStatusesSuccess","fetchBookmarkedStatusesFail","expandBookmarkedStatuses","expandBookmarkedStatusesSuccess","expandBookmarkedStatusesFail","validate","checkType","componentNameSafe","propFullNameSafe","chainedCheckType","doc","_ownerDocument","docElem","box","_contains","getBoundingClientRect","clientTop","clientLeft","offsetWidth","offsetHeight","compareDocumentPosition","fallback","property","css","transforms","_camelizeStyle","_getComputedStyle2","getPropertyValue","_hyphenateStyle","_isTransform","_removeStyle","_properties","cssText","_camelize","msPattern","combineReducers","_combineReducers2","_combineReducers3","createThunkMiddleware","extraArgument","thunk","withExtraArgument","astral","combo","fitz","nonAstral","regional","surrogatePair","family","optModifier","optVar","seq","symbol","blackFlag","AttachmentList","compact","attachment","displayUrl","SEARCH_CHANGE","SEARCH_CLEAR","SEARCH_SHOW","SEARCH_FETCH_REQUEST","SEARCH_FETCH_SUCCESS","SEARCH_FETCH_FAIL","SEARCH_EXPAND_SUCCESS","changeSearch","clearSearch","submitSearch","fetchSearchSuccess","fetchSearchFail","hashtags","results","searchTerm","expandSearch","expandSearchRequest","expandSearchSuccess","expandSearchFail","searchType","showSearch","CircularProgress","strokeWidth","viewBox","radius","heigh","cx","cy","LoadingIndicator","COLUMN_ADD","COLUMN_REMOVE","COLUMN_MOVE","COLUMN_PARAMS_CHANGE","addColumn","removeColumn","uuid","moveColumn","direction","changeColumnParams","_propTypes","_propTypes2","actionStyle","titleStyle","barStyle","activeBarStyle","dismissAfter","onDismiss","activeClassName","public","unlisted","private","direct","local","VisibilityIcon","withLabel","visibilityIcon","label","whiteSpace","SUGGESTIONS_FETCH_REQUEST","SUGGESTIONS_FETCH_SUCCESS","SUGGESTIONS_FETCH_FAIL","SUGGESTIONS_DISMISS","fetchSuggestions","withRelationships","fetchSuggestionsRequest","fetchSuggestionsSuccess","fetchSuggestionsFail","suggestions","dismissSuggestion","HISTORY_FETCH_REQUEST","HISTORY_FETCH_SUCCESS","HISTORY_FETCH_FAIL","fetchHistory","fetchHistoryRequest","fetchHistorySuccess","fetchHistoryFail","LIST_FETCH_SUCCESS","LIST_FETCH_FAIL","LISTS_FETCH_SUCCESS","LIST_EDITOR_TITLE_CHANGE","LIST_EDITOR_RESET","LIST_EDITOR_SETUP","LIST_CREATE_REQUEST","LIST_CREATE_SUCCESS","LIST_CREATE_FAIL","LIST_UPDATE_REQUEST","LIST_UPDATE_SUCCESS","LIST_UPDATE_FAIL","LIST_DELETE_SUCCESS","LIST_ACCOUNTS_FETCH_REQUEST","LIST_ACCOUNTS_FETCH_SUCCESS","LIST_ACCOUNTS_FETCH_FAIL","LIST_EDITOR_SUGGESTIONS_CHANGE","LIST_EDITOR_SUGGESTIONS_READY","LIST_EDITOR_SUGGESTIONS_CLEAR","LIST_EDITOR_ADD_SUCCESS","LIST_EDITOR_REMOVE_SUCCESS","LIST_ADDER_RESET","LIST_ADDER_SETUP","LIST_ADDER_LISTS_FETCH_REQUEST","LIST_ADDER_LISTS_FETCH_SUCCESS","LIST_ADDER_LISTS_FETCH_FAIL","fetchList","fetchListRequest","fetchListSuccess","fetchListFail","fetchListsRequest","fetchListsSuccess","fetchListsFail","submitListEditor","shouldReset","listId","createList","updateList","setupListEditor","fetchListAccounts","changeListEditorTitle","createListRequest","createListSuccess","resetListEditor","createListFail","replies_policy","updateListRequest","updateListSuccess","updateListFail","deleteList","deleteListRequest","deleteListSuccess","deleteListFail","fetchListAccountsRequest","fetchListAccountsSuccess","fetchListAccountsFail","fetchListSuggestions","following","fetchListSuggestionsReady","showAlertForError","query","clearListSuggestions","changeListSuggestions","addToListEditor","addToList","addToListRequest","account_ids","addToListSuccess","addToListFail","removeFromListEditor","removeFromList","removeFromListRequest","removeFromListSuccess","removeFromListFail","resetListAdder","setupListAdder","fetchAccountLists","fetchAccountListsRequest","fetchAccountListsSuccess","fetchAccountListsFail","addToListAdder","removeFromListAdder","on","eventName","capture","attachEvent","srcElement","off","detachEvent","DROPDOWN_MENU_OPEN","DROPDOWN_MENU_CLOSE","openDropdownMenu","placement","keyboard","scroll_key","closeDropdownMenu","isSymbol","_immutable","_immutable2","_utilities","reducers","getDefaultState","Map","reducerKeys","inputState","temporaryState","reducerName","nextDomainState","validateNextState","getUnexpectedInvocationParameterMessage","getStateName","_getStateName3","_getUnexpectedInvocationParameterMessage3","_validateNextState3","_getStateName2","reducerNames","stateName","isImmutable","isIterable","unexpectedStatePropertyNames","toSeq","keySeq","LOCAL_SETTING_CHANGE","LOCAL_SETTING_DELETE","local_auto_unfold","local_swipe_to_change_columns","changed_settings","expandSpoilers","deleteLocalSetting","onConfirm","changeLocalSetting","saveLocalSettings","localSettings","localStorage","setItem","stringify","_reactIs","isValidElementType","_inDOM2","_componentOrElement2","_getContainer2","_LegacyPortal2","Portal","_temp","_this","getMountNode","_portalContainerNode","UNSAFE_componentWillMount","setContainer","onRendered","forceUpdate","UNSAFE_componentWillReceiveProps","createPortal","_mountOverlayTarget","_overlayTarget","_unmountOverlayTarget","_renderOverlay","overlay","only","initialRender","_overlayInstance","unstable_renderSubtreeIntoContainer","_unrenderOverlay","unmountComponentAtNode","_isMounted","_classnames2","_react","_calculatePosition2","_objectWithoutProperties","Position","getTarget","targetElement","maybeUpdatePosition","placementChanged","shouldUpdatePosition","_lastTarget","updatePosition","positionLeft","positionTop","arrowOffsetLeft","arrowOffsetTop","_needsFlush","_state","arrowPosition","containerPadding","oneOf","overlayNode","padding","childOffset","_offset2","_position2","_getOffset2","overlayHeight","overlayWidth","topDelta","containerDimensions","getContainerDimensions","containerScroll","scroll","containerHeight","topEdgeOffset","bottomEdgeOffset","getTopDelta","leftDelta","containerWidth","leftEdgeOffset","rightEdgeOffset","getLeftDelta","_scrollTop2","containerNode","innerHeight","_getOffset","offsetParent","parentOffset","_style","_offsetParent","_offset","nodeName","_scrollTop","_scrollLeft","_extends2","rHyphen","chr","toUpperCase","_hyphenate","rUpper","opener","rnumnonpx","rposition","runStyle","runtimeStyle","rsLeft","pixelLeft","removeProperty","animationEnd","animationDelay","animationTiming","animationDuration","animationName","transitionEnd","transitionDuration","transitionDelay","transitionTiming","transitionProperty","_inDOM","_getTransitionPropert","vendorMap","O","Moz","Webkit","ms","vendors","vendor","getTransitionProperties","timing","supportedTransforms","_contains2","_addEventListener2","RootCloseWrapper","addEventListeners","currentEvent","documentMouseCaptureListener","handleMouseCapture","documentMouseListener","handleMouse","documentKeyupListener","removeEventListeners","preventMouseRootClose","metaKey","altKey","ctrlKey","shiftKey","isLeftClickEvent","onRootClose","_on2","_off2","PICTURE_IN_PICTURE_DEPLOY","PICTURE_IN_PICTURE_REMOVE","deployPictureInPicture","playerType","hasIn","springMotion","ComposerOptionsDropdownContent","mounted","openedViaKeyboard","items","handleDocumentClick","handleRef","Number","closeOnChange","handleChange","handleKeyDown","setFocusRef","focusedItem","renderItem","contents","renderItemContents","Fragment","onKeyDown","data-index","withPassive","preventScroll","scaleX","scaleY","ComposerOptionsDropdown","handleToggle","onModalOpen","onModalClose","modal","handleMakeModal","activeElement","handleButtonKeyDown","handleKeyPress","handleItemClick","actions","inverted","onKeyPress","lineHeight","show","TRENDS_FETCH_REQUEST","TRENDS_FETCH_SUCCESS","TRENDS_FETCH_FAIL","fetchTrends","fetchTrendsRequest","fetchTrendsSuccess","fetchTrendsFail","trends","_createClass","descriptor","protoProps","staticProps","_defaultPropTypes2","Notification","_Component","getBarStyle","getActionStyle","getTitleStyle","dismissTimeout","baseStyle","bottom","margin","color","borderRadius","background","borderSizing","boxShadow","cursor","WebKitTransition","MozTransition","msTransition","OTransition","transition","WebkitTransform","MozTransform","msTransform","OTransform","marginLeft","letterSpacing","textTransform","fontWeight","marginRight","_notification","_notificationStack","reIsDeepProp","reIsPlainProp","LANGUAGE_USE","useLanguage","language","order","privacyPreference","HEIGHT_CACHE_SET","HEIGHT_CACHE_CLEAR","setHeight","CUSTOM_EMOJIS_FETCH_REQUEST","CUSTOM_EMOJIS_FETCH_SUCCESS","CUSTOM_EMOJIS_FETCH_FAIL","custom_emojis","fetchCustomEmojisFail","public_short","public_long","unlisted_short","unlisted_long","private_short","private_long","direct_short","direct_long","change_privacy","PrivacyDropdown","noDirect","privacyItems","UploadProgress","progress","CharacterCounter","checkRemainingText","diff","focusRoot","parentElement","aDefaultValue","urlRegexp","dataUrlRegexp","aUrl","auth","port","urlGenerate","aParsedUrl","aPath","aRoot","aPathUrl","aRootUrl","joined","level","supportsNullProto","isProtoString","strcmp","aStr1","aStr2","onlyCompareOriginal","onlyCompareGenerated","isObject","srcValue","castPath","toKey","isKey","stringToPath","RULES_FETCH_SUCCESS","fetchRulesRequest","fetchRulesSuccess","rules","fetchRulesFail","FILTERS_FETCH_SUCCESS","filters","emptyComponent","Bundle","mod","forceRender","load","onFetch","onFetchSuccess","onFetchFail","renderDelay","timestamp","Date","timeout","Loading","elapsed","_stackedNotification2","defaultBarStyleFactory","NotificationStack","notifications","notification","isLast","dismissNow","dismissInOrder","barStyleFactory","actionStyleFactory","activeBarStyleFactory","array","_notification2","StackedNotification","activeTimeout","dismiss","_this2","fetchBundleFail","PINNED_STATUSES_FETCH_REQUEST","PINNED_STATUSES_FETCH_SUCCESS","PINNED_STATUSES_FETCH_FAIL","fetchPinnedStatuses","pinned","fetchPinnedStatusesFail","baseAssignValue","baseForOwn","baseIteratee","iteratee","_mouse","_mouse2","_toConsumableArray","arr","arr2","Atrament","selector","mouse","mouseMove","rect","changedTouches","offsetX","offsetY","down","draw","_dirty","fireDirty","mouseDown","mousePosition","_mode","px","py","mouseUp","destroy","clear","globalCompositeOperation","globalAlpha","strokeStyle","lineCap","lineJoin","translate","_filling","_fillStack","SMOOTHING_INIT","WEIGHT_SPREAD","_smoothing","_maxWeight","_thickness","_targetThickness","_weight","_adaptive","mX","mY","rawDist","lineDistance","smoothingFactor","dist","lineWidth","createEvent","initEvent","dispatchEvent","dirty","mode","startColor","getImageData","_floodFill","_startX","_startY","_this3","canvasWidth","canvasHeight","pixelStack","fillColor","colorLayer","alpha","colorPixel","matchColor","matchFillColor","newPos","pixelPos","reachLeft","reachRight","putImageData","x1","y1","x2","y2","xs","pow","ys","sqrt","hexColor","compR","compG","compB","compA","fillR","fillG","fillB","Immutable","openId","ImmutableMap","initialTimeline","unread","online","isLoading","hasMore","pendingItems","references","exclude_account","timeline","helper","filterNot","updateIn","streaming_api_base_url","ignoreFocus","ImmutableStack","popModal","modalType","update","initialListState","followers","reblogged_by","favourited_by","follow_requests","blocks","mutes","normalizeList","appendToList","ImmutableOrderedSet","normalizeAccount","followers_count","following_count","statuses_count","limited","importStatus","normalizeRelationship","setDomainBlocking","blocking","saved","onboarded","skinTone","home","shows","reblog","regex","alerts","follow","follow_request","poll","quickFilter","advanced","dismissPermissionBanner","showUnread","sounds","community","defaultColumns","filterDeadListColumns","stretch","navbar_under","side_arm","side_arm_reply_mode","show_reply_count","always_show_spoilers_field","confirm_missing_media_description","confirm_boost_missing_media_description","confirm_before_clearing_draft","prepend_cw_re","preselect_on_reply","inline_preview_cards","hicolor_privacy_icons","show_content_type_choice","filtering_behavior","tag_misleading_links","rewrite_mentions","content_warnings","media_outside","shared_state","enabled","auto","all","lengthy","reblogs","replies","backgrounds","user_backgrounds","preview_images","show_action_bar","letterbox","fullwidth","reveal_behind_cw","pop_in_player","pop_in_position","favicon_badge","tab_badge","status_icons","local_only","subscription","browserSupport","favourites","loaded","bookmarks","pins","listType","listMap","prependOneToList","removeOneFromList","account_id","privacy","inReplyTos","deleteFromContexts","immutableState","immutableAncestors","immutableDescendants","inReplyToIdOfId","repliesOfId","siblings","sibling","overwrite","oldVal","newVal","advanced_options","do_not_federate","threaded_mode","sensitive","elefriend","spoiler","defaultContentType","focusDate","caretPosition","preselectDate","in_reply_to","is_submitting","is_uploading","is_changing_upload","isUploadingThumbnail","thumbnailProgress","media_attachments","pending_media_attachments","suggestion_token","default_advanced_options","default_privacy","default_sensitive","default_language","resetFileKey","idempotencyKey","tagHistory","media_modal","description","focusX","focusY","doodle","fg","bg","swapped","weight","adaptiveStroke","smoothing","initialPoll","expires_in","multiple","clearAll","mergeWith","continueThread","union","mentions","apiStatusToTextMentions","unescapeHTML","recoverHashtags","tags","apiStatusToTextHashtags","domParser","DOMParser","expiresInFromExpiresAt","expires_at","getTime","now","mergeLocalHashtagResults","localTags","suggestion","submitted","accept_content_types","lastReadId","readMarkerId","cleaningMode","isTabVisible","browserPermission","markNewForDelete","notificationToMap","markedForDelete","report","filterNotifications","accountIds","clearUnread","lastNotification","shouldCountUnreadNotifications","ignoreScroll","isOnTop","isMounted","lastItem","findLast","lastItemReached","compareId","recountUnread","last_read_id","mutable","isSubmitting","isChanged","conversationToMap","filterConversations","updater","reactions","sortAnnouncements","sortBy","updateAnnouncement","mergeDeep","edit","initialHistory","announcement_id","updateReactionCount","dropdown_menu","timelines","TIMELINE_LOAD_PENDING","TIMELINE_EXPAND_REQUEST","TIMELINE_EXPAND_FAIL","TIMELINE_EXPAND_SUCCESS","isPartial","usePendingItems","mMap","oldIds","newIds","findLastIndex","firstIndex","first","insertedIds","olderIds","subtract","skip","expandNormalizedTimeline","partial","TIMELINE_UPDATE","filtered","includesId","updateTimeline","TIMELINE_DELETE","reblogOf","TIMELINE_CLEAR","clearTimeline","ACCOUNT_BLOCK_SUCCESS","ACCOUNT_MUTE_SUCCESS","filterTimelines","ACCOUNT_UNFOLLOW_SUCCESS","filterTimeline","TIMELINE_SCROLL_TOP","updateTop","TIMELINE_CONNECT","reconnectTimeline","TIMELINE_DISCONNECT","TIMELINE_MARK_AS_PARTIAL","ALERT_SHOW","message_values","ALERT_DISMISS","alert","ALERT_CLEAR","loadingBar","loadingBarReducer","MODAL_OPEN","modalProps","pushModal","MODAL_CLOSE","COMPOSE_UPLOAD_CHANGE_SUCCESS","user_lists","FOLLOWERS_FETCH_SUCCESS","FOLLOWERS_EXPAND_SUCCESS","FOLLOWERS_FETCH_REQUEST","FOLLOWERS_EXPAND_REQUEST","FOLLOWERS_FETCH_FAIL","FOLLOWERS_EXPAND_FAIL","FOLLOWING_FETCH_SUCCESS","FOLLOWING_EXPAND_SUCCESS","FOLLOWING_FETCH_REQUEST","FOLLOWING_EXPAND_REQUEST","FOLLOWING_FETCH_FAIL","FOLLOWING_EXPAND_FAIL","REBLOGS_FETCH_SUCCESS","FAVOURITES_FETCH_SUCCESS","NOTIFICATIONS_UPDATE","normalizeFollowRequest","FOLLOW_REQUESTS_FETCH_SUCCESS","FOLLOW_REQUESTS_EXPAND_SUCCESS","FOLLOW_REQUESTS_FETCH_REQUEST","FOLLOW_REQUESTS_EXPAND_REQUEST","FOLLOW_REQUESTS_FETCH_FAIL","FOLLOW_REQUESTS_EXPAND_FAIL","FOLLOW_REQUEST_AUTHORIZE_SUCCESS","FOLLOW_REQUEST_REJECT_SUCCESS","domain_lists","status_lists","FAVOURITE_SUCCESS","UNFAVOURITE_SUCCESS","BOOKMARK_SUCCESS","UNBOOKMARK_SUCCESS","PIN_SUCCESS","UNPIN_SUCCESS","ACCOUNT_IMPORT","ACCOUNTS_IMPORT","normalizeAccounts","ACCOUNT_REVEAL","accounts_counters","ACCOUNT_FOLLOW_SUCCESS","alreadyFollowing","num","accounts_map","STATUS_IMPORT","STATUSES_IMPORT","importStatuses","FAVOURITE_REQUEST","FAVOURITE_FAIL","BOOKMARK_REQUEST","BOOKMARK_FAIL","REBLOG_REQUEST","REBLOG_FAIL","isCollapsed","relationships","ACCOUNT_FOLLOW_REQUEST","locked","ACCOUNT_FOLLOW_FAIL","ACCOUNT_UNFOLLOW_REQUEST","ACCOUNT_UNFOLLOW_FAIL","ACCOUNT_UNBLOCK_SUCCESS","ACCOUNT_UNMUTE_SUCCESS","ACCOUNT_PIN_SUCCESS","ACCOUNT_UNPIN_SUCCESS","RELATIONSHIPS_FETCH_SUCCESS","normalizeRelationships","hydrate","NOTIFICATIONS_FILTER_SET","SETTING_CHANGE","newColumns","EMOJI_USE","updateFrequentEmojis","updateFrequentLanguages","SETTING_SAVE","local_settings","deleteIn","push_notifications","push_subscription","endpoint","SET_SUBSCRIPTION","SET_BROWSER_SUPPORT","CLEAR_SUBSCRIPTION","SET_ALERTS","boosts","BOOSTS_INIT_MODAL","BOOSTS_CHANGE_PRIVACY","contexts","ownedStatusIds","filterContexts","addReply","in_reply_to_id","insert","updateContext","hydratedState","COMPOSE_MOUNT","COMPOSE_UNMOUNT","COMPOSE_ADVANCED_OPTIONS_CHANGE","option","COMPOSE_SENSITIVITY_CHANGE","COMPOSE_SPOILERNESS_CHANGE","COMPOSE_SPOILER_TEXT_CHANGE","COMPOSE_VISIBILITY_CHANGE","COMPOSE_CONTENT_TYPE_CHANGE","COMPOSE_CHANGE","COMPOSE_CYCLE_ELEFRIEND","COMPOSE_REPLY","statusToTextMentions","prependCWRe","COMPOSE_REPLY_CANCEL","COMPOSE_RESET","COMPOSE_SUBMIT_REQUEST","COMPOSE_UPLOAD_CHANGE_REQUEST","COMPOSE_SUBMIT_SUCCESS","COMPOSE_SUBMIT_FAIL","COMPOSE_UPLOAD_CHANGE_FAIL","COMPOSE_UPLOAD_REQUEST","COMPOSE_UPLOAD_SUCCESS","prevSize","appendMedia","COMPOSE_UPLOAD_FAIL","COMPOSE_UPLOAD_UNDO","mediaId","removeMedia","media_id","COMPOSE_UPLOAD_PROGRESS","total","THUMBNAIL_UPLOAD_REQUEST","THUMBNAIL_UPLOAD_PROGRESS","THUMBNAIL_UPLOAD_FAIL","THUMBNAIL_UPLOAD_SUCCESS","INIT_MEDIA_EDIT_MODAL","COMPOSE_CHANGE_MEDIA_DESCRIPTION","COMPOSE_CHANGE_MEDIA_FOCUS","COMPOSE_MENTION","COMPOSE_DIRECT","COMPOSE_SUGGESTIONS_CLEAR","COMPOSE_SUGGESTIONS_READY","token","personalHistory","usedA","usedB","sortHashtagsByUse","normalizeSuggestions","COMPOSE_SUGGESTION_SELECT","completion","oldText","insertSuggestion","COMPOSE_SUGGESTION_IGNORE","ignoreSuggestion","COMPOSE_SUGGESTION_TAGS_UPDATE","updateSuggestionTags","COMPOSE_TAG_HISTORY_UPDATE","COMPOSE_EMOJI_INSERT","emojiData","native","insertEmoji","COMPOSE_DOODLE_SET","mergeIn","fragment","parseFromString","innerHTML","expandMentions","COMPOSE_SET_STATUS","COMPOSE_POLL_ADD","COMPOSE_POLL_REMOVE","COMPOSE_POLL_OPTION_ADD","COMPOSE_POLL_OPTION_CHANGE","COMPOSE_POLL_OPTION_REMOVE","COMPOSE_POLL_SETTINGS_CHANGE","expiresIn","isMultiple","COMPOSE_LANGUAGE_CHANGE","st","MARKERS_FETCH_SUCCESS","markers","NOTIFICATIONS_MOUNT","updateMounted","NOTIFICATIONS_UNMOUNT","NOTIFICATIONS_SET_VISIBILITY","updateVisibility","NOTIFICATIONS_LOAD_PENDING","NOTIFICATIONS_EXPAND_REQUEST","NOTIFICATIONS_DELETE_MARKED_REQUEST","NOTIFICATIONS_DELETE_MARKED_FAIL","NOTIFICATIONS_EXPAND_FAIL","NOTIFICATIONS_SCROLL_TOP","normalizeNotification","NOTIFICATIONS_EXPAND_SUCCESS","mostRecent","expandNormalizedNotifications","muting_notifications","NOTIFICATIONS_CLEAR","deletedUnread","deleteByStatus","NOTIFICATIONS_SET_BROWSER_SUPPORT","NOTIFICATIONS_SET_BROWSER_PERMISSION","NOTIFICATION_MARK_FOR_DELETE","notificationId","yes","markForDelete","NOTIFICATIONS_DELETE_MARKED_SUCCESS","deleteMarkedNotifs","NOTIFICATIONS_ENTER_CLEARING_MODE","unmarkAllForDelete","NOTIFICATIONS_MARK_ALL_FOR_DELETE","markAllForDelete","NOTIFICATIONS_MARK_AS_READ","height_cache","ConvertToImmutable","emojiSearch","custom","buildCustomEmojis","normalizeLists","listEditor","listAdder","oldItem","newItemIndex","newItem","expandNormalizedConversations","updateConversation","pinnedAccountsEditor","PINNED_ACCOUNTS_EDITOR_RESET","PINNED_ACCOUNTS_FETCH_REQUEST","PINNED_ACCOUNTS_FETCH_FAIL","PINNED_ACCOUNTS_FETCH_SUCCESS","PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_CHANGE","PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_READY","PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_CLEAR","polls","POLLS_IMPORT","importPolls","MARKERS_SUBMIT_SUCCESS","account_notes","picture_in_picture","reverse","HASHTAG_FETCH_SUCCESS","HASHTAG_FOLLOW_REQUEST","HASHTAG_UNFOLLOW_FAIL","HASHTAG_FOLLOW_FAIL","HASHTAG_UNFOLLOW_REQUEST","defaultTypeSuffixes","createAudio","appReducer","config","promiseTypeSuffixes","PENDING","FULFILLED","REJECTED","isPending","isFulfilled","isRejected","showLoading","hideLoading","loadingBarMiddleware","isFail","defaultFailSuffix","skipNotFound","soundCache","boop","sound","pause","fastSeek","soundsMiddleware","__REDUX_DEVTOOLS_EXTENSION__","f","BundleModalError","ModalLoading","ActionsModal","renderAction","arrayOf","VideoModal","onChangeBackgroundColor","getAverageFromBlurhash","preview","frameRate","blurhash","startTime","defaultVolume","onCloseVideo","detailed","alt","withOpenButton","cancel_reblog","BoostModal","onChangeBoostPrivacy","changeBoostPrivacy","handleReblog","onReblog","handleAccountClick","mastodonBackSteps","_findContainer","getElementsByClassName","missingMediaDescription","buttonText","FavouriteModal","handleFavourite","onFavourite","AudioModal","accountStaticAvatar","palette","palReordered","row","col","DOODLE_SIZES","normal","tootbanner","s640x480","s800x600","s720x480","DoodleModal","setOpt","doodleSet","submit","handleClearBtn","undo","controlHeld","shiftHeld","setCanvasRef","elem","saveUndo","sketcher","initSketcher","onDoneButton","dataurl","filename","mime","bstr","u8arr","Uint8Array","File","dataURLtoFile","toImage","onCancelButton","undos","clearScreen","ctx","doSaveUndo","buf","onPaletteClick","dataset","blur","onPaletteRClick","setModeDraw","setModeFill","tglSmooth","tglAdaptive","setWeight","changeSize","newSize","oldSize","sizepreset","updateSketcherSettings","htmlFor","checked","onInput","defaultValue","onContextMenu","data-color","ConfirmationModal","closeWhenConfirm","onDoNotAsk","doNotAskCheckbox","handleSecondary","onSecondary","handleCancel","setDoNotAskRef","secondary","for","applying","chooseImage","discardMessage","discardConfirm","ImageLoader","Image","FocalPointModal","onSave","changeUploadCompose","toFixed","onChangeDescription","onChangeMediaDescription","onChangeFocus","onChangeMediaFocus","onSelectThumbnail","uploadThumbnail","dragging","ocrStatus","handleMouseMove","handleTouchStart","handleTouchEnd","getPointerPosition","handleSubmit","getCloseConfirmationMessage","handleTextDetection","_detectText","refreshCache","detecting","fetchTesseract","createWorker","worker","workerPath","tesseractWorkerPath","corePath","tesseractCorePath","langPath","assetHost","logger","cacheMethod","media_url","loadLanguage","initialize","recognize","terminate","handleThumbnailChange","setFileInputRef","fileInput","handleFileInputClick","click","focals","thumbnailable","descriptionLabel","ocrMessage","maxWidth","display","accept","autoFocus","onTouchStart","previewWidth","backgroundPosition","editable","discardChanges","user_setting_expand_spoilers","user_setting_disable_swiping","DeprecatedSettingsModal","illustration","app_settings","preferences","setting_name","preferenceLink","MODAL_COMPONENTS","MediaModal","ModalRoot","setBackgroundColor","modalId","_modal","setModalRef","getScrollbarWidth","visible","noEsc","confirmationMessage","closeModal","_isNumber","isNaN","isFinite","_capitalize","_getter","booleanProps","numericProps","stringProps","arrayProps","objectProps","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","argsStartIndex","argsEndIndex","locationString","Boolean","getNative","baseFor","Button","attrs","createBaseFor","fromRight","keysFunc","iterable","__importDefault","char_regex_1","begin","strLength","padString","padPosition","padRepeats","repeat","searchStr","pos","strArr","searchArr","finded","baseMatches","baseMatchesProperty","baseIsMatch","getMatchData","matchesStrictComparable","matchData","Stack","baseIsEqual","customizer","noCustomizer","objValue","COMPARE_PARTIAL_FLAG","isStrictComparable","baseGet","memoizeCapped","rePropName","reEscapeChar","quote","subString","memoize","MapCache","resolver","memoized","Cache","baseToString","arrayMap","symbolProto","symbolToString","_elementType2","_Portal2","_Position2","_RootCloseWrapper2","Overlay","handleHidden","_this$props","exited","onExited","onHiddenListener","rootClose","Transition","onExit","onExiting","onEnter","onEntering","onEntered","appear","onHide","rootCloseEvent","baseHasIn","hasPath","isArguments","isIndex","isLength","hasFunc","baseProperty","basePropertyDeep","Mouse","_Point","_down","_px","_py","d","_x","_y","Point","HASHTAG_FETCH_REQUEST","HASHTAG_FETCH_FAIL","fetchHashtag","fetchHashtagRequest","fetchHashtagSuccess","fetchHashtagFail","followHashtag","followHashtagRequest","followHashtagSuccess","followHashtagFail","unfollowHashtag","unfollowHashtagRequest","unfollowHashtagSuccess","unfollowHashtagFail","_skipValidation","_sourcesContents","newMapping","_validateMapping","applySourceMap","aSourceMapPath","newSources","newNames","aGenerated","aOriginal","_serializeMappings","nameIdx","sourceIdx","previousGeneratedLine","aSources","toJSON","base64","digit","encoded","vlq","toVLQSigned","VLQ_BASE","aIndex","aOutParam","continuation","shifted","strLen","_set","aArray","aAllowDuplicates","getOwnPropertyNames","sStr","isDuplicate","aIdx","getAlerts","dismissAlert","ownProps","scope","LoadingBar","WrappedComponent","ErrorStackParser","StackGenerator","_options","_generateError","_merge","second","_isShapedLikeParsableError","_filtered","generateArtificially","getSync","gps","resolveOriginal","stackFrames","instrument","errback","thisArg","__stacktraceOriginalFn","instrumented","deinstrument","errorMsg","requestOptions","setRequestHeader","headers","header","reportPayload"],"mappings":"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","file":"js/382-988b844d3e685de6f2bf.chunk.js","sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n} // About 1.5x faster than the two-arg version of Array#splice()\n\n\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n} // This implementation is based heavily on node's url.parse\n\n\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n  var hasTrailingSlash;\n\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n  if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n  var result = fromParts.join('/');\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n  return result;\n}\n\nexport default resolvePathname;","function valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true; // Otherwise, if either of them == null they are not equal.\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n    return Object.keys(Object.assign({}, a, b)).every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction) {\n    throw new Error(prefix);\n  }\n\n  throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\n\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\n\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\n\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\n\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\n\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\n\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\n\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('error-stack-parser', ['stackframe'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('stackframe'));\n  } else {\n    root.ErrorStackParser = factory(root.StackFrame);\n  }\n})(this, function ErrorStackParser(StackFrame) {\n  'use strict';\n\n  var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n  var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n  var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n  return {\n    /**\n     * Given an Error object, extract the most information from it.\n     *\n     * @param {Error} error object\n     * @return {Array} of StackFrames\n     */\n    parse: function ErrorStackParser$$parse(error) {\n      if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n        return this.parseOpera(error);\n      } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n        return this.parseV8OrIE(error);\n      } else if (error.stack) {\n        return this.parseFFOrSafari(error);\n      } else {\n        throw new Error('Cannot parse given Error object');\n      }\n    },\n    // Separate line and column numbers from a string of the form: (URI:Line:Column)\n    extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n      // Fail-fast but return locations like \"(native)\"\n      if (urlLike.indexOf(':') === -1) {\n        return [urlLike];\n      }\n\n      var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n      var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n      return [parts[1], parts[2] || undefined, parts[3] || undefined];\n    },\n    parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !!line.match(CHROME_IE_STACK_REGEXP);\n      }, this);\n      return filtered.map(function (line) {\n        if (line.indexOf('(eval ') > -1) {\n          // Throw away eval information until we implement stacktrace.js/stackframe#8\n          line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n        }\n\n        var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '('); // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n        // case it has spaces in it, as the string is split on \\s+ later on\n\n        var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/); // remove the parenthesized location from the line, if it was matched\n\n        sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n        var tokens = sanitizedLine.split(/\\s+/).slice(1); // if a location was matched, pass it to extractLocation() otherwise pop the last token\n\n        var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n        var functionName = tokens.join(' ') || undefined;\n        var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n        return new StackFrame({\n          functionName: functionName,\n          fileName: fileName,\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2],\n          source: line\n        });\n      }, this);\n    },\n    parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n      }, this);\n      return filtered.map(function (line) {\n        // Throw away eval information until we implement stacktrace.js/stackframe#8\n        if (line.indexOf(' > eval') > -1) {\n          line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n        }\n\n        if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n          // Safari eval frames only have function names and nothing else\n          return new StackFrame({\n            functionName: line\n          });\n        } else {\n          var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n          var matches = line.match(functionNameRegex);\n          var functionName = matches && matches[1] ? matches[1] : undefined;\n          var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n          return new StackFrame({\n            functionName: functionName,\n            fileName: locationParts[0],\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }\n      }, this);\n    },\n    parseOpera: function ErrorStackParser$$parseOpera(e) {\n      if (!e.stacktrace || e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n        return this.parseOpera9(e);\n      } else if (!e.stack) {\n        return this.parseOpera10(e);\n      } else {\n        return this.parseOpera11(e);\n      }\n    },\n    parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n      var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n      var lines = e.message.split('\\n');\n      var result = [];\n\n      for (var i = 2, len = lines.length; i < len; i += 2) {\n        var match = lineRE.exec(lines[i]);\n\n        if (match) {\n          result.push(new StackFrame({\n            fileName: match[2],\n            lineNumber: match[1],\n            source: lines[i]\n          }));\n        }\n      }\n\n      return result;\n    },\n    parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n      var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n      var lines = e.stacktrace.split('\\n');\n      var result = [];\n\n      for (var i = 0, len = lines.length; i < len; i += 2) {\n        var match = lineRE.exec(lines[i]);\n\n        if (match) {\n          result.push(new StackFrame({\n            functionName: match[3] || undefined,\n            fileName: match[2],\n            lineNumber: match[1],\n            source: lines[i]\n          }));\n        }\n      }\n\n      return result;\n    },\n    // Opera 10.65+ Error.stack very similar to FF/Safari\n    parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n      }, this);\n      return filtered.map(function (line) {\n        var tokens = line.split('@');\n        var locationParts = this.extractLocation(tokens.pop());\n        var functionCall = tokens.shift() || '';\n        var functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, '$2').replace(/\\([^)]*\\)/g, '') || undefined;\n        var argsRaw;\n\n        if (functionCall.match(/\\(([^)]*)\\)/)) {\n          argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n        }\n\n        var args = argsRaw === undefined || argsRaw === '[arguments not available]' ? undefined : argsRaw.split(',');\n        return new StackFrame({\n          functionName: functionName,\n          args: args,\n          fileName: locationParts[0],\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2],\n          source: line\n        });\n      }, this);\n    }\n  };\n});","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stack-generator', ['stackframe'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('stackframe'));\n  } else {\n    root.StackGenerator = factory(root.StackFrame);\n  }\n})(this, function (StackFrame) {\n  return {\n    backtrace: function StackGenerator$$backtrace(opts) {\n      var stack = [];\n      var maxStackSize = 10;\n\n      if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n        maxStackSize = opts.maxStackSize;\n      }\n\n      var curr = arguments.callee;\n\n      while (curr && stack.length < maxStackSize && curr['arguments']) {\n        // Allow V8 optimizations\n        var args = new Array(curr['arguments'].length);\n\n        for (var i = 0; i < args.length; ++i) {\n          args[i] = curr['arguments'][i];\n        }\n\n        if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n          stack.push(new StackFrame({\n            functionName: RegExp.$1 || undefined,\n            args: args\n          }));\n        } else {\n          stack.push(new StackFrame({\n            args: args\n          }));\n        }\n\n        try {\n          curr = curr.caller;\n        } catch (e) {\n          break;\n        }\n      }\n\n      return stack;\n    }\n  };\n});","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stacktrace-gps', ['source-map', 'stackframe'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('source-map/lib/source-map-consumer'), require('stackframe'));\n  } else {\n    root.StackTraceGPS = factory(root.SourceMap || root.sourceMap, root.StackFrame);\n  }\n})(this, function (SourceMap, StackFrame) {\n  'use strict';\n  /**\n   * Make a X-Domain request to url and callback.\n   *\n   * @param {String} url\n   * @returns {Promise} with response text if fulfilled\n   */\n\n  function _xdr(url) {\n    return new Promise(function (resolve, reject) {\n      var req = new XMLHttpRequest();\n      req.open('get', url);\n      req.onerror = reject;\n\n      req.onreadystatechange = function onreadystatechange() {\n        if (req.readyState === 4) {\n          if (req.status >= 200 && req.status < 300 || url.substr(0, 7) === 'file://' && req.responseText) {\n            resolve(req.responseText);\n          } else {\n            reject(new Error('HTTP status: ' + req.status + ' retrieving ' + url));\n          }\n        }\n      };\n\n      req.send();\n    });\n  }\n  /**\n   * Convert a Base64-encoded string into its original representation.\n   * Used for inline sourcemaps.\n   *\n   * @param {String} b64str Base-64 encoded string\n   * @returns {String} original representation of the base64-encoded string.\n   */\n\n\n  function _atob(b64str) {\n    if (typeof window !== 'undefined' && window.atob) {\n      return window.atob(b64str);\n    } else {\n      throw new Error('You must supply a polyfill for window.atob in this environment');\n    }\n  }\n\n  function _parseJson(string) {\n    if (typeof JSON !== 'undefined' && JSON.parse) {\n      return JSON.parse(string);\n    } else {\n      throw new Error('You must supply a polyfill for JSON.parse in this environment');\n    }\n  }\n\n  function _findFunctionName(source, lineNumber\n  /*, columnNumber*/\n  ) {\n    var syntaxes = [// {name} = function ({args}) TODO args capture\n    /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/, // function {name}({args}) m[1]=name m[2]=args\n    /function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/, // {name} = eval()\n    /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/, // fn_name() {\n    /\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/, // {name} = () => {\n    /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/];\n    var lines = source.split('\\n'); // Walk backwards in the source lines until we find the line which matches one of the patterns above\n\n    var code = '';\n    var maxLines = Math.min(lineNumber, 20);\n\n    for (var i = 0; i < maxLines; ++i) {\n      // lineNo is 1-based, source[] is 0-based\n      var line = lines[lineNumber - i - 1];\n      var commentPos = line.indexOf('//');\n\n      if (commentPos >= 0) {\n        line = line.substr(0, commentPos);\n      }\n\n      if (line) {\n        code = line + code;\n        var len = syntaxes.length;\n\n        for (var index = 0; index < len; index++) {\n          var m = syntaxes[index].exec(code);\n\n          if (m && m[1]) {\n            return m[1];\n          }\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  function _ensureSupportedEnvironment() {\n    if (typeof Object.defineProperty !== 'function' || typeof Object.create !== 'function') {\n      throw new Error('Unable to consume source maps in older browsers');\n    }\n  }\n\n  function _ensureStackFrameIsLegit(stackframe) {\n    if (typeof stackframe !== 'object') {\n      throw new TypeError('Given StackFrame is not an object');\n    } else if (typeof stackframe.fileName !== 'string') {\n      throw new TypeError('Given file name is not a String');\n    } else if (typeof stackframe.lineNumber !== 'number' || stackframe.lineNumber % 1 !== 0 || stackframe.lineNumber < 1) {\n      throw new TypeError('Given line number must be a positive integer');\n    } else if (typeof stackframe.columnNumber !== 'number' || stackframe.columnNumber % 1 !== 0 || stackframe.columnNumber < 0) {\n      throw new TypeError('Given column number must be a non-negative integer');\n    }\n\n    return true;\n  }\n\n  function _findSourceMappingURL(source) {\n    var sourceMappingUrlRegExp = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/mg;\n    var lastSourceMappingUrl;\n    var matchSourceMappingUrl; // eslint-disable-next-line no-cond-assign\n\n    while (matchSourceMappingUrl = sourceMappingUrlRegExp.exec(source)) {\n      lastSourceMappingUrl = matchSourceMappingUrl[1];\n    }\n\n    if (lastSourceMappingUrl) {\n      return lastSourceMappingUrl;\n    } else {\n      throw new Error('sourceMappingURL not found');\n    }\n  }\n\n  function _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache) {\n    return new Promise(function (resolve, reject) {\n      var loc = sourceMapConsumer.originalPositionFor({\n        line: stackframe.lineNumber,\n        column: stackframe.columnNumber\n      });\n\n      if (loc.source) {\n        // cache mapped sources\n        var mappedSource = sourceMapConsumer.sourceContentFor(loc.source);\n\n        if (mappedSource) {\n          sourceCache[loc.source] = mappedSource;\n        }\n\n        resolve( // given stackframe and source location, update stackframe\n        new StackFrame({\n          functionName: loc.name || stackframe.functionName,\n          args: stackframe.args,\n          fileName: loc.source,\n          lineNumber: loc.line,\n          columnNumber: loc.column\n        }));\n      } else {\n        reject(new Error('Could not get original source for given stackframe and source map'));\n      }\n    });\n  }\n  /**\n   * @constructor\n   * @param {Object} opts\n   *      opts.sourceCache = {url: \"Source String\"} => preload source cache\n   *      opts.sourceMapConsumerCache = {/path/file.js.map: SourceMapConsumer}\n   *      opts.offline = True to prevent network requests.\n   *              Best effort without sources or source maps.\n   *      opts.ajax = Promise returning function to make X-Domain requests\n   */\n\n\n  return function StackTraceGPS(opts) {\n    if (!(this instanceof StackTraceGPS)) {\n      return new StackTraceGPS(opts);\n    }\n\n    opts = opts || {};\n    this.sourceCache = opts.sourceCache || {};\n    this.sourceMapConsumerCache = opts.sourceMapConsumerCache || {};\n    this.ajax = opts.ajax || _xdr;\n    this._atob = opts.atob || _atob;\n\n    this._get = function _get(location) {\n      return new Promise(function (resolve, reject) {\n        var isDataUrl = location.substr(0, 5) === 'data:';\n\n        if (this.sourceCache[location]) {\n          resolve(this.sourceCache[location]);\n        } else if (opts.offline && !isDataUrl) {\n          reject(new Error('Cannot make network requests in offline mode'));\n        } else {\n          if (isDataUrl) {\n            // data URLs can have parameters.\n            // see http://tools.ietf.org/html/rfc2397\n            var supportedEncodingRegexp = /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\n            var match = location.match(supportedEncodingRegexp);\n\n            if (match) {\n              var sourceMapStart = match[0].length;\n              var encodedSource = location.substr(sourceMapStart);\n\n              var source = this._atob(encodedSource);\n\n              this.sourceCache[location] = source;\n              resolve(source);\n            } else {\n              reject(new Error('The encoding of the inline sourcemap is not supported'));\n            }\n          } else {\n            var xhrPromise = this.ajax(location, {\n              method: 'get'\n            }); // Cache the Promise to prevent duplicate in-flight requests\n\n            this.sourceCache[location] = xhrPromise;\n            xhrPromise.then(resolve, reject);\n          }\n        }\n      }.bind(this));\n    };\n    /**\n     * Creating SourceMapConsumers is expensive, so this wraps the creation of a\n     * SourceMapConsumer in a per-instance cache.\n     *\n     * @param {String} sourceMappingURL = URL to fetch source map from\n     * @param {String} defaultSourceRoot = Default source root for source map if undefined\n     * @returns {Promise} that resolves a SourceMapConsumer\n     */\n\n\n    this._getSourceMapConsumer = function _getSourceMapConsumer(sourceMappingURL, defaultSourceRoot) {\n      return new Promise(function (resolve) {\n        if (this.sourceMapConsumerCache[sourceMappingURL]) {\n          resolve(this.sourceMapConsumerCache[sourceMappingURL]);\n        } else {\n          var sourceMapConsumerPromise = new Promise(function (resolve, reject) {\n            return this._get(sourceMappingURL).then(function (sourceMapSource) {\n              if (typeof sourceMapSource === 'string') {\n                sourceMapSource = _parseJson(sourceMapSource.replace(/^\\)\\]\\}'/, ''));\n              }\n\n              if (typeof sourceMapSource.sourceRoot === 'undefined') {\n                sourceMapSource.sourceRoot = defaultSourceRoot;\n              }\n\n              resolve(new SourceMap.SourceMapConsumer(sourceMapSource));\n            }, reject);\n          }.bind(this));\n          this.sourceMapConsumerCache[sourceMappingURL] = sourceMapConsumerPromise;\n          resolve(sourceMapConsumerPromise);\n        }\n      }.bind(this));\n    };\n    /**\n     * Given a StackFrame, enhance function name and use source maps for a\n     * better StackFrame.\n     *\n     * @param {StackFrame} stackframe object\n     * @returns {Promise} that resolves with with source-mapped StackFrame\n     */\n\n\n    this.pinpoint = function StackTraceGPS$$pinpoint(stackframe) {\n      return new Promise(function (resolve, reject) {\n        this.getMappedLocation(stackframe).then(function (mappedStackFrame) {\n          function resolveMappedStackFrame() {\n            resolve(mappedStackFrame);\n          }\n\n          this.findFunctionName(mappedStackFrame).then(resolve, resolveMappedStackFrame) // eslint-disable-next-line no-unexpected-multiline\n          ['catch'](resolveMappedStackFrame);\n        }.bind(this), reject);\n      }.bind(this));\n    };\n    /**\n     * Given a StackFrame, guess function name from location information.\n     *\n     * @param {StackFrame} stackframe\n     * @returns {Promise} that resolves with enhanced StackFrame.\n     */\n\n\n    this.findFunctionName = function StackTraceGPS$$findFunctionName(stackframe) {\n      return new Promise(function (resolve, reject) {\n        _ensureStackFrameIsLegit(stackframe);\n\n        this._get(stackframe.fileName).then(function getSourceCallback(source) {\n          var lineNumber = stackframe.lineNumber;\n          var columnNumber = stackframe.columnNumber;\n\n          var guessedFunctionName = _findFunctionName(source, lineNumber, columnNumber); // Only replace functionName if we found something\n\n\n          if (guessedFunctionName) {\n            resolve(new StackFrame({\n              functionName: guessedFunctionName,\n              args: stackframe.args,\n              fileName: stackframe.fileName,\n              lineNumber: lineNumber,\n              columnNumber: columnNumber\n            }));\n          } else {\n            resolve(stackframe);\n          }\n        }, reject)['catch'](reject);\n      }.bind(this));\n    };\n    /**\n     * Given a StackFrame, seek source-mapped location and return new enhanced StackFrame.\n     *\n     * @param {StackFrame} stackframe\n     * @returns {Promise} that resolves with enhanced StackFrame.\n     */\n\n\n    this.getMappedLocation = function StackTraceGPS$$getMappedLocation(stackframe) {\n      return new Promise(function (resolve, reject) {\n        _ensureSupportedEnvironment();\n\n        _ensureStackFrameIsLegit(stackframe);\n\n        var sourceCache = this.sourceCache;\n        var fileName = stackframe.fileName;\n\n        this._get(fileName).then(function (source) {\n          var sourceMappingURL = _findSourceMappingURL(source);\n\n          var isDataUrl = sourceMappingURL.substr(0, 5) === 'data:';\n          var defaultSourceRoot = fileName.substring(0, fileName.lastIndexOf('/') + 1);\n\n          if (sourceMappingURL[0] !== '/' && !isDataUrl && !/^https?:\\/\\/|^\\/\\//i.test(sourceMappingURL)) {\n            sourceMappingURL = defaultSourceRoot + sourceMappingURL;\n          }\n\n          return this._getSourceMapConsumer(sourceMappingURL, defaultSourceRoot).then(function (sourceMapConsumer) {\n            return _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache).then(resolve)['catch'](function () {\n              resolve(stackframe);\n            });\n          });\n        }.bind(this), reject)['catch'](reject);\n      }.bind(this));\n    };\n  };\n});","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\n\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\n\n\nexports.decode = function (charCode) {\n  var bigA = 65; // 'A'\n\n  var bigZ = 90; // 'Z'\n\n  var littleA = 97; // 'a'\n\n  var littleZ = 122; // 'z'\n\n  var zero = 48; // '0'\n\n  var nine = 57; // '9'\n\n  var plus = 43; // '+'\n\n  var slash = 47; // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52; // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n\n  if (bigA <= charCode && charCode <= bigZ) {\n    return charCode - bigA;\n  } // 26 - 51: abcdefghijklmnopqrstuvwxyz\n\n\n  if (littleA <= charCode && charCode <= littleZ) {\n    return charCode - littleA + littleOffset;\n  } // 52 - 61: 0123456789\n\n\n  if (zero <= charCode && charCode <= nine) {\n    return charCode - zero + numberOffset;\n  } // 62: +\n\n\n  if (charCode == plus) {\n    return 62;\n  } // 63: /\n\n\n  if (charCode == slash) {\n    return 63;\n  } // Invalid base64 digit.\n\n\n  return -1;\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar util = require('./util');\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\n\n\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA || util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\n\n\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true; // Serves as infimum\n\n  this._last = {\n    generatedLine: -1,\n    generatedColumn: 0\n  };\n}\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\n\n\nMappingList.prototype.unsortedForEach = function MappingList_forEach(aCallback, aThisArg) {\n  this._array.forEach(aCallback, aThisArg);\n};\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\n\n\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n\n    this._array.push(aMapping);\n  }\n};\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\n\n\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n\n    this._sorted = true;\n  }\n\n  return this._array;\n};\n\nexports.MappingList = MappingList;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar util = require('./util');\n\nvar binarySearch = require('./binary-search');\n\nvar ArraySet = require('./array-set').ArraySet;\n\nvar base64VLQ = require('./base64-vlq');\n\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  return sourceMap.sections != null ? new IndexedSourceMapConsumer(sourceMap) : new BasicSourceMapConsumer(sourceMap);\n}\n\nSourceMapConsumer.fromSourceMap = function (aSourceMap) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap);\n};\n/**\n * The version of the source mapping spec that we are consuming.\n */\n\n\nSourceMapConsumer.prototype._version = 3; // `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator = function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n  var c = aStr.charAt(index);\n  return c === \";\" || c === \",\";\n};\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\n\nSourceMapConsumer.prototype._parseMappings = function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n  throw new Error(\"Subclasses must implement _parseMappings\");\n};\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\n\nSourceMapConsumer.prototype.eachMapping = function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n  var context = aContext || null;\n  var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n  var mappings;\n\n  switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n  }\n\n  var sourceRoot = this.sourceRoot;\n  mappings.map(function (mapping) {\n    var source = mapping.source === null ? null : this._sources.at(mapping.source);\n\n    if (source != null && sourceRoot != null) {\n      source = util.join(sourceRoot, source);\n    }\n\n    return {\n      source: source,\n      generatedLine: mapping.generatedLine,\n      generatedColumn: mapping.generatedColumn,\n      originalLine: mapping.originalLine,\n      originalColumn: mapping.originalColumn,\n      name: mapping.name === null ? null : this._names.at(mapping.name)\n    };\n  }, this).forEach(aCallback, context);\n};\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: Optional. the column number in the original source.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\n\n\nSourceMapConsumer.prototype.allGeneratedPositionsFor = function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n  var line = util.getArg(aArgs, 'line'); // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n  // returns the index of the closest mapping less than the needle. By\n  // setting needle.originalColumn to 0, we thus find the last mapping for\n  // the given line, provided such a mapping exists.\n\n  var needle = {\n    source: util.getArg(aArgs, 'source'),\n    originalLine: line,\n    originalColumn: util.getArg(aArgs, 'column', 0)\n  };\n\n  if (this.sourceRoot != null) {\n    needle.source = util.relative(this.sourceRoot, needle.source);\n  }\n\n  if (!this._sources.has(needle.source)) {\n    return [];\n  }\n\n  needle.source = this._sources.indexOf(needle.source);\n  var mappings = [];\n\n  var index = this._findMapping(needle, this._originalMappings, \"originalLine\", \"originalColumn\", util.compareByOriginalPositions, binarySearch.LEAST_UPPER_BOUND);\n\n  if (index >= 0) {\n    var mapping = this._originalMappings[index];\n\n    if (aArgs.column === undefined) {\n      var originalLine = mapping.originalLine; // Iterate until either we run out of mappings, or we run into\n      // a mapping for a different line than the one we found. Since\n      // mappings are sorted, this is guaranteed to find all mappings for\n      // the line we found.\n\n      while (mapping && mapping.originalLine === originalLine) {\n        mappings.push({\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        });\n        mapping = this._originalMappings[++index];\n      }\n    } else {\n      var originalColumn = mapping.originalColumn; // Iterate until either we run out of mappings, or we run into\n      // a mapping for a different line than the one we were searching for.\n      // Since mappings are sorted, this is guaranteed to find all mappings for\n      // the line we are searching for.\n\n      while (mapping && mapping.originalLine === line && mapping.originalColumn == originalColumn) {\n        mappings.push({\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        });\n        mapping = this._originalMappings[++index];\n      }\n    }\n  }\n\n  return mappings;\n};\n\nexports.SourceMapConsumer = SourceMapConsumer;\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The only parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\n\nfunction BasicSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources'); // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null); // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  sources = sources.map(String) // Some source maps produce relative source paths like \"./foo.js\" instead of\n  // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n  // See bugzil.la/1090768.\n  .map(util.normalize) // Always ensure that absolute sources are internally stored relative to\n  // the source root, if the source root is absolute. Not doing this would\n  // be particularly problematic when the source root is a prefix of the\n  // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n  .map(function (source) {\n    return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source) ? util.relative(sourceRoot, source) : source;\n  }); // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @returns BasicSourceMapConsumer\n */\n\nBasicSourceMapConsumer.fromSourceMap = function SourceMapConsumer_fromSourceMap(aSourceMap) {\n  var smc = Object.create(BasicSourceMapConsumer.prototype);\n  var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n  var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n  smc.sourceRoot = aSourceMap._sourceRoot;\n  smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(), smc.sourceRoot);\n  smc.file = aSourceMap._file; // Because we are modifying the entries (by converting string sources and\n  // names to indices into the sources and names ArraySets), we have to make\n  // a copy of the entry or else bad things happen. Shared mutable state\n  // strikes again! See github issue #191.\n\n  var generatedMappings = aSourceMap._mappings.toArray().slice();\n\n  var destGeneratedMappings = smc.__generatedMappings = [];\n  var destOriginalMappings = smc.__originalMappings = [];\n\n  for (var i = 0, length = generatedMappings.length; i < length; i++) {\n    var srcMapping = generatedMappings[i];\n    var destMapping = new Mapping();\n    destMapping.generatedLine = srcMapping.generatedLine;\n    destMapping.generatedColumn = srcMapping.generatedColumn;\n\n    if (srcMapping.source) {\n      destMapping.source = sources.indexOf(srcMapping.source);\n      destMapping.originalLine = srcMapping.originalLine;\n      destMapping.originalColumn = srcMapping.originalColumn;\n\n      if (srcMapping.name) {\n        destMapping.name = names.indexOf(srcMapping.name);\n      }\n\n      destOriginalMappings.push(destMapping);\n    }\n\n    destGeneratedMappings.push(destMapping);\n  }\n\n  quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n  return smc;\n};\n/**\n * The version of the source mapping spec that we are consuming.\n */\n\n\nBasicSourceMapConsumer.prototype._version = 3;\n/**\n * The list of original sources.\n */\n\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._sources.toArray().map(function (s) {\n      return this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\n    }, this);\n  }\n});\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\n\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\n\nBasicSourceMapConsumer.prototype._parseMappings = function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n  var generatedLine = 1;\n  var previousGeneratedColumn = 0;\n  var previousOriginalLine = 0;\n  var previousOriginalColumn = 0;\n  var previousSource = 0;\n  var previousName = 0;\n  var length = aStr.length;\n  var index = 0;\n  var cachedSegments = {};\n  var temp = {};\n  var originalMappings = [];\n  var generatedMappings = [];\n  var mapping, str, segment, end, value;\n\n  while (index < length) {\n    if (aStr.charAt(index) === ';') {\n      generatedLine++;\n      index++;\n      previousGeneratedColumn = 0;\n    } else if (aStr.charAt(index) === ',') {\n      index++;\n    } else {\n      mapping = new Mapping();\n      mapping.generatedLine = generatedLine; // Because each offset is encoded relative to the previous one,\n      // many segments often have the same encoding. We can exploit this\n      // fact by caching the parsed variable length fields of each segment,\n      // allowing us to avoid a second parse if we encounter the same\n      // segment again.\n\n      for (end = index; end < length; end++) {\n        if (this._charIsMappingSeparator(aStr, end)) {\n          break;\n        }\n      }\n\n      str = aStr.slice(index, end);\n      segment = cachedSegments[str];\n\n      if (segment) {\n        index += str.length;\n      } else {\n        segment = [];\n\n        while (index < end) {\n          base64VLQ.decode(aStr, index, temp);\n          value = temp.value;\n          index = temp.rest;\n          segment.push(value);\n        }\n\n        if (segment.length === 2) {\n          throw new Error('Found a source, but no line and column');\n        }\n\n        if (segment.length === 3) {\n          throw new Error('Found a source and line, but no column');\n        }\n\n        cachedSegments[str] = segment;\n      } // Generated column.\n\n\n      mapping.generatedColumn = previousGeneratedColumn + segment[0];\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (segment.length > 1) {\n        // Original source.\n        mapping.source = previousSource + segment[1];\n        previousSource += segment[1]; // Original line.\n\n        mapping.originalLine = previousOriginalLine + segment[2];\n        previousOriginalLine = mapping.originalLine; // Lines are stored 0-based\n\n        mapping.originalLine += 1; // Original column.\n\n        mapping.originalColumn = previousOriginalColumn + segment[3];\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (segment.length > 4) {\n          // Original name.\n          mapping.name = previousName + segment[4];\n          previousName += segment[4];\n        }\n      }\n\n      generatedMappings.push(mapping);\n\n      if (typeof mapping.originalLine === 'number') {\n        originalMappings.push(mapping);\n      }\n    }\n  }\n\n  quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n  this.__generatedMappings = generatedMappings;\n  quickSort(originalMappings, util.compareByOriginalPositions);\n  this.__originalMappings = originalMappings;\n};\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\n\n\nBasicSourceMapConsumer.prototype._findMapping = function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName, aColumnName, aComparator, aBias) {\n  // To return the position we are searching for, we must first find the\n  // mapping for the given position and then return the opposite position it\n  // points to. Because the mappings are sorted, we can use binary search to\n  // find the best mapping.\n  if (aNeedle[aLineName] <= 0) {\n    throw new TypeError('Line must be greater than or equal to 1, got ' + aNeedle[aLineName]);\n  }\n\n  if (aNeedle[aColumnName] < 0) {\n    throw new TypeError('Column must be greater than or equal to 0, got ' + aNeedle[aColumnName]);\n  }\n\n  return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n};\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\n\n\nBasicSourceMapConsumer.prototype.computeColumnSpans = function SourceMapConsumer_computeColumnSpans() {\n  for (var index = 0; index < this._generatedMappings.length; ++index) {\n    var mapping = this._generatedMappings[index]; // Mappings do not contain a field for the last generated columnt. We\n    // can come up with an optimistic estimate, however, by assuming that\n    // mappings are contiguous (i.e. given two consecutive mappings, the\n    // first mapping ends where the second one starts).\n\n    if (index + 1 < this._generatedMappings.length) {\n      var nextMapping = this._generatedMappings[index + 1];\n\n      if (mapping.generatedLine === nextMapping.generatedLine) {\n        mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n        continue;\n      }\n    } // The last mapping for each line spans the entire line.\n\n\n    mapping.lastGeneratedColumn = Infinity;\n  }\n};\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\n\n\nBasicSourceMapConsumer.prototype.originalPositionFor = function SourceMapConsumer_originalPositionFor(aArgs) {\n  var needle = {\n    generatedLine: util.getArg(aArgs, 'line'),\n    generatedColumn: util.getArg(aArgs, 'column')\n  };\n\n  var index = this._findMapping(needle, this._generatedMappings, \"generatedLine\", \"generatedColumn\", util.compareByGeneratedPositionsDeflated, util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND));\n\n  if (index >= 0) {\n    var mapping = this._generatedMappings[index];\n\n    if (mapping.generatedLine === needle.generatedLine) {\n      var source = util.getArg(mapping, 'source', null);\n\n      if (source !== null) {\n        source = this._sources.at(source);\n\n        if (this.sourceRoot != null) {\n          source = util.join(this.sourceRoot, source);\n        }\n      }\n\n      var name = util.getArg(mapping, 'name', null);\n\n      if (name !== null) {\n        name = this._names.at(name);\n      }\n\n      return {\n        source: source,\n        line: util.getArg(mapping, 'originalLine', null),\n        column: util.getArg(mapping, 'originalColumn', null),\n        name: name\n      };\n    }\n  }\n\n  return {\n    source: null,\n    line: null,\n    column: null,\n    name: null\n  };\n};\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\n\n\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources = function BasicSourceMapConsumer_hasContentsOfAllSources() {\n  if (!this.sourcesContent) {\n    return false;\n  }\n\n  return this.sourcesContent.length >= this._sources.size() && !this.sourcesContent.some(function (sc) {\n    return sc == null;\n  });\n};\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\n\n\nBasicSourceMapConsumer.prototype.sourceContentFor = function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n  if (!this.sourcesContent) {\n    return null;\n  }\n\n  if (this.sourceRoot != null) {\n    aSource = util.relative(this.sourceRoot, aSource);\n  }\n\n  if (this._sources.has(aSource)) {\n    return this.sourcesContent[this._sources.indexOf(aSource)];\n  }\n\n  var url;\n\n  if (this.sourceRoot != null && (url = util.urlParse(this.sourceRoot))) {\n    // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n    // many users. We can help them out when they expect file:// URIs to\n    // behave like it would if they were running a local HTTP server. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n    var fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\n\n    if (url.scheme == \"file\" && this._sources.has(fileUriAbsPath)) {\n      return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];\n    }\n\n    if ((!url.path || url.path == \"/\") && this._sources.has(\"/\" + aSource)) {\n      return this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\n    }\n  } // This function is used recursively from\n  // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n  // don't want to throw if we can't find the source - we just want to\n  // return null, so we provide a flag to exit gracefully.\n\n\n  if (nullOnMissing) {\n    return null;\n  } else {\n    throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n  }\n};\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\n\n\nBasicSourceMapConsumer.prototype.generatedPositionFor = function SourceMapConsumer_generatedPositionFor(aArgs) {\n  var source = util.getArg(aArgs, 'source');\n\n  if (this.sourceRoot != null) {\n    source = util.relative(this.sourceRoot, source);\n  }\n\n  if (!this._sources.has(source)) {\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  }\n\n  source = this._sources.indexOf(source);\n  var needle = {\n    source: source,\n    originalLine: util.getArg(aArgs, 'line'),\n    originalColumn: util.getArg(aArgs, 'column')\n  };\n\n  var index = this._findMapping(needle, this._originalMappings, \"originalLine\", \"originalColumn\", util.compareByOriginalPositions, util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND));\n\n  if (index >= 0) {\n    var mapping = this._originalMappings[index];\n\n    if (mapping.source === needle.source) {\n      return {\n        line: util.getArg(mapping, 'generatedLine', null),\n        column: util.getArg(mapping, 'generatedColumn', null),\n        lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n      };\n    }\n  }\n\n  return {\n    line: null,\n    column: null,\n    lastColumn: null\n  };\n};\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The only parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\n\nfunction IndexedSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line || offsetLine === lastOffset.line && offsetColumn < lastOffset.column) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n\n    lastOffset = offset;\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'))\n    };\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n/**\n * The version of the source mapping spec that we are consuming.\n */\n\nIndexedSourceMapConsumer.prototype._version = 3;\n/**\n * The list of original sources.\n */\n\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n\n    return sources;\n  }\n});\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\n\nIndexedSourceMapConsumer.prototype.originalPositionFor = function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n  var needle = {\n    generatedLine: util.getArg(aArgs, 'line'),\n    generatedColumn: util.getArg(aArgs, 'column')\n  }; // Find the section containing the generated position we're trying to map\n  // to an original position.\n\n  var sectionIndex = binarySearch.search(needle, this._sections, function (needle, section) {\n    var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n\n    if (cmp) {\n      return cmp;\n    }\n\n    return needle.generatedColumn - section.generatedOffset.generatedColumn;\n  });\n  var section = this._sections[sectionIndex];\n\n  if (!section) {\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  }\n\n  return section.consumer.originalPositionFor({\n    line: needle.generatedLine - (section.generatedOffset.generatedLine - 1),\n    column: needle.generatedColumn - (section.generatedOffset.generatedLine === needle.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),\n    bias: aArgs.bias\n  });\n};\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\n\n\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources = function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n  return this._sections.every(function (s) {\n    return s.consumer.hasContentsOfAllSources();\n  });\n};\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\n\n\nIndexedSourceMapConsumer.prototype.sourceContentFor = function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n  for (var i = 0; i < this._sections.length; i++) {\n    var section = this._sections[i];\n    var content = section.consumer.sourceContentFor(aSource, true);\n\n    if (content) {\n      return content;\n    }\n  }\n\n  if (nullOnMissing) {\n    return null;\n  } else {\n    throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n  }\n};\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\n\n\nIndexedSourceMapConsumer.prototype.generatedPositionFor = function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n  for (var i = 0; i < this._sections.length; i++) {\n    var section = this._sections[i]; // Only consider this section if the requested source is in the list of\n    // sources of the consumer.\n\n    if (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\n      continue;\n    }\n\n    var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n\n    if (generatedPosition) {\n      var ret = {\n        line: generatedPosition.line + (section.generatedOffset.generatedLine - 1),\n        column: generatedPosition.column + (section.generatedOffset.generatedLine === generatedPosition.line ? section.generatedOffset.generatedColumn - 1 : 0)\n      };\n      return ret;\n    }\n  }\n\n  return {\n    line: null,\n    column: null\n  };\n};\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\n\nIndexedSourceMapConsumer.prototype._parseMappings = function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n  this.__generatedMappings = [];\n  this.__originalMappings = [];\n\n  for (var i = 0; i < this._sections.length; i++) {\n    var section = this._sections[i];\n    var sectionMappings = section.consumer._generatedMappings;\n\n    for (var j = 0; j < sectionMappings.length; j++) {\n      var mapping = sectionMappings[j];\n\n      var source = section.consumer._sources.at(mapping.source);\n\n      if (section.consumer.sourceRoot !== null) {\n        source = util.join(section.consumer.sourceRoot, source);\n      }\n\n      this._sources.add(source);\n\n      source = this._sources.indexOf(source);\n\n      var name = section.consumer._names.at(mapping.name);\n\n      this._names.add(name);\n\n      name = this._names.indexOf(name); // The mappings coming from the consumer for the section have\n      // generated positions relative to the start of the section, so we\n      // need to offset them to be relative to the start of the concatenated\n      // generated file.\n\n      var adjustedMapping = {\n        source: source,\n        generatedLine: mapping.generatedLine + (section.generatedOffset.generatedLine - 1),\n        generatedColumn: mapping.generatedColumn + (section.generatedOffset.generatedLine === mapping.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: name\n      };\n\n      this.__generatedMappings.push(adjustedMapping);\n\n      if (typeof adjustedMapping.originalLine === 'number') {\n        this.__originalMappings.push(adjustedMapping);\n      }\n    }\n  }\n\n  quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n  quickSort(this.__originalMappings, util.compareByOriginalPositions);\n};\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\n\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  } else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    } // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n\n\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  } else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    } // we are in termination case (3) or (2) and return the appropriate thing.\n\n\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\n\n\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack, aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n\n  if (index < 0) {\n    return -1;\n  } // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n\n\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n\n    --index;\n  }\n\n  return index;\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\n\n\nfunction randomIntInRange(low, high) {\n  return Math.round(low + Math.random() * (high - low));\n}\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\n\n\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r]; // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1; // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\n\n\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\n\nvar util = require('./util'); // Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\n\n\nvar REGEX_NEWLINE = /(\\r?\\n)/; // Newline character code for charCodeAt() comparisons\n\nvar NEWLINE_CODE = 10; // Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\n\nvar isSourceNode = \"$$$isSourceNode$$$\";\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\n\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\n\n\nSourceNode.fromStringWithSourceMap = function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n  // The SourceNode we want to fill with the generated code\n  // and the SourceMap\n  var node = new SourceNode(); // All even indices of this array are one line of the generated code,\n  // while all odd indices are the newlines between two adjacent lines\n  // (since `REGEX_NEWLINE` captures its match).\n  // Processed fragments are removed from this array, by calling `shiftNextLine`.\n\n  var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n\n  var shiftNextLine = function () {\n    var lineContents = remainingLines.shift(); // The last line of a file might not have a newline.\n\n    var newLine = remainingLines.shift() || \"\";\n    return lineContents + newLine;\n  }; // We need to remember the position of \"remainingLines\"\n\n\n  var lastGeneratedLine = 1,\n      lastGeneratedColumn = 0; // The generate SourceNodes we need a code range.\n  // To extract it current and last mapping is used.\n  // Here we store the last mapping.\n\n  var lastMapping = null;\n  aSourceMapConsumer.eachMapping(function (mapping) {\n    if (lastMapping !== null) {\n      // We add the code from \"lastMapping\" to \"mapping\":\n      // First check if there is a new line in between.\n      if (lastGeneratedLine < mapping.generatedLine) {\n        // Associate first line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n        lastGeneratedLine++;\n        lastGeneratedColumn = 0; // The remaining code is added without mapping\n      } else {\n        // There is no new line in between.\n        // Associate the code between \"lastGeneratedColumn\" and\n        // \"mapping.generatedColumn\" with \"lastMapping\"\n        var nextLine = remainingLines[0];\n        var code = nextLine.substr(0, mapping.generatedColumn - lastGeneratedColumn);\n        remainingLines[0] = nextLine.substr(mapping.generatedColumn - lastGeneratedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n        addMappingWithCode(lastMapping, code); // No more remaining code, continue\n\n        lastMapping = mapping;\n        return;\n      }\n    } // We add the generated code until the first mapping\n    // to the SourceNode without any mapping.\n    // Each line is added as separate string.\n\n\n    while (lastGeneratedLine < mapping.generatedLine) {\n      node.add(shiftNextLine());\n      lastGeneratedLine++;\n    }\n\n    if (lastGeneratedColumn < mapping.generatedColumn) {\n      var nextLine = remainingLines[0];\n      node.add(nextLine.substr(0, mapping.generatedColumn));\n      remainingLines[0] = nextLine.substr(mapping.generatedColumn);\n      lastGeneratedColumn = mapping.generatedColumn;\n    }\n\n    lastMapping = mapping;\n  }, this); // We have processed all mappings.\n\n  if (remainingLines.length > 0) {\n    if (lastMapping) {\n      // Associate the remaining code in the current line with \"lastMapping\"\n      addMappingWithCode(lastMapping, shiftNextLine());\n    } // and add the remaining lines without any mapping\n\n\n    node.add(remainingLines.join(\"\"));\n  } // Copy sourcesContent into SourceNode\n\n\n  aSourceMapConsumer.sources.forEach(function (sourceFile) {\n    var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n\n    if (content != null) {\n      if (aRelativePath != null) {\n        sourceFile = util.join(aRelativePath, sourceFile);\n      }\n\n      node.setSourceContent(sourceFile, content);\n    }\n  });\n  return node;\n\n  function addMappingWithCode(mapping, code) {\n    if (mapping === null || mapping.source === undefined) {\n      node.add(code);\n    } else {\n      var source = aRelativePath ? util.join(aRelativePath, mapping.source) : mapping.source;\n      node.add(new SourceNode(mapping.originalLine, mapping.originalColumn, source, code, mapping.name));\n    }\n  }\n};\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\n\n\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  } else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  } else {\n    throw new TypeError(\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk);\n  }\n\n  return this;\n};\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\n\n\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length - 1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  } else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  } else {\n    throw new TypeError(\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk);\n  }\n\n  return this;\n};\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\n\n\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    } else {\n      if (chunk !== '') {\n        aFn(chunk, {\n          source: this.source,\n          line: this.line,\n          column: this.column,\n          name: this.name\n        });\n      }\n    }\n  }\n};\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\n\n\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n\n  if (len > 0) {\n    newChildren = [];\n\n    for (i = 0; i < len - 1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n\n  return this;\n};\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\n\n\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  } else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  } else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n\n  return this;\n};\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\n\n\nSourceNode.prototype.setSourceContent = function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n  this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n};\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\n\n\nSourceNode.prototype.walkSourceContents = function SourceNode_walkSourceContents(aFn) {\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    if (this.children[i][isSourceNode]) {\n      this.children[i].walkSourceContents(aFn);\n    }\n  }\n\n  var sources = Object.keys(this.sourceContents);\n\n  for (var i = 0, len = sources.length; i < len; i++) {\n    aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n  }\n};\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\n\n\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\n\n\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n\n    if (original.source !== null && original.line !== null && original.column !== null) {\n      if (lastOriginalSource !== original.source || lastOriginalLine !== original.line || lastOriginalColumn !== original.column || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0; // Mappings end at eol\n\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n  return {\n    code: generated.code,\n    map: map\n  };\n};\n\nexports.SourceNode = SourceNode;","'use strict';\n\nexports.__esModule = true;\n\nexports.default = function (componentOrElement) {\n  return (0, _ownerDocument2.default)(_reactDom2.default.findDOMNode(componentOrElement));\n};\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _ownerDocument = require('dom-helpers/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nmodule.exports = exports['default'];","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n} // About 1.5x faster than the two-arg version of Array#splice()\n\n\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n} // This implementation is based heavily on node's url.parse\n\n\nfunction resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n  var hasTrailingSlash = void 0;\n\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }\n  if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n  var result = fromParts.join('/');\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n  return result;\n}\n\nexport default resolvePathname;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction valueEqual(a, b) {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) return false;\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport { parsePath } from './PathUtils';\nexport var createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\nexport var locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n};","export var addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\nexport var stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\nexport var hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\nexport var stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\nexport var stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\nexport var parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\nexport var createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n  return path;\n};","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexport var addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\nexport var removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\nexport var getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nexport var supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n};\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nexport var supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nexport var supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nexport var isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport warning from 'warning';\nimport invariant from 'invariant';\nimport { createLocation } from './LocationUtils';\nimport { addLeadingSlash, stripTrailingSlash, hasBasename, stripBasename, createPath } from './PathUtils';\nimport createTransitionManager from './createTransitionManager';\nimport { canUseDOM, addEventListener, removeEventListener, getConfirmation, supportsHistory, supportsPopStateOnHashChange, isExtraneousPopstateEvent } from './DOMUtils';\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  invariant(canUseDOM, 'Browser history needs a DOM');\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + createPath(location);\n  };\n\n  var push = function push(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      addEventListener(window, PopStateEvent, handlePopState);\n      if (needsHashChangeListener) addEventListener(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      removeEventListener(window, PopStateEvent, handlePopState);\n      if (needsHashChangeListener) removeEventListener(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n};\n\nexport default createBrowserHistory;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport warning from 'warning';\nimport invariant from 'invariant';\nimport { createLocation, locationsAreEqual } from './LocationUtils';\nimport { addLeadingSlash, stripLeadingSlash, stripTrailingSlash, hasBasename, stripBasename, createPath } from './PathUtils';\nimport createTransitionManager from './createTransitionManager';\nimport { canUseDOM, addEventListener, removeEventListener, getConfirmation, supportsGoWithoutReloadUsingHash } from './DOMUtils';\nvar HashChangeEvent = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nvar getHashPath = function getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nvar pushHashPath = function pushHashPath(path) {\n  return window.location.hash = path;\n};\n\nvar replaceHashPath = function replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n};\n\nvar createHashHistory = function createHashHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  invariant(canUseDOM, 'Hash history needs a DOM');\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = props.hashType,\n      hashType = _props$hashType === undefined ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  var getDOMLocation = function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  };\n\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  var handleHashChange = function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  };\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }; // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  var createHref = function createHref(location) {\n    return '#' + encodePath(basename + createPath(location));\n  };\n\n  var push = function push(path, state) {\n    warning(state === undefined, 'Hash history cannot push state; it is ignored');\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\n        setState();\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(state === undefined, 'Hash history cannot replace state; it is ignored');\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  };\n\n  var go = function go(n) {\n    warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      addEventListener(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      removeEventListener(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n};\n\nexport default createHashHistory;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport warning from 'warning';\nimport { createPath } from './PathUtils';\nimport { createLocation } from './LocationUtils';\nimport createTransitionManager from './createTransitionManager';\n\nvar clamp = function clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n};\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nvar createMemoryHistory = function createMemoryHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var getUserConfirmation = props.getUserConfirmation,\n      _props$initialEntries = props.initialEntries,\n      initialEntries = _props$initialEntries === undefined ? ['/'] : _props$initialEntries,\n      _props$initialIndex = props.initialIndex,\n      initialIndex = _props$initialIndex === undefined ? 0 : _props$initialIndex,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  var push = function push(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  };\n\n  var go = function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var canGo = function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  };\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return transitionManager.setPrompt(prompt);\n  };\n\n  var listen = function listen(listener) {\n    return transitionManager.appendListener(listener);\n  };\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n};\n\nexport default createMemoryHistory;","import pathToRegexp from \"path-to-regexp\";\nvar patternCache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nvar compileGenerator = function compileGenerator(pattern) {\n  var cacheKey = pattern;\n  var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n  if (cache[pattern]) return cache[pattern];\n  var compiledGenerator = pathToRegexp.compile(pattern);\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledGenerator;\n    cacheCount++;\n  }\n\n  return compiledGenerator;\n};\n/**\n * Public API for generating a URL pathname from a pattern and parameters.\n */\n\n\nvar generatePath = function generatePath() {\n  var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (pattern === \"/\") {\n    return pattern;\n  }\n\n  var generator = compileGenerator(pattern);\n  return generator(params, {\n    pretty: true\n  });\n};\n\nexport default generatePath;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport warning from \"warning\";\nimport invariant from \"invariant\";\nimport { createLocation, locationsAreEqual } from \"history\";\nimport generatePath from \"./generatePath\";\n/**\n * The public API for updating the location programmatically\n * with a component.\n */\n\nvar Redirect = function (_React$Component) {\n  _inherits(Redirect, _React$Component);\n\n  function Redirect() {\n    _classCallCheck(this, Redirect);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Redirect.prototype.isStatic = function isStatic() {\n    return this.context.router && this.context.router.staticContext;\n  };\n\n  Redirect.prototype.componentWillMount = function componentWillMount() {\n    invariant(this.context.router, \"You should not use <Redirect> outside a <Router>\");\n    if (this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidMount = function componentDidMount() {\n    if (!this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var prevTo = createLocation(prevProps.to);\n    var nextTo = createLocation(this.props.to);\n\n    if (locationsAreEqual(prevTo, nextTo)) {\n      warning(false, \"You tried to redirect to the same route you're currently on: \" + (\"\\\"\" + nextTo.pathname + nextTo.search + \"\\\"\"));\n      return;\n    }\n\n    this.perform();\n  };\n\n  Redirect.prototype.computeTo = function computeTo(_ref) {\n    var computedMatch = _ref.computedMatch,\n        to = _ref.to;\n\n    if (computedMatch) {\n      if (typeof to === \"string\") {\n        return generatePath(to, computedMatch.params);\n      } else {\n        return _extends({}, to, {\n          pathname: generatePath(to.pathname, computedMatch.params)\n        });\n      }\n    }\n\n    return to;\n  };\n\n  Redirect.prototype.perform = function perform() {\n    var history = this.context.router.history;\n    var push = this.props.push;\n    var to = this.computeTo(this.props);\n\n    if (push) {\n      history.push(to);\n    } else {\n      history.replace(to);\n    }\n  };\n\n  Redirect.prototype.render = function render() {\n    return null;\n  };\n\n  return Redirect;\n}(React.Component);\n\nRedirect.propTypes = {\n  computedMatch: PropTypes.object,\n  // private, from <Switch>\n  push: PropTypes.bool,\n  from: PropTypes.string,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nRedirect.defaultProps = {\n  push: false\n};\nRedirect.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired\n    }).isRequired,\n    staticContext: PropTypes.object\n  }).isRequired\n};\nexport default Redirect;","// Written in this round about way for babel-transform-imports\nimport Redirect from \"react-router/es/Redirect\";\nexport default Redirect;","import { Iterable, fromJS } from 'immutable';\nimport { hydrateCompose } from './compose';\nimport { importFetchedAccounts } from './importer';\nimport { saveSettings } from './settings';\n\nexport const STORE_HYDRATE = 'STORE_HYDRATE';\nexport const STORE_HYDRATE_LAZY = 'STORE_HYDRATE_LAZY';\n\nconst convertState = rawState =>\n  fromJS(rawState, (k, v) =>\n    Iterable.isIndexed(v) ? v.toList() : v.toMap());\n\nconst applyMigrations = (state) => {\n  return state.withMutations(state => {\n    // Migrate glitch-soc local-only Show unread marker setting to Mastodon's setting\n    if (state.getIn(['local_settings', 'notifications', 'show_unread']) !== undefined) {\n      // Only change if the Mastodon setting does not deviate from default\n      if (state.getIn(['settings', 'notifications', 'showUnread']) !== false) {\n        state.setIn(['settings', 'notifications', 'showUnread'], state.getIn(['local_settings', 'notifications', 'show_unread']));\n      }\n      state.removeIn(['local_settings', 'notifications', 'show_unread'])\n    }\n  });\n};\n\nexport function hydrateStore(rawState) {\n  return dispatch => {\n    const state = applyMigrations(convertState(rawState));\n\n    dispatch({\n      type: STORE_HYDRATE,\n      state,\n    });\n\n    dispatch(hydrateCompose());\n    dispatch(importFetchedAccounts(Object.values(rawState.accounts)));\n    dispatch(saveSettings());\n  };\n};\n","export function EmojiPicker () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/emoji_picker\" */'flavours/glitch/util/emoji/emoji_picker');\n}\n\nexport function Compose () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/compose\" */'flavours/glitch/features/compose');\n}\n\nexport function Notifications () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/notifications\" */'flavours/glitch/features/notifications');\n}\n\nexport function HomeTimeline () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/home_timeline\" */'flavours/glitch/features/home_timeline');\n}\n\nexport function PublicTimeline () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/public_timeline\" */'flavours/glitch/features/public_timeline');\n}\n\nexport function CommunityTimeline () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/community_timeline\" */'flavours/glitch/features/community_timeline');\n}\n\nexport function HashtagTimeline () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/hashtag_timeline\" */'flavours/glitch/features/hashtag_timeline');\n}\n\nexport function ListTimeline () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/list_timeline\" */'flavours/glitch/features/list_timeline');\n}\n\nexport function Lists () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/lists\" */'flavours/glitch/features/lists');\n}\n\nexport function ListEditor () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/list_editor\" */'flavours/glitch/features/list_editor');\n}\n\nexport function PinnedAccountsEditor () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/pinned_accounts_editor\" */'flavours/glitch/features/pinned_accounts_editor');\n}\n\nexport function DirectTimeline() {\n  return import(/* webpackChunkName: \"flavours/glitch/async/direct_timeline\" */'flavours/glitch/features/direct_timeline');\n}\n\nexport function Status () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/status\" */'flavours/glitch/features/status');\n}\n\nexport function GettingStarted () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/getting_started\" */'flavours/glitch/features/getting_started');\n}\n\nexport function KeyboardShortcuts () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/keyboard_shortcuts\" */'flavours/glitch/features/keyboard_shortcuts');\n}\n\nexport function PinnedStatuses () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/pinned_statuses\" */'flavours/glitch/features/pinned_statuses');\n}\n\nexport function AccountTimeline () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/account_timeline\" */'flavours/glitch/features/account_timeline');\n}\n\nexport function AccountGallery () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/account_gallery\" */'flavours/glitch/features/account_gallery');\n}\n\nexport function Followers () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/followers\" */'flavours/glitch/features/followers');\n}\n\nexport function Following () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/following\" */'flavours/glitch/features/following');\n}\n\nexport function Reblogs () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/reblogs\" */'flavours/glitch/features/reblogs');\n}\n\nexport function Favourites () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/favourites\" */'flavours/glitch/features/favourites');\n}\n\nexport function FollowRequests () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/follow_requests\" */'flavours/glitch/features/follow_requests');\n}\n\nexport function GenericNotFound () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/generic_not_found\" */'flavours/glitch/features/generic_not_found');\n}\n\nexport function FavouritedStatuses () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/favourited_statuses\" */'flavours/glitch/features/favourited_statuses');\n}\n\nexport function BookmarkedStatuses () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/bookmarked_statuses\" */'flavours/glitch/features/bookmarked_statuses');\n}\n\nexport function Blocks () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/blocks\" */'flavours/glitch/features/blocks');\n}\n\nexport function DomainBlocks () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/domain_blocks\" */'flavours/glitch/features/domain_blocks');\n}\n\nexport function Mutes () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/mutes\" */'flavours/glitch/features/mutes');\n}\n\nexport function OnboardingModal () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/onboarding_modal\" */'flavours/glitch/features/ui/components/onboarding_modal');\n}\n\nexport function MuteModal () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/mute_modal\" */'flavours/glitch/features/ui/components/mute_modal');\n}\n\nexport function BlockModal () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/block_modal\" */'flavours/glitch/features/ui/components/block_modal');\n}\n\nexport function ReportModal () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/report_modal\" */'flavours/glitch/features/ui/components/report_modal');\n}\n\nexport function SettingsModal () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/settings_modal\" */'flavours/glitch/features/local_settings');\n}\n\nexport function MediaGallery () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/media_gallery\" */'flavours/glitch/components/media_gallery');\n}\n\nexport function Video () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/video\" */'flavours/glitch/features/video');\n}\n\nexport function Audio () {\n  return import(/* webpackChunkName: \"features/glitch/async/audio\" */'flavours/glitch/features/audio');\n}\n\nexport function EmbedModal () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/embed_modal\" */'flavours/glitch/features/ui/components/embed_modal');\n}\n\nexport function GettingStartedMisc () {\n  return import(/* webpackChunkName: \"flavours/glitch/async/getting_started_misc\" */'flavours/glitch/features/getting_started_misc');\n}\n\nexport function ListAdder () {\n  return import(/* webpackChunkName: \"features/glitch/async/list_adder\" */'flavours/glitch/features/list_adder');\n}\n\nexport function Search () {\n  return import(/*webpackChunkName: \"features/glitch/async/search\" */'flavours/glitch/features/search');\n}\n\nexport function Tesseract () {\n  return import(/*webpackChunkName: \"tesseract\" */'tesseract.js');\n}\n\nexport function Directory () {\n  return import(/* webpackChunkName: \"features/glitch/async/directory\" */'flavours/glitch/features/directory');\n}\n\nexport function FollowRecommendations () {\n  return import(/* webpackChunkName: \"features/glitch/async/follow_recommendations\" */'flavours/glitch/features/follow_recommendations');\n}\n\nexport function CompareHistoryModal () {\n  return import(/*webpackChunkName: \"flavours/glitch/async/compare_history_modal\" */'flavours/glitch/features/ui/components/compare_history_modal');\n}\n","import api, { getLinks } from 'flavours/glitch/util/api';\n\nexport const DOMAIN_BLOCK_REQUEST = 'DOMAIN_BLOCK_REQUEST';\nexport const DOMAIN_BLOCK_SUCCESS = 'DOMAIN_BLOCK_SUCCESS';\nexport const DOMAIN_BLOCK_FAIL    = 'DOMAIN_BLOCK_FAIL';\n\nexport const DOMAIN_UNBLOCK_REQUEST = 'DOMAIN_UNBLOCK_REQUEST';\nexport const DOMAIN_UNBLOCK_SUCCESS = 'DOMAIN_UNBLOCK_SUCCESS';\nexport const DOMAIN_UNBLOCK_FAIL    = 'DOMAIN_UNBLOCK_FAIL';\n\nexport const DOMAIN_BLOCKS_FETCH_REQUEST = 'DOMAIN_BLOCKS_FETCH_REQUEST';\nexport const DOMAIN_BLOCKS_FETCH_SUCCESS = 'DOMAIN_BLOCKS_FETCH_SUCCESS';\nexport const DOMAIN_BLOCKS_FETCH_FAIL    = 'DOMAIN_BLOCKS_FETCH_FAIL';\n\nexport const DOMAIN_BLOCKS_EXPAND_REQUEST = 'DOMAIN_BLOCKS_EXPAND_REQUEST';\nexport const DOMAIN_BLOCKS_EXPAND_SUCCESS = 'DOMAIN_BLOCKS_EXPAND_SUCCESS';\nexport const DOMAIN_BLOCKS_EXPAND_FAIL    = 'DOMAIN_BLOCKS_EXPAND_FAIL';\n\nexport function blockDomain(domain) {\n  return (dispatch, getState) => {\n    dispatch(blockDomainRequest(domain));\n\n    api(getState).post('/api/v1/domain_blocks', { domain }).then(() => {\n      const at_domain = '@' + domain;\n      const accounts = getState().get('accounts').filter(item => item.get('acct').endsWith(at_domain)).valueSeq().map(item => item.get('id'));\n\n      dispatch(blockDomainSuccess(domain, accounts));\n    }).catch(err => {\n      dispatch(blockDomainFail(domain, err));\n    });\n  };\n};\n\nexport function blockDomainRequest(domain) {\n  return {\n    type: DOMAIN_BLOCK_REQUEST,\n    domain,\n  };\n};\n\nexport function blockDomainSuccess(domain, accounts) {\n  return {\n    type: DOMAIN_BLOCK_SUCCESS,\n    domain,\n    accounts,\n  };\n};\n\nexport function blockDomainFail(domain, error) {\n  return {\n    type: DOMAIN_BLOCK_FAIL,\n    domain,\n    error,\n  };\n};\n\nexport function unblockDomain(domain) {\n  return (dispatch, getState) => {\n    dispatch(unblockDomainRequest(domain));\n\n    api(getState).delete('/api/v1/domain_blocks', { params: { domain } }).then(() => {\n      const at_domain = '@' + domain;\n      const accounts = getState().get('accounts').filter(item => item.get('acct').endsWith(at_domain)).valueSeq().map(item => item.get('id'));\n      dispatch(unblockDomainSuccess(domain, accounts));\n    }).catch(err => {\n      dispatch(unblockDomainFail(domain, err));\n    });\n  };\n};\n\nexport function unblockDomainRequest(domain) {\n  return {\n    type: DOMAIN_UNBLOCK_REQUEST,\n    domain,\n  };\n};\n\nexport function unblockDomainSuccess(domain, accounts) {\n  return {\n    type: DOMAIN_UNBLOCK_SUCCESS,\n    domain,\n    accounts,\n  };\n};\n\nexport function unblockDomainFail(domain, error) {\n  return {\n    type: DOMAIN_UNBLOCK_FAIL,\n    domain,\n    error,\n  };\n};\n\nexport function fetchDomainBlocks() {\n  return (dispatch, getState) => {\n    dispatch(fetchDomainBlocksRequest());\n\n    api(getState).get('/api/v1/domain_blocks').then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(fetchDomainBlocksSuccess(response.data, next ? next.uri : null));\n    }).catch(err => {\n      dispatch(fetchDomainBlocksFail(err));\n    });\n  };\n};\n\nexport function fetchDomainBlocksRequest() {\n  return {\n    type: DOMAIN_BLOCKS_FETCH_REQUEST,\n  };\n};\n\nexport function fetchDomainBlocksSuccess(domains, next) {\n  return {\n    type: DOMAIN_BLOCKS_FETCH_SUCCESS,\n    domains,\n    next,\n  };\n};\n\nexport function fetchDomainBlocksFail(error) {\n  return {\n    type: DOMAIN_BLOCKS_FETCH_FAIL,\n    error,\n  };\n};\n\nexport function expandDomainBlocks() {\n  return (dispatch, getState) => {\n    const url = getState().getIn(['domain_lists', 'blocks', 'next']);\n\n    if (!url) {\n      return;\n    }\n\n    dispatch(expandDomainBlocksRequest());\n\n    api(getState).get(url).then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(expandDomainBlocksSuccess(response.data, next ? next.uri : null));\n    }).catch(err => {\n      dispatch(expandDomainBlocksFail(err));\n    });\n  };\n};\n\nexport function expandDomainBlocksRequest() {\n  return {\n    type: DOMAIN_BLOCKS_EXPAND_REQUEST,\n  };\n};\n\nexport function expandDomainBlocksSuccess(domains, next) {\n  return {\n    type: DOMAIN_BLOCKS_EXPAND_SUCCESS,\n    domains,\n    next,\n  };\n};\n\nexport function expandDomainBlocksFail(error) {\n  return {\n    type: DOMAIN_BLOCKS_EXPAND_FAIL,\n    error,\n  };\n};\n","import api, { getLinks } from 'flavours/glitch/util/api';\nimport { fetchRelationships } from './accounts';\nimport { importFetchedAccounts } from './importer';\nimport { openModal } from 'flavours/glitch/actions/modal';\n\nexport const MUTES_FETCH_REQUEST = 'MUTES_FETCH_REQUEST';\nexport const MUTES_FETCH_SUCCESS = 'MUTES_FETCH_SUCCESS';\nexport const MUTES_FETCH_FAIL    = 'MUTES_FETCH_FAIL';\n\nexport const MUTES_EXPAND_REQUEST = 'MUTES_EXPAND_REQUEST';\nexport const MUTES_EXPAND_SUCCESS = 'MUTES_EXPAND_SUCCESS';\nexport const MUTES_EXPAND_FAIL    = 'MUTES_EXPAND_FAIL';\n\nexport const MUTES_INIT_MODAL = 'MUTES_INIT_MODAL';\nexport const MUTES_TOGGLE_HIDE_NOTIFICATIONS = 'MUTES_TOGGLE_HIDE_NOTIFICATIONS';\nexport const MUTES_CHANGE_DURATION = 'MUTES_CHANGE_DURATION';\n\nexport function fetchMutes() {\n  return (dispatch, getState) => {\n    dispatch(fetchMutesRequest());\n\n    api(getState).get('/api/v1/mutes').then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedAccounts(response.data));\n      dispatch(fetchMutesSuccess(response.data, next ? next.uri : null));\n      dispatch(fetchRelationships(response.data.map(item => item.id)));\n    }).catch(error => dispatch(fetchMutesFail(error)));\n  };\n};\n\nexport function fetchMutesRequest() {\n  return {\n    type: MUTES_FETCH_REQUEST,\n  };\n};\n\nexport function fetchMutesSuccess(accounts, next) {\n  return {\n    type: MUTES_FETCH_SUCCESS,\n    accounts,\n    next,\n  };\n};\n\nexport function fetchMutesFail(error) {\n  return {\n    type: MUTES_FETCH_FAIL,\n    error,\n  };\n};\n\nexport function expandMutes() {\n  return (dispatch, getState) => {\n    const url = getState().getIn(['user_lists', 'mutes', 'next']);\n\n    if (url === null) {\n      return;\n    }\n\n    dispatch(expandMutesRequest());\n\n    api(getState).get(url).then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedAccounts(response.data));\n      dispatch(expandMutesSuccess(response.data, next ? next.uri : null));\n      dispatch(fetchRelationships(response.data.map(item => item.id)));\n    }).catch(error => dispatch(expandMutesFail(error)));\n  };\n};\n\nexport function expandMutesRequest() {\n  return {\n    type: MUTES_EXPAND_REQUEST,\n  };\n};\n\nexport function expandMutesSuccess(accounts, next) {\n  return {\n    type: MUTES_EXPAND_SUCCESS,\n    accounts,\n    next,\n  };\n};\n\nexport function expandMutesFail(error) {\n  return {\n    type: MUTES_EXPAND_FAIL,\n    error,\n  };\n};\n\nexport function initMuteModal(account) {\n  return dispatch => {\n    dispatch({\n      type: MUTES_INIT_MODAL,\n      account,\n    });\n\n    dispatch(openModal('MUTE'));\n  };\n}\n\nexport function toggleHideNotifications() {\n  return dispatch => {\n    dispatch({ type: MUTES_TOGGLE_HIDE_NOTIFICATIONS });\n  };\n}\n\nexport function changeMuteDuration(duration) {\n  return dispatch => {\n    dispatch({\n      type: MUTES_CHANGE_DURATION,\n      duration,\n    });\n  };\n}\n","import api from 'flavours/glitch/util/api';\nimport { normalizeAnnouncement } from './importer/normalizer';\n\nexport const ANNOUNCEMENTS_FETCH_REQUEST = 'ANNOUNCEMENTS_FETCH_REQUEST';\nexport const ANNOUNCEMENTS_FETCH_SUCCESS = 'ANNOUNCEMENTS_FETCH_SUCCESS';\nexport const ANNOUNCEMENTS_FETCH_FAIL    = 'ANNOUNCEMENTS_FETCH_FAIL';\nexport const ANNOUNCEMENTS_UPDATE        = 'ANNOUNCEMENTS_UPDATE';\nexport const ANNOUNCEMENTS_DELETE        = 'ANNOUNCEMENTS_DELETE';\n\nexport const ANNOUNCEMENTS_DISMISS_REQUEST = 'ANNOUNCEMENTS_DISMISS_REQUEST';\nexport const ANNOUNCEMENTS_DISMISS_SUCCESS = 'ANNOUNCEMENTS_DISMISS_SUCCESS';\nexport const ANNOUNCEMENTS_DISMISS_FAIL    = 'ANNOUNCEMENTS_DISMISS_FAIL';\n\nexport const ANNOUNCEMENTS_REACTION_ADD_REQUEST = 'ANNOUNCEMENTS_REACTION_ADD_REQUEST';\nexport const ANNOUNCEMENTS_REACTION_ADD_SUCCESS = 'ANNOUNCEMENTS_REACTION_ADD_SUCCESS';\nexport const ANNOUNCEMENTS_REACTION_ADD_FAIL    = 'ANNOUNCEMENTS_REACTION_ADD_FAIL';\n\nexport const ANNOUNCEMENTS_REACTION_REMOVE_REQUEST = 'ANNOUNCEMENTS_REACTION_REMOVE_REQUEST';\nexport const ANNOUNCEMENTS_REACTION_REMOVE_SUCCESS = 'ANNOUNCEMENTS_REACTION_REMOVE_SUCCESS';\nexport const ANNOUNCEMENTS_REACTION_REMOVE_FAIL    = 'ANNOUNCEMENTS_REACTION_REMOVE_FAIL';\n\nexport const ANNOUNCEMENTS_REACTION_UPDATE = 'ANNOUNCEMENTS_REACTION_UPDATE';\n\nexport const ANNOUNCEMENTS_TOGGLE_SHOW = 'ANNOUNCEMENTS_TOGGLE_SHOW';\n\nconst noOp = () => {};\n\nexport const fetchAnnouncements = (done = noOp) => (dispatch, getState) => {\n  dispatch(fetchAnnouncementsRequest());\n\n  api(getState).get('/api/v1/announcements').then(response => {\n    dispatch(fetchAnnouncementsSuccess(response.data.map(x => normalizeAnnouncement(x))));\n  }).catch(error => {\n    dispatch(fetchAnnouncementsFail(error));\n  }).finally(() => {\n    done();\n  });\n};\n\nexport const fetchAnnouncementsRequest = () => ({\n  type: ANNOUNCEMENTS_FETCH_REQUEST,\n  skipLoading: true,\n});\n\nexport const fetchAnnouncementsSuccess = announcements => ({\n  type: ANNOUNCEMENTS_FETCH_SUCCESS,\n  announcements,\n  skipLoading: true,\n});\n\nexport const fetchAnnouncementsFail= error => ({\n  type: ANNOUNCEMENTS_FETCH_FAIL,\n  error,\n  skipLoading: true,\n  skipAlert: true,\n});\n\nexport const updateAnnouncements = announcement => ({\n  type: ANNOUNCEMENTS_UPDATE,\n  announcement: normalizeAnnouncement(announcement),\n});\n\nexport const dismissAnnouncement = announcementId => (dispatch, getState) => {\n  dispatch(dismissAnnouncementRequest(announcementId));\n\n  api(getState).post(`/api/v1/announcements/${announcementId}/dismiss`).then(() => {\n    dispatch(dismissAnnouncementSuccess(announcementId));\n  }).catch(error => {\n    dispatch(dismissAnnouncementFail(announcementId, error));\n  });\n};\n\nexport const dismissAnnouncementRequest = announcementId => ({\n  type: ANNOUNCEMENTS_DISMISS_REQUEST,\n  id: announcementId,\n});\n\nexport const dismissAnnouncementSuccess = announcementId => ({\n  type: ANNOUNCEMENTS_DISMISS_SUCCESS,\n  id: announcementId,\n});\n\nexport const dismissAnnouncementFail = (announcementId, error) => ({\n  type: ANNOUNCEMENTS_DISMISS_FAIL,\n  id: announcementId,\n  error,\n});\n\nexport const addReaction = (announcementId, name) => (dispatch, getState) => {\n  const announcement = getState().getIn(['announcements', 'items']).find(x => x.get('id') === announcementId);\n\n  let alreadyAdded = false;\n\n  if (announcement) {\n    const reaction = announcement.get('reactions').find(x => x.get('name') === name);\n    if (reaction && reaction.get('me')) {\n      alreadyAdded = true;\n    }\n  }\n\n  if (!alreadyAdded) {\n    dispatch(addReactionRequest(announcementId, name, alreadyAdded));\n  }\n\n  api(getState).put(`/api/v1/announcements/${announcementId}/reactions/${name}`).then(() => {\n    dispatch(addReactionSuccess(announcementId, name, alreadyAdded));\n  }).catch(err => {\n    if (!alreadyAdded) {\n      dispatch(addReactionFail(announcementId, name, err));\n    }\n  });\n};\n\nexport const addReactionRequest = (announcementId, name) => ({\n  type: ANNOUNCEMENTS_REACTION_ADD_REQUEST,\n  id: announcementId,\n  name,\n  skipLoading: true,\n});\n\nexport const addReactionSuccess = (announcementId, name) => ({\n  type: ANNOUNCEMENTS_REACTION_ADD_SUCCESS,\n  id: announcementId,\n  name,\n  skipLoading: true,\n});\n\nexport const addReactionFail = (announcementId, name, error) => ({\n  type: ANNOUNCEMENTS_REACTION_ADD_FAIL,\n  id: announcementId,\n  name,\n  error,\n  skipLoading: true,\n});\n\nexport const removeReaction = (announcementId, name) => (dispatch, getState) => {\n  dispatch(removeReactionRequest(announcementId, name));\n\n  api(getState).delete(`/api/v1/announcements/${announcementId}/reactions/${name}`).then(() => {\n    dispatch(removeReactionSuccess(announcementId, name));\n  }).catch(err => {\n    dispatch(removeReactionFail(announcementId, name, err));\n  });\n};\n\nexport const removeReactionRequest = (announcementId, name) => ({\n  type: ANNOUNCEMENTS_REACTION_REMOVE_REQUEST,\n  id: announcementId,\n  name,\n  skipLoading: true,\n});\n\nexport const removeReactionSuccess = (announcementId, name) => ({\n  type: ANNOUNCEMENTS_REACTION_REMOVE_SUCCESS,\n  id: announcementId,\n  name,\n  skipLoading: true,\n});\n\nexport const removeReactionFail = (announcementId, name, error) => ({\n  type: ANNOUNCEMENTS_REACTION_REMOVE_FAIL,\n  id: announcementId,\n  name,\n  error,\n  skipLoading: true,\n});\n\nexport const updateReaction = reaction => ({\n  type: ANNOUNCEMENTS_REACTION_UPDATE,\n  reaction,\n});\n\nexport const toggleShowAnnouncements = () => ({\n  type: ANNOUNCEMENTS_TOGGLE_SHOW,\n});\n\nexport const deleteAnnouncement = id => ({\n  type: ANNOUNCEMENTS_DELETE,\n  id,\n});\n","/**\n * @license MIT\n * @fileOverview Favico animations\n * @author Miroslav Magda, http://blog.ejci.net\n * @version 0.3.10\n */\n\n/**\n * Create new favico instance\n * @param {Object} Options\n * @return {Object} Favico object\n * @example\n * var favico = new Favico({\n *    bgColor : '#d00',\n *    textColor : '#fff',\n *    fontFamily : 'sans-serif',\n *    fontStyle : 'bold',\n *    position : 'down',\n *    type : 'circle',\n *    animation : 'slide',\n *    dataUrl: function(url){},\n *    win: top\n * });\n */\n(function () {\n  var Favico = function (opt) {\n    'use strict';\n\n    opt = opt ? opt : {};\n    var _def = {\n      bgColor: '#d00',\n      textColor: '#fff',\n      fontFamily: 'sans-serif',\n      //Arial,Verdana,Times New Roman,serif,sans-serif,...\n      fontStyle: 'bold',\n      //normal,italic,oblique,bold,bolder,lighter,100,200,300,400,500,600,700,800,900\n      type: 'circle',\n      position: 'down',\n      // down, up, left, leftup (upleft)\n      animation: 'slide',\n      elementId: false,\n      dataUrl: false,\n      win: window\n    };\n\n    var _opt, _orig, _h, _w, _canvas, _context, _img, _ready, _lastBadge, _running, _readyCb, _stop, _browser, _animTimeout, _drawTimeout, _doc;\n\n    _browser = {};\n    _browser.ff = typeof InstallTrigger != 'undefined';\n    _browser.chrome = !!window.chrome;\n    _browser.opera = !!window.opera || navigator.userAgent.indexOf('Opera') >= 0;\n    _browser.ie =\n    /*@cc_on!@*/\n    false;\n    _browser.safari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n    _browser.supported = _browser.chrome || _browser.ff || _browser.opera;\n    var _queue = [];\n\n    _readyCb = function () {};\n\n    _ready = _stop = false;\n    /**\n     * Initialize favico\n     */\n\n    var init = function () {\n      //merge initial options\n      _opt = merge(_def, opt);\n      _opt.bgColor = hexToRgb(_opt.bgColor);\n      _opt.textColor = hexToRgb(_opt.textColor);\n      _opt.position = _opt.position.toLowerCase();\n      _opt.animation = animation.types['' + _opt.animation] ? _opt.animation : _def.animation;\n      _doc = _opt.win.document;\n      var isUp = _opt.position.indexOf('up') > -1;\n      var isLeft = _opt.position.indexOf('left') > -1; //transform animation\n\n      if (isUp || isLeft) {\n        for (var i = 0; i < animation.types['' + _opt.animation].length; i++) {\n          var step = animation.types['' + _opt.animation][i];\n\n          if (isUp) {\n            if (step.y < 0.6) {\n              step.y = step.y - 0.4;\n            } else {\n              step.y = step.y - 2 * step.y + (1 - step.w);\n            }\n          }\n\n          if (isLeft) {\n            if (step.x < 0.6) {\n              step.x = step.x - 0.4;\n            } else {\n              step.x = step.x - 2 * step.x + (1 - step.h);\n            }\n          }\n\n          animation.types['' + _opt.animation][i] = step;\n        }\n      }\n\n      _opt.type = type['' + _opt.type] ? _opt.type : _def.type;\n      _orig = link.getIcon(); //create temp canvas\n\n      _canvas = document.createElement('canvas'); //create temp image\n\n      _img = document.createElement('img');\n\n      if (_orig.hasAttribute('href')) {\n        _img.setAttribute('crossOrigin', 'anonymous'); //get width/height\n\n\n        _img.onload = function () {\n          _h = _img.height > 0 ? _img.height : 32;\n          _w = _img.width > 0 ? _img.width : 32;\n          _canvas.height = _h;\n          _canvas.width = _w;\n          _context = _canvas.getContext('2d');\n          icon.ready();\n        };\n\n        _img.setAttribute('src', _orig.getAttribute('href'));\n      } else {\n        _img.onload = function () {\n          _h = 32;\n          _w = 32;\n          _img.height = _h;\n          _img.width = _w;\n          _canvas.height = _h;\n          _canvas.width = _w;\n          _context = _canvas.getContext('2d');\n          icon.ready();\n        };\n\n        _img.setAttribute('src', '');\n      }\n    };\n    /**\n     * Icon namespace\n     */\n\n\n    var icon = {};\n    /**\n     * Icon is ready (reset icon) and start animation (if ther is any)\n     */\n\n    icon.ready = function () {\n      _ready = true;\n      icon.reset();\n\n      _readyCb();\n    };\n    /**\n     * Reset icon to default state\n     */\n\n\n    icon.reset = function () {\n      //reset\n      if (!_ready) {\n        return;\n      }\n\n      _queue = [];\n      _lastBadge = false;\n      _running = false;\n\n      _context.clearRect(0, 0, _w, _h);\n\n      _context.drawImage(_img, 0, 0, _w, _h); //_stop=true;\n\n\n      link.setIcon(_canvas); //webcam('stop');\n      //video('stop');\n\n      window.clearTimeout(_animTimeout);\n      window.clearTimeout(_drawTimeout);\n    };\n    /**\n     * Start animation\n     */\n\n\n    icon.start = function () {\n      if (!_ready || _running) {\n        return;\n      }\n\n      var finished = function () {\n        _lastBadge = _queue[0];\n        _running = false;\n\n        if (_queue.length > 0) {\n          _queue.shift();\n\n          icon.start();\n        } else {}\n      };\n\n      if (_queue.length > 0) {\n        _running = true;\n\n        var run = function () {\n          // apply options for this animation\n          ['type', 'animation', 'bgColor', 'textColor', 'fontFamily', 'fontStyle'].forEach(function (a) {\n            if (a in _queue[0].options) {\n              _opt[a] = _queue[0].options[a];\n            }\n          });\n          animation.run(_queue[0].options, function () {\n            finished();\n          }, false);\n        };\n\n        if (_lastBadge) {\n          animation.run(_lastBadge.options, function () {\n            run();\n          }, true);\n        } else {\n          run();\n        }\n      }\n    };\n    /**\n     * Badge types\n     */\n\n\n    var type = {};\n\n    var options = function (opt) {\n      opt.n = typeof opt.n === 'number' ? Math.abs(opt.n | 0) : opt.n;\n      opt.x = _w * opt.x;\n      opt.y = _h * opt.y;\n      opt.w = _w * opt.w;\n      opt.h = _h * opt.h;\n      opt.len = (\"\" + opt.n).length;\n      return opt;\n    };\n    /**\n     * Generate circle\n     * @param {Object} opt Badge options\n     */\n\n\n    type.circle = function (opt) {\n      opt = options(opt);\n      var more = false;\n\n      if (opt.len === 2) {\n        opt.x = opt.x - opt.w * 0.4;\n        opt.w = opt.w * 1.4;\n        more = true;\n      } else if (opt.len >= 3) {\n        opt.x = opt.x - opt.w * 0.65;\n        opt.w = opt.w * 1.65;\n        more = true;\n      }\n\n      _context.clearRect(0, 0, _w, _h);\n\n      _context.drawImage(_img, 0, 0, _w, _h);\n\n      _context.beginPath();\n\n      _context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.85 : 1)) + \"px \" + _opt.fontFamily;\n      _context.textAlign = 'center';\n\n      if (more) {\n        _context.moveTo(opt.x + opt.w / 2, opt.y);\n\n        _context.lineTo(opt.x + opt.w - opt.h / 2, opt.y);\n\n        _context.quadraticCurveTo(opt.x + opt.w, opt.y, opt.x + opt.w, opt.y + opt.h / 2);\n\n        _context.lineTo(opt.x + opt.w, opt.y + opt.h - opt.h / 2);\n\n        _context.quadraticCurveTo(opt.x + opt.w, opt.y + opt.h, opt.x + opt.w - opt.h / 2, opt.y + opt.h);\n\n        _context.lineTo(opt.x + opt.h / 2, opt.y + opt.h);\n\n        _context.quadraticCurveTo(opt.x, opt.y + opt.h, opt.x, opt.y + opt.h - opt.h / 2);\n\n        _context.lineTo(opt.x, opt.y + opt.h / 2);\n\n        _context.quadraticCurveTo(opt.x, opt.y, opt.x + opt.h / 2, opt.y);\n      } else {\n        _context.arc(opt.x + opt.w / 2, opt.y + opt.h / 2, opt.h / 2, 0, 2 * Math.PI);\n      }\n\n      _context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\n      _context.fill();\n\n      _context.closePath();\n\n      _context.beginPath();\n\n      _context.stroke();\n\n      _context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')'; //_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\n      if (typeof opt.n === 'number' && opt.n > 999) {\n        _context.fillText((opt.n > 9999 ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n      } else {\n        _context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n      }\n\n      _context.closePath();\n    };\n    /**\n     * Generate rectangle\n     * @param {Object} opt Badge options\n     */\n\n\n    type.rectangle = function (opt) {\n      opt = options(opt);\n      var more = false;\n\n      if (opt.len === 2) {\n        opt.x = opt.x - opt.w * 0.4;\n        opt.w = opt.w * 1.4;\n        more = true;\n      } else if (opt.len >= 3) {\n        opt.x = opt.x - opt.w * 0.65;\n        opt.w = opt.w * 1.65;\n        more = true;\n      }\n\n      _context.clearRect(0, 0, _w, _h);\n\n      _context.drawImage(_img, 0, 0, _w, _h);\n\n      _context.beginPath();\n\n      _context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.9 : 1)) + \"px \" + _opt.fontFamily;\n      _context.textAlign = 'center';\n      _context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\n      _context.fillRect(opt.x, opt.y, opt.w, opt.h);\n\n      _context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')'; //_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\n      if (typeof opt.n === 'number' && opt.n > 999) {\n        _context.fillText((opt.n > 9999 ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n      } else {\n        _context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n      }\n\n      _context.closePath();\n    };\n    /**\n     * Set badge\n     */\n\n\n    var badge = function (number, opts) {\n      opts = (typeof opts === 'string' ? {\n        animation: opts\n      } : opts) || {};\n\n      _readyCb = function () {\n        try {\n          if (typeof number === 'number' ? number > 0 : number !== '') {\n            var q = {\n              type: 'badge',\n              options: {\n                n: number\n              }\n            };\n\n            if ('animation' in opts && animation.types['' + opts.animation]) {\n              q.options.animation = '' + opts.animation;\n            }\n\n            if ('type' in opts && type['' + opts.type]) {\n              q.options.type = '' + opts.type;\n            }\n\n            ['bgColor', 'textColor'].forEach(function (o) {\n              if (o in opts) {\n                q.options[o] = hexToRgb(opts[o]);\n              }\n            });\n            ['fontStyle', 'fontFamily'].forEach(function (o) {\n              if (o in opts) {\n                q.options[o] = opts[o];\n              }\n            });\n\n            _queue.push(q);\n\n            if (_queue.length > 100) {\n              throw new Error('Too many badges requests in queue.');\n            }\n\n            icon.start();\n          } else {\n            icon.reset();\n          }\n        } catch (e) {\n          throw new Error('Error setting badge. Message: ' + e.message);\n        }\n      };\n\n      if (_ready) {\n        _readyCb();\n      }\n    };\n    /**\n     * Set image as icon\n     */\n\n\n    var image = function (imageElement) {\n      _readyCb = function () {\n        try {\n          var w = imageElement.width;\n          var h = imageElement.height;\n          var newImg = document.createElement('img');\n          var ratio = w / _w < h / _h ? w / _w : h / _h;\n          newImg.setAttribute('crossOrigin', 'anonymous');\n\n          newImg.onload = function () {\n            _context.clearRect(0, 0, _w, _h);\n\n            _context.drawImage(newImg, 0, 0, _w, _h);\n\n            link.setIcon(_canvas);\n          };\n\n          newImg.setAttribute('src', imageElement.getAttribute('src'));\n          newImg.height = h / ratio;\n          newImg.width = w / ratio;\n        } catch (e) {\n          throw new Error('Error setting image. Message: ' + e.message);\n        }\n      };\n\n      if (_ready) {\n        _readyCb();\n      }\n    };\n    /**\n     * Set video as icon\n     */\n\n\n    var video = function (videoElement) {\n      _readyCb = function () {\n        try {\n          if (videoElement === 'stop') {\n            _stop = true;\n            icon.reset();\n            _stop = false;\n            return;\n          } //var w = videoElement.width;\n          //var h = videoElement.height;\n          //var ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);\n\n\n          videoElement.addEventListener('play', function () {\n            drawVideo(this);\n          }, false);\n        } catch (e) {\n          throw new Error('Error setting video. Message: ' + e.message);\n        }\n      };\n\n      if (_ready) {\n        _readyCb();\n      }\n    };\n    /**\n     * Set video as icon\n     */\n\n\n    var webcam = function (action) {\n      //UR\n      if (!window.URL || !window.URL.createObjectURL) {\n        window.URL = window.URL || {};\n\n        window.URL.createObjectURL = function (obj) {\n          return obj;\n        };\n      }\n\n      if (_browser.supported) {\n        var newVideo = false;\n        navigator.getUserMedia = navigator.getUserMedia || navigator.oGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia;\n\n        _readyCb = function () {\n          try {\n            if (action === 'stop') {\n              _stop = true;\n              icon.reset();\n              _stop = false;\n              return;\n            }\n\n            newVideo = document.createElement('video');\n            newVideo.width = _w;\n            newVideo.height = _h;\n            navigator.getUserMedia({\n              video: true,\n              audio: false\n            }, function (stream) {\n              newVideo.src = URL.createObjectURL(stream);\n              newVideo.play();\n              drawVideo(newVideo);\n            }, function () {});\n          } catch (e) {\n            throw new Error('Error setting webcam. Message: ' + e.message);\n          }\n        };\n\n        if (_ready) {\n          _readyCb();\n        }\n      }\n    };\n    /**\n     * Draw video to context and repeat :)\n     */\n\n\n    function drawVideo(video) {\n      if (video.paused || video.ended || _stop) {\n        return false;\n      } //nasty hack for FF webcam (Thanks to Julian wirko, kontakt@redsunmedia.pl)\n\n\n      try {\n        _context.clearRect(0, 0, _w, _h);\n\n        _context.drawImage(video, 0, 0, _w, _h);\n      } catch (e) {}\n\n      _drawTimeout = setTimeout(function () {\n        drawVideo(video);\n      }, animation.duration);\n      link.setIcon(_canvas);\n    }\n\n    var link = {};\n    /**\n     * Get icon from HEAD tag or create a new <link> element\n     */\n\n    link.getIcon = function () {\n      var elm = false; //get link element\n\n      var getLink = function () {\n        var link = _doc.getElementsByTagName('head')[0].getElementsByTagName('link');\n\n        for (var l = link.length, i = l - 1; i >= 0; i--) {\n          if (/(^|\\s)icon(\\s|$)/i.test(link[i].getAttribute('rel'))) {\n            return link[i];\n          }\n        }\n\n        return false;\n      };\n\n      if (_opt.element) {\n        elm = _opt.element;\n      } else if (_opt.elementId) {\n        //if img element identified by elementId\n        elm = _doc.getElementById(_opt.elementId);\n        elm.setAttribute('href', elm.getAttribute('src'));\n      } else {\n        //if link element\n        elm = getLink();\n\n        if (elm === false) {\n          elm = _doc.createElement('link');\n          elm.setAttribute('rel', 'icon');\n\n          _doc.getElementsByTagName('head')[0].appendChild(elm);\n        }\n      }\n\n      elm.setAttribute('type', 'image/png');\n      return elm;\n    };\n\n    link.setIcon = function (canvas) {\n      var url = canvas.toDataURL('image/png');\n\n      if (_opt.dataUrl) {\n        //if using custom exporter\n        _opt.dataUrl(url);\n      }\n\n      if (_opt.element) {\n        _opt.element.setAttribute('href', url);\n\n        _opt.element.setAttribute('src', url);\n      } else if (_opt.elementId) {\n        //if is attached to element (image)\n        var elm = _doc.getElementById(_opt.elementId);\n\n        elm.setAttribute('href', url);\n        elm.setAttribute('src', url);\n      } else {\n        //if is attached to fav icon\n        if (_browser.ff || _browser.opera) {\n          //for FF we need to \"recreate\" element, atach to dom and remove old <link>\n          //var originalType = _orig.getAttribute('rel');\n          var old = _orig;\n          _orig = _doc.createElement('link'); //_orig.setAttribute('rel', originalType);\n\n          if (_browser.opera) {\n            _orig.setAttribute('rel', 'icon');\n          }\n\n          _orig.setAttribute('rel', 'icon');\n\n          _orig.setAttribute('type', 'image/png');\n\n          _doc.getElementsByTagName('head')[0].appendChild(_orig);\n\n          _orig.setAttribute('href', url);\n\n          if (old.parentNode) {\n            old.parentNode.removeChild(old);\n          }\n        } else {\n          _orig.setAttribute('href', url);\n        }\n      }\n    }; //http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb#answer-5624139\n    //HEX to RGB convertor\n\n\n    function hexToRgb(hex) {\n      var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n      hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n      return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n      } : false;\n    }\n    /**\n     * Merge options\n     */\n\n\n    function merge(def, opt) {\n      var mergedOpt = {};\n      var attrname;\n\n      for (attrname in def) {\n        mergedOpt[attrname] = def[attrname];\n      }\n\n      for (attrname in opt) {\n        mergedOpt[attrname] = opt[attrname];\n      }\n\n      return mergedOpt;\n    }\n    /**\n     * Cross-browser page visibility shim\n     * http://stackoverflow.com/questions/12536562/detect-whether-a-window-is-visible\n     */\n\n\n    function isPageHidden() {\n      return _doc.hidden || _doc.msHidden || _doc.webkitHidden || _doc.mozHidden;\n    }\n    /**\n     * @namespace animation\n     */\n\n\n    var animation = {};\n    /**\n     * Animation \"frame\" duration\n     */\n\n    animation.duration = 40;\n    /**\n     * Animation types (none,fade,pop,slide)\n     */\n\n    animation.types = {};\n    animation.types.fade = [{\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.0\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.1\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.2\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.3\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.4\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.5\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.6\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.7\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.8\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 0.9\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 1.0\n    }];\n    animation.types.none = [{\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }];\n    animation.types.pop = [{\n      x: 1,\n      y: 1,\n      w: 0,\n      h: 0,\n      o: 1\n    }, {\n      x: 0.9,\n      y: 0.9,\n      w: 0.1,\n      h: 0.1,\n      o: 1\n    }, {\n      x: 0.8,\n      y: 0.8,\n      w: 0.2,\n      h: 0.2,\n      o: 1\n    }, {\n      x: 0.7,\n      y: 0.7,\n      w: 0.3,\n      h: 0.3,\n      o: 1\n    }, {\n      x: 0.6,\n      y: 0.6,\n      w: 0.4,\n      h: 0.4,\n      o: 1\n    }, {\n      x: 0.5,\n      y: 0.5,\n      w: 0.5,\n      h: 0.5,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }];\n    animation.types.popFade = [{\n      x: 0.75,\n      y: 0.75,\n      w: 0,\n      h: 0,\n      o: 0\n    }, {\n      x: 0.65,\n      y: 0.65,\n      w: 0.1,\n      h: 0.1,\n      o: 0.2\n    }, {\n      x: 0.6,\n      y: 0.6,\n      w: 0.2,\n      h: 0.2,\n      o: 0.4\n    }, {\n      x: 0.55,\n      y: 0.55,\n      w: 0.3,\n      h: 0.3,\n      o: 0.6\n    }, {\n      x: 0.50,\n      y: 0.50,\n      w: 0.4,\n      h: 0.4,\n      o: 0.8\n    }, {\n      x: 0.45,\n      y: 0.45,\n      w: 0.5,\n      h: 0.5,\n      o: 0.9\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }];\n    animation.types.slide = [{\n      x: 0.4,\n      y: 1,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.9,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.9,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.8,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.7,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.6,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.5,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }, {\n      x: 0.4,\n      y: 0.4,\n      w: 0.6,\n      h: 0.6,\n      o: 1\n    }];\n    /**\n     * Run animation\n     * @param {Object} opt Animation options\n     * @param {Object} cb Callabak after all steps are done\n     * @param {Object} revert Reverse order? true|false\n     * @param {Object} step Optional step number (frame bumber)\n     */\n\n    animation.run = function (opt, cb, revert, step) {\n      var animationType = animation.types[isPageHidden() ? 'none' : _opt.animation];\n\n      if (revert === true) {\n        step = typeof step !== 'undefined' ? step : animationType.length - 1;\n      } else {\n        step = typeof step !== 'undefined' ? step : 0;\n      }\n\n      cb = cb ? cb : function () {};\n\n      if (step < animationType.length && step >= 0) {\n        type[_opt.type](merge(opt, animationType[step]));\n\n        _animTimeout = setTimeout(function () {\n          if (revert) {\n            step = step - 1;\n          } else {\n            step = step + 1;\n          }\n\n          animation.run(opt, cb, revert, step);\n        }, animation.duration);\n        link.setIcon(_canvas);\n      } else {\n        cb();\n        return;\n      }\n    }; //auto init\n\n\n    init();\n    return {\n      badge: badge,\n      video: video,\n      image: image,\n      webcam: webcam,\n      reset: icon.reset,\n      browser: {\n        supported: _browser.supported\n      }\n    };\n  }; // AMD / RequireJS\n\n\n  if (typeof define !== 'undefined' && define.amd) {\n    define([], function () {\n      return Favico;\n    });\n  } // CommonJS\n  else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Favico;\n  } // included directly via <script> tag\n  else {\n    this.Favico = Favico;\n  }\n})();","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Column from 'flavours/glitch/components/column';\nimport ColumnHeader from 'flavours/glitch/components/column_header';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\n\nexport default class ColumnLoading extends ImmutablePureComponent {\n\n  static propTypes = {\n    title: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n    icon: PropTypes.string,\n  };\n\n  static defaultProps = {\n    title: '',\n    icon: '',\n  };\n\n  render() {\n    let { title, icon } = this.props;\n    return (\n      <Column>\n        <ColumnHeader icon={icon} title={title} multiColumn={false} focusable={false} placeholder />\n        <div className='scrollable' />\n      </Column>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl } from 'react-intl';\n\nimport Column from './column';\nimport ColumnHeader from './column_header';\nimport ColumnBackButtonSlim from 'flavours/glitch/components/column_back_button_slim';\nimport IconButton from 'flavours/glitch/components/icon_button';\n\nconst messages = defineMessages({\n  title: { id: 'bundle_column_error.title', defaultMessage: 'Network error' },\n  body: { id: 'bundle_column_error.body', defaultMessage: 'Something went wrong while loading this component.' },\n  retry: { id: 'bundle_column_error.retry', defaultMessage: 'Try again' },\n});\n\nclass BundleColumnError extends React.Component {\n\n  static propTypes = {\n    onRetry: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  }\n\n  handleRetry = () => {\n    this.props.onRetry();\n  }\n\n  render () {\n    const { intl: { formatMessage } } = this.props;\n\n    return (\n      <Column>\n        <ColumnHeader icon='exclamation-circle' type={formatMessage(messages.title)} />\n        <ColumnBackButtonSlim />\n        <div className='error-column'>\n          <IconButton title={formatMessage(messages.retry)} icon='refresh' onClick={this.handleRetry} size={64} />\n          {formatMessage(messages.body)}\n        </div>\n      </Column>\n    );\n  }\n\n}\n\nexport default injectIntl(BundleColumnError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Switch, Route } from 'react-router-dom';\n\nimport ColumnLoading from 'flavours/glitch/features/ui/components/column_loading';\nimport BundleColumnError from 'flavours/glitch/features/ui/components/bundle_column_error';\nimport BundleContainer from 'flavours/glitch/features/ui/containers/bundle_container';\n\n// Small wrapper to pass multiColumn to the route components\nexport class WrappedSwitch extends React.PureComponent {\n\n  render () {\n    const { multiColumn, children } = this.props;\n\n    return (\n      <Switch>\n        {React.Children.map(children, child => React.cloneElement(child, { multiColumn }))}\n      </Switch>\n    );\n  }\n\n}\n\nWrappedSwitch.propTypes = {\n  multiColumn: PropTypes.bool,\n  children: PropTypes.node,\n};\n\n// Small Wraper to extract the params from the route and pass\n// them to the rendered component, together with the content to\n// be rendered inside (the children)\nexport class WrappedRoute extends React.Component {\n\n  static propTypes = {\n    component: PropTypes.func.isRequired,\n    content: PropTypes.node,\n    multiColumn: PropTypes.bool,\n    componentParams: PropTypes.object,\n  }\n\n  static defaultProps = {\n    componentParams: {},\n  };\n\n  renderComponent = ({ match }) => {\n    const { component, content, multiColumn, componentParams } = this.props;\n\n    return (\n      <BundleContainer fetchComponent={component} loading={this.renderLoading} error={this.renderError}>\n        {Component => <Component params={match.params} multiColumn={multiColumn} {...componentParams}>{content}</Component>}\n      </BundleContainer>\n    );\n  }\n\n  renderLoading = () => {\n    return <ColumnLoading />;\n  }\n\n  renderError = (props) => {\n    return <BundleColumnError {...props} />;\n  }\n\n  render () {\n    const { component: Component, content, ...rest } = this.props;\n\n    return <Route {...rest} render={this.renderComponent} />;\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Motion from 'flavours/glitch/util/optional_motion';\nimport spring from 'react-motion/lib/spring';\nimport { FormattedMessage } from 'react-intl';\n\nexport default class UploadArea extends React.PureComponent {\n\n  static propTypes = {\n    active: PropTypes.bool,\n    onClose: PropTypes.func,\n  };\n\n  handleKeyUp = (e) => {\n    const keyCode = e.keyCode;\n    if (this.props.active) {\n      switch(keyCode) {\n      case 27:\n        e.preventDefault();\n        e.stopPropagation();\n        this.props.onClose();\n        break;\n      }\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  render () {\n    const { active } = this.props;\n\n    return (\n      <Motion defaultStyle={{ backgroundOpacity: 0, backgroundScale: 0.95 }} style={{ backgroundOpacity: spring(active ? 1 : 0, { stiffness: 150, damping: 15 }), backgroundScale: spring(active ? 1 : 0.95, { stiffness: 200, damping: 3 }) }}>\n        {({ backgroundOpacity, backgroundScale }) =>\n          (<div className='upload-area' style={{ visibility: active ? 'visible' : 'hidden', opacity: backgroundOpacity }}>\n            <div className='upload-area__drop'>\n              <div className='upload-area__background' style={{ transform: `scale(${backgroundScale})` }} />\n              <div className='upload-area__content'><FormattedMessage id='upload_area.title' defaultMessage='Drag & drop to upload' /></div>\n            </div>\n          </div>)\n        }\n      </Motion>\n    );\n  }\n\n}\n","import { connect } from 'react-redux';\nimport IconWithBadge from 'flavours/glitch/components/icon_with_badge';\n\nconst mapStateToProps = state => ({\n  count: state.getIn(['local_settings', 'notifications', 'tab_badge']) ? state.getIn(['notifications', 'unread']) : 0,\n  id: 'bell',\n});\n\nexport default connect(mapStateToProps)(IconWithBadge);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { debounce } from 'lodash';\nimport { isUserTouching } from 'flavours/glitch/util/is_mobile';\nimport Icon from 'flavours/glitch/components/icon';\nimport NotificationsCounterIcon from './notifications_counter_icon';\n\nexport const links = [\n  <NavLink className='tabs-bar__link' to='/home' data-preview-title-id='column.home' data-preview-icon='home' ><Icon id='home' fixedWidth /><FormattedMessage id='tabs_bar.home' defaultMessage='Home' /></NavLink>,\n  <NavLink className='tabs-bar__link' to='/notifications' data-preview-title-id='column.notifications' data-preview-icon='bell' ><NotificationsCounterIcon /><FormattedMessage id='tabs_bar.notifications' defaultMessage='Notifications' /></NavLink>,\n  <NavLink className='tabs-bar__link' to='/public/local' data-preview-title-id='column.community' data-preview-icon='users' ><Icon id='users' fixedWidth /><FormattedMessage id='tabs_bar.local_timeline' defaultMessage='Local' /></NavLink>,\n  <NavLink className='tabs-bar__link' exact to='/public' data-preview-title-id='column.public' data-preview-icon='globe' ><Icon id='globe' fixedWidth /><FormattedMessage id='tabs_bar.federated_timeline' defaultMessage='Federated' /></NavLink>,\n  <NavLink className='tabs-bar__link optional' to='/search' data-preview-title-id='tabs_bar.search' data-preview-icon='bell' ><Icon id='search' fixedWidth /><FormattedMessage id='tabs_bar.search' defaultMessage='Search' /></NavLink>,\n  <NavLink className='tabs-bar__link' style={{ flexGrow: '0', flexBasis: '30px' }} to='/getting-started' data-preview-title-id='getting_started.heading' data-preview-icon='bars' ><Icon id='bars' fixedWidth /></NavLink>,\n];\n\nexport function getIndex (path) {\n  return links.findIndex(link => link.props.to === path);\n}\n\nexport function getLink (index) {\n  return links[index].props.to;\n}\n\nexport default @injectIntl\n@withRouter\nclass TabsBar extends React.PureComponent {\n\n  static propTypes = {\n    intl: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n  }\n\n  setRef = ref => {\n    this.node = ref;\n  }\n\n  handleClick = (e) => {\n    // Only apply optimization for touch devices, which we assume are slower\n    // We thus avoid the 250ms delay for non-touch devices and the lag for touch devices\n    if (isUserTouching()) {\n      e.preventDefault();\n      e.persist();\n\n      requestAnimationFrame(() => {\n        const tabs = Array(...this.node.querySelectorAll('.tabs-bar__link'));\n        const currentTab = tabs.find(tab => tab.classList.contains('active'));\n        const nextTab = tabs.find(tab => tab.contains(e.target));\n        const { props: { to } } = links[Array(...this.node.childNodes).indexOf(nextTab)];\n\n\n        if (currentTab !== nextTab) {\n          if (currentTab) {\n            currentTab.classList.remove('active');\n          }\n\n          const listener = debounce(() => {\n            nextTab.removeEventListener('transitionend', listener);\n            this.props.history.push(to);\n          }, 50);\n\n          nextTab.addEventListener('transitionend', listener);\n          nextTab.classList.add('active');\n        }\n      });\n    }\n\n  }\n\n  render () {\n    const { intl: { formatMessage } } = this.props;\n\n    return (\n      <div className='tabs-bar__wrapper'>\n        <nav className='tabs-bar' ref={this.setRef}>\n          {links.map(link => React.cloneElement(link, { key: link.props.to, onClick: this.handleClick, 'aria-label': formatMessage({ id: link.props['data-preview-title-id'] }) }))}\n        </nav>\n\n        <div id='tabs-bar__portal' />\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\n\nconst DrawerLoading = () => (\n  <div className='drawer'>\n    <div className='drawer__pager'>\n      <div className='drawer__inner' />\n    </div>\n  </div>\n);\n\nexport default DrawerLoading;\n","import React from 'react';\nimport SearchContainer from 'flavours/glitch/features/compose/containers/search_container';\nimport ComposeFormContainer from 'flavours/glitch/features/compose/containers/compose_form_container';\nimport NavigationContainer from 'flavours/glitch/features/compose/containers/navigation_container';\nimport LinkFooter from './link_footer';\n\nconst ComposePanel = () => (\n  <div className='compose-panel'>\n    <SearchContainer openInRoute />\n    <NavigationContainer />\n    <ComposeFormContainer singleColumn />\n    <LinkFooter withHotkeys />\n  </div>\n);\n\nexport default ComposePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { fetchFollowRequests } from 'flavours/glitch/actions/accounts';\nimport { connect } from 'react-redux';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport IconWithBadge from 'flavours/glitch/components/icon_with_badge';\nimport { List as ImmutableList } from 'immutable';\nimport { FormattedMessage } from 'react-intl';\n\nconst mapStateToProps = state => ({\n  count: state.getIn(['user_lists', 'follow_requests', 'items'], ImmutableList()).size,\n});\n\nexport default @withRouter\n@connect(mapStateToProps)\nclass FollowRequestsNavLink extends React.Component {\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    count: PropTypes.number.isRequired,\n  };\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n\n    dispatch(fetchFollowRequests());\n  }\n\n  render () {\n    const { count } = this.props;\n\n    if (count === 0) {\n      return null;\n    }\n\n    return <NavLink className='column-link column-link--transparent' to='/follow_requests'><IconWithBadge className='column-link__icon' id='user-plus' count={count} /><FormattedMessage id='navigation_bar.follow_requests' defaultMessage='Follow requests' /></NavLink>;\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { fetchLists } from 'flavours/glitch/actions/lists';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport Icon from 'flavours/glitch/components/icon';\n\nconst getOrderedLists = createSelector([state => state.get('lists')], lists => {\n  if (!lists) {\n    return lists;\n  }\n\n  return lists.toList().filter(item => !!item).sort((a, b) => a.get('title').localeCompare(b.get('title'))).take(4);\n});\n\nconst mapStateToProps = state => ({\n  lists: getOrderedLists(state),\n});\n\nexport default @withRouter\n@connect(mapStateToProps)\nclass ListPanel extends ImmutablePureComponent {\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    lists: ImmutablePropTypes.list,\n  };\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchLists());\n  }\n\n  render () {\n    const { lists } = this.props;\n\n    if (!lists || lists.isEmpty()) {\n      return null;\n    }\n\n    return (\n      <div>\n        <hr />\n\n        {lists.map(list => (\n          <NavLink key={list.get('id')} className='column-link column-link--transparent' strict to={`/lists/${list.get('id')}`}><Icon className='column-link__icon' id='list-ul' fixedWidth />{list.get('title')}</NavLink>\n        ))}\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport Icon from 'flavours/glitch/components/icon';\nimport { profile_directory, showTrends } from 'flavours/glitch/util/initial_state';\nimport { preferencesLink, relationshipsLink } from 'flavours/glitch/util/backend_links';\nimport NotificationsCounterIcon from './notifications_counter_icon';\nimport FollowRequestsNavLink from './follow_requests_nav_link';\nimport ListPanel from './list_panel';\nimport TrendsContainer from 'flavours/glitch/features/getting_started/containers/trends_container';\n\nconst NavigationPanel = ({ onOpenSettings }) => (\n  <div className='navigation-panel'>\n    <NavLink className='column-link column-link--transparent' to='/home' data-preview-title-id='column.home' data-preview-icon='home' ><Icon className='column-link__icon' id='home' fixedWidth /><FormattedMessage id='tabs_bar.home' defaultMessage='Home' /></NavLink>\n    <NavLink className='column-link column-link--transparent' to='/notifications' data-preview-title-id='column.notifications' data-preview-icon='bell' ><NotificationsCounterIcon className='column-link__icon' /><FormattedMessage id='tabs_bar.notifications' defaultMessage='Notifications' /></NavLink>\n    <FollowRequestsNavLink />\n    <NavLink className='column-link column-link--transparent' to='/public/local' data-preview-title-id='column.community' data-preview-icon='users' ><Icon className='column-link__icon' id='users' fixedWidth /><FormattedMessage id='tabs_bar.local_timeline' defaultMessage='Local' /></NavLink>\n    <NavLink className='column-link column-link--transparent' exact to='/public' data-preview-title-id='column.public' data-preview-icon='globe' ><Icon className='column-link__icon' id='globe' fixedWidth /><FormattedMessage id='tabs_bar.federated_timeline' defaultMessage='Federated' /></NavLink>\n    <NavLink className='column-link column-link--transparent' to='/conversations'><Icon className='column-link__icon' id='envelope' fixedWidth /><FormattedMessage id='navigation_bar.direct' defaultMessage='Direct messages' /></NavLink>\n    <NavLink className='column-link column-link--transparent' to='/bookmarks'><Icon className='column-link__icon' id='bookmark' fixedWidth /><FormattedMessage id='navigation_bar.bookmarks' defaultMessage='Bookmarks' /></NavLink>\n    {profile_directory && <NavLink className='column-link column-link--transparent' to='/directory'><Icon className='column-link__icon' id='address-book-o' fixedWidth /><FormattedMessage id='getting_started.directory' defaultMessage='Profile directory' /></NavLink>}\n    <NavLink className='column-link column-link--transparent' to='/lists'><Icon className='column-link__icon' id='list-ul' fixedWidth /><FormattedMessage id='navigation_bar.lists' defaultMessage='Lists' /></NavLink>\n\n    <ListPanel />\n\n    <hr />\n\n    {!!preferencesLink && <a className='column-link column-link--transparent' href={preferencesLink} target='_blank'><Icon className='column-link__icon' id='cog' fixedWidth /><FormattedMessage id='navigation_bar.preferences' defaultMessage='Preferences' /></a>}\n    <a className='column-link column-link--transparent' href='#' onClick={onOpenSettings}><Icon className='column-link__icon' id='cogs' fixedWidth /><FormattedMessage id='navigation_bar.app_settings' defaultMessage='App settings' /></a>\n    {!!relationshipsLink && <a className='column-link column-link--transparent' href={relationshipsLink} target='_blank'><Icon className='column-link__icon' id='users' fixedWidth /><FormattedMessage id='navigation_bar.follows_and_followers' defaultMessage='Follows and followers' /></a>}\n\n    {showTrends && <div className='flex-spacer' />}\n    {showTrends && <TrendsContainer />}\n  </div>\n);\n\nexport default withRouter(NavigationPanel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\n\nimport ReactSwipeableViews from 'react-swipeable-views';\nimport TabsBar, { links, getIndex, getLink } from './tabs_bar';\nimport { Link } from 'react-router-dom';\n\nimport { disableSwiping } from 'flavours/glitch/util/initial_state';\n\nimport BundleContainer from '../containers/bundle_container';\nimport ColumnLoading from './column_loading';\nimport DrawerLoading from './drawer_loading';\nimport BundleColumnError from './bundle_column_error';\nimport {\n  Compose,\n  Notifications,\n  HomeTimeline,\n  CommunityTimeline,\n  PublicTimeline,\n  HashtagTimeline,\n  DirectTimeline,\n  FavouritedStatuses,\n  BookmarkedStatuses,\n  ListTimeline,\n  Directory,\n} from 'flavours/glitch/util/async-components';\nimport Icon from 'flavours/glitch/components/icon';\nimport ComposePanel from './compose_panel';\nimport NavigationPanel from './navigation_panel';\n\nimport { supportsPassiveEvents } from 'detect-passive-events';\nimport { scrollRight } from 'flavours/glitch/util/scroll';\n\nconst componentMap = {\n  'COMPOSE': Compose,\n  'HOME': HomeTimeline,\n  'NOTIFICATIONS': Notifications,\n  'PUBLIC': PublicTimeline,\n  'REMOTE': PublicTimeline,\n  'COMMUNITY': CommunityTimeline,\n  'HASHTAG': HashtagTimeline,\n  'DIRECT': DirectTimeline,\n  'FAVOURITES': FavouritedStatuses,\n  'BOOKMARKS': BookmarkedStatuses,\n  'LIST': ListTimeline,\n  'DIRECTORY': Directory,\n};\n\nconst shouldHideFAB = path => path.match(/^\\/statuses\\/|^\\/@[^/]+\\/\\d+|^\\/publish|^\\/search|^\\/getting-started|^\\/start/);\n\nconst messages = defineMessages({\n  publish: { id: 'compose_form.publish', defaultMessage: 'Toot' },\n});\n\nexport default @(component => injectIntl(component, { withRef: true }))\nclass ColumnsArea extends ImmutablePureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n  };\n\n  static propTypes = {\n    intl: PropTypes.object.isRequired,\n    columns: ImmutablePropTypes.list.isRequired,\n    singleColumn: PropTypes.bool,\n    children: PropTypes.node,\n    navbarUnder: PropTypes.bool,\n    openSettings: PropTypes.func,\n  };\n\n   // Corresponds to (max-width: 600px + (285px * 1) + (10px * 1)) in SCSS\n   mediaQuery = 'matchMedia' in window && window.matchMedia('(max-width: 895px)');\n\n  state = {\n    shouldAnimate: false,\n    renderComposePanel: !(this.mediaQuery && this.mediaQuery.matches),\n  }\n\n  componentWillReceiveProps() {\n    if (typeof this.pendingIndex !== 'number' && this.lastIndex !== getIndex(this.context.router.history.location.pathname)) {\n      this.setState({ shouldAnimate: false });\n    }\n  }\n\n  componentDidMount() {\n    if (!this.props.singleColumn) {\n      this.node.addEventListener('wheel', this.handleWheel, supportsPassiveEvents ? { passive: true } : false);\n    }\n\n    if (this.mediaQuery) {\n      if (this.mediaQuery.addEventListener) {\n        this.mediaQuery.addEventListener('change', this.handleLayoutChange);\n      } else {\n        this.mediaQuery.addListener(this.handleLayoutChange);\n      }\n      this.setState({ renderComposePanel: !this.mediaQuery.matches });\n    }\n\n    this.lastIndex   = getIndex(this.context.router.history.location.pathname);\n    this.isRtlLayout = document.getElementsByTagName('body')[0].classList.contains('rtl');\n\n    this.setState({ shouldAnimate: true });\n  }\n\n  componentWillUpdate(nextProps) {\n    if (this.props.singleColumn !== nextProps.singleColumn && nextProps.singleColumn) {\n      this.node.removeEventListener('wheel', this.handleWheel);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.singleColumn !== prevProps.singleColumn && !this.props.singleColumn) {\n      this.node.addEventListener('wheel', this.handleWheel, supportsPassiveEvents ? { passive: true } : false);\n    }\n\n    const newIndex = getIndex(this.context.router.history.location.pathname);\n\n    if (this.lastIndex !== newIndex) {\n      this.lastIndex = newIndex;\n      this.setState({ shouldAnimate: true });\n    }\n  }\n\n  componentWillUnmount () {\n    if (!this.props.singleColumn) {\n      this.node.removeEventListener('wheel', this.handleWheel);\n    }\n\n    if (this.mediaQuery) {\n      if (this.mediaQuery.removeEventListener) {\n        this.mediaQuery.removeEventListener('change', this.handleLayoutChange);\n      } else {\n        this.mediaQuery.removeListener(this.handleLayouteChange);\n      }\n    }\n  }\n\n  handleChildrenContentChange() {\n    if (!this.props.singleColumn) {\n      const modifier = this.isRtlLayout ? -1 : 1;\n      this._interruptScrollAnimation = scrollRight(this.node, (this.node.scrollWidth - window.innerWidth) * modifier);\n    }\n  }\n\n  handleLayoutChange = (e) => {\n    this.setState({ renderComposePanel: !e.matches });\n  }\n\n  handleSwipe = (index) => {\n    this.pendingIndex = index;\n\n    const nextLinkTranslationId = links[index].props['data-preview-title-id'];\n    const currentLinkSelector = '.tabs-bar__link.active';\n    const nextLinkSelector = `.tabs-bar__link[data-preview-title-id=\"${nextLinkTranslationId}\"]`;\n\n    // HACK: Remove the active class from the current link and set it to the next one\n    // React-router does this for us, but too late, feeling laggy.\n    document.querySelector(currentLinkSelector).classList.remove('active');\n    document.querySelector(nextLinkSelector).classList.add('active');\n\n    if (!this.state.shouldAnimate && typeof this.pendingIndex === 'number') {\n      this.context.router.history.push(getLink(this.pendingIndex));\n      this.pendingIndex = null;\n    }\n  }\n\n  handleAnimationEnd = () => {\n    if (typeof this.pendingIndex === 'number') {\n      this.context.router.history.push(getLink(this.pendingIndex));\n      this.pendingIndex = null;\n    }\n  }\n\n  handleWheel = () => {\n    if (typeof this._interruptScrollAnimation !== 'function') {\n      return;\n    }\n\n    this._interruptScrollAnimation();\n  }\n\n  setRef = (node) => {\n    this.node = node;\n  }\n\n  renderView = (link, index) => {\n    const columnIndex = getIndex(this.context.router.history.location.pathname);\n    const title = this.props.intl.formatMessage({ id: link.props['data-preview-title-id'] });\n    const icon = link.props['data-preview-icon'];\n\n    const view = (index === columnIndex) ?\n      React.cloneElement(this.props.children) :\n      <ColumnLoading title={title} icon={icon} />;\n\n    return (\n      <div className='columns-area columns-area--mobile' key={index}>\n        {view}\n      </div>\n    );\n  }\n\n  renderLoading = columnId => () => {\n    return columnId === 'COMPOSE' ? <DrawerLoading /> : <ColumnLoading />;\n  }\n\n  renderError = (props) => {\n    return <BundleColumnError {...props} />;\n  }\n\n  render () {\n    const { columns, children, singleColumn, intl, navbarUnder, openSettings } = this.props;\n    const { shouldAnimate, renderComposePanel } = this.state;\n\n    const columnIndex = getIndex(this.context.router.history.location.pathname);\n\n    if (singleColumn) {\n      const floatingActionButton = shouldHideFAB(this.context.router.history.location.pathname) ? null : <Link key='floating-action-button' to='/publish' className='floating-action-button' aria-label={intl.formatMessage(messages.publish)}><Icon id='pencil' /></Link>;\n\n      const content = columnIndex !== -1 ? (\n        <ReactSwipeableViews key='content' hysteresis={0.2} threshold={15} index={columnIndex} onChangeIndex={this.handleSwipe} onTransitionEnd={this.handleAnimationEnd} animateTransitions={shouldAnimate} springConfig={{ duration: '400ms', delay: '0s', easeFunction: 'ease' }} style={{ height: '100%' }} disabled={disableSwiping}>\n          {links.map(this.renderView)}\n        </ReactSwipeableViews>\n      ) : (\n        <div key='content' className='columns-area columns-area--mobile'>{children}</div>\n      );\n\n      return (\n        <div className='columns-area__panels'>\n          <div className='columns-area__panels__pane columns-area__panels__pane--compositional'>\n            <div className='columns-area__panels__pane__inner'>\n              {renderComposePanel && <ComposePanel />}\n            </div>\n          </div>\n\n          <div className={`columns-area__panels__main ${floatingActionButton && 'with-fab'}`}>\n            {!navbarUnder && <TabsBar key='tabs' />}\n            {content}\n            {navbarUnder && <TabsBar key='tabs' />}\n          </div>\n\n          <div className='columns-area__panels__pane columns-area__panels__pane--start columns-area__panels__pane--navigational'>\n            <div className='columns-area__panels__pane__inner'>\n              <NavigationPanel onOpenSettings={openSettings} />\n            </div>\n          </div>\n\n          {floatingActionButton}\n        </div>\n      );\n    }\n\n    return (\n      <div className='columns-area' ref={this.setRef}>\n        {columns.map(column => {\n          const params = column.get('params', null) === null ? null : column.get('params').toJS();\n          const other  = params && params.other ? params.other : {};\n\n          return (\n            <BundleContainer key={column.get('uuid')} fetchComponent={componentMap[column.get('id')]} loading={this.renderLoading(column.get('id'))} error={this.renderError}>\n              {SpecificComponent => <SpecificComponent columnId={column.get('uuid')} params={params} multiColumn {...other} />}\n            </BundleContainer>\n          );\n        })}\n\n        {React.Children.map(children, child => React.cloneElement(child, { multiColumn: true }))}\n      </div>\n    );\n  }\n\n}\n","import { connect } from 'react-redux';\nimport ColumnsArea from '../components/columns_area';\nimport { openModal } from 'flavours/glitch/actions/modal';\n\nconst mapStateToProps = state => ({\n  columns: state.getIn(['settings', 'columns']),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  openSettings (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    dispatch(openModal('SETTINGS', {}));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(ColumnsArea);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport IconButton from 'flavours/glitch/components/icon_button';\nimport { Link } from 'react-router-dom';\nimport Avatar from 'flavours/glitch/components/avatar';\nimport DisplayName from 'flavours/glitch/components/display_name';\nimport { defineMessages, injectIntl } from 'react-intl';\n\nconst messages = defineMessages({\n  close: { id: 'lightbox.close', defaultMessage: 'Close' },\n});\n\nconst mapStateToProps = (state, { accountId }) => ({\n  account: state.getIn(['accounts', accountId]),\n});\n\nexport default @connect(mapStateToProps)\n@injectIntl\nclass Header extends ImmutablePureComponent {\n\n  static propTypes = {\n    accountId: PropTypes.string.isRequired,\n    statusId: PropTypes.string.isRequired,\n    account: ImmutablePropTypes.map.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  render () {\n    const { account, statusId, onClose, intl } = this.props;\n\n    return (\n      <div className='picture-in-picture__header'>\n        <Link to={`/@${account.get('acct')}/${statusId}`} className='picture-in-picture__header__account'>\n          <Avatar account={account} size={36} />\n          <DisplayName account={account} />\n        </Link>\n\n        <IconButton icon='times' onClick={onClose} title={intl.formatMessage(messages.close)} />\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Video from 'flavours/glitch/features/video';\nimport Audio from 'flavours/glitch/features/audio';\nimport { removePictureInPicture } from 'flavours/glitch/actions/picture_in_picture';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport classNames from 'classnames';\n\nconst mapStateToProps = state => ({\n  ...state.get('picture_in_picture'),\n  left: state.getIn(['local_settings', 'media', 'pop_in_position']) === 'left',\n});\n\nexport default @connect(mapStateToProps)\nclass PictureInPicture extends React.Component {\n\n  static propTypes = {\n    statusId: PropTypes.string,\n    accountId: PropTypes.string,\n    type: PropTypes.string,\n    src: PropTypes.string,\n    muted: PropTypes.bool,\n    volume: PropTypes.number,\n    currentTime: PropTypes.number,\n    poster: PropTypes.string,\n    backgroundColor: PropTypes.string,\n    foregroundColor: PropTypes.string,\n    accentColor: PropTypes.string,\n    dispatch: PropTypes.func.isRequired,\n    left: PropTypes.bool,\n  };\n\n  handleClose = () => {\n    const { dispatch } = this.props;\n    dispatch(removePictureInPicture());\n  }\n\n  render () {\n    const { type, src, currentTime, accountId, statusId, left } = this.props;\n\n    if (!currentTime) {\n      return null;\n    }\n\n    let player;\n\n    if (type === 'video') {\n      player = (\n        <Video\n          src={src}\n          currentTime={this.props.currentTime}\n          volume={this.props.volume}\n          muted={this.props.muted}\n          autoPlay\n          inline\n          alwaysVisible\n        />\n      );\n    } else if (type === 'audio') {\n      player = (\n        <Audio\n          src={src}\n          currentTime={this.props.currentTime}\n          volume={this.props.volume}\n          muted={this.props.muted}\n          poster={this.props.poster}\n          backgroundColor={this.props.backgroundColor}\n          foregroundColor={this.props.foregroundColor}\n          accentColor={this.props.accentColor}\n          autoPlay\n        />\n      );\n    }\n\n    return (\n      <div className={classNames('picture-in-picture', { left })}>\n        <Header accountId={accountId} statusId={statusId} onClose={this.handleClose} />\n\n        {player}\n\n        <Footer statusId={statusId} />\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport NotificationsContainer from './containers/notifications_container';\nimport PropTypes from 'prop-types';\nimport LoadingBarContainer from './containers/loading_bar_container';\nimport ModalContainer from './containers/modal_container';\nimport { connect } from 'react-redux';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { isMobile } from 'flavours/glitch/util/is_mobile';\nimport { debounce } from 'lodash';\nimport { uploadCompose, resetCompose, changeComposeSpoilerness } from 'flavours/glitch/actions/compose';\nimport { expandHomeTimeline } from 'flavours/glitch/actions/timelines';\nimport { expandNotifications, notificationsSetVisibility } from 'flavours/glitch/actions/notifications';\nimport { fetchFilters } from 'flavours/glitch/actions/filters';\nimport { fetchRules } from 'flavours/glitch/actions/rules';\nimport { clearHeight } from 'flavours/glitch/actions/height_cache';\nimport { synchronouslySubmitMarkers, submitMarkers, fetchMarkers } from 'flavours/glitch/actions/markers';\nimport { WrappedSwitch, WrappedRoute } from 'flavours/glitch/util/react_router_helpers';\nimport UploadArea from './components/upload_area';\nimport PermaLink from 'flavours/glitch/components/permalink';\nimport ColumnsAreaContainer from './containers/columns_area_container';\nimport classNames from 'classnames';\nimport Favico from 'favico.js';\nimport PictureInPicture from 'flavours/glitch/features/picture_in_picture';\nimport {\n  Compose,\n  Status,\n  GettingStarted,\n  KeyboardShortcuts,\n  PublicTimeline,\n  CommunityTimeline,\n  AccountTimeline,\n  AccountGallery,\n  HomeTimeline,\n  Followers,\n  Following,\n  Reblogs,\n  Favourites,\n  DirectTimeline,\n  HashtagTimeline,\n  Notifications,\n  FollowRequests,\n  GenericNotFound,\n  FavouritedStatuses,\n  BookmarkedStatuses,\n  ListTimeline,\n  Blocks,\n  DomainBlocks,\n  Mutes,\n  PinnedStatuses,\n  Lists,\n  Search,\n  GettingStartedMisc,\n  Directory,\n  FollowRecommendations,\n} from 'flavours/glitch/util/async-components';\nimport { HotKeys } from 'react-hotkeys';\nimport { me } from 'flavours/glitch/util/initial_state';\nimport { closeOnboarding, INTRODUCTION_VERSION } from 'flavours/glitch/actions/onboarding';\nimport { defineMessages, FormattedMessage, injectIntl } from 'react-intl';\n\n// Dummy import, to make sure that <Status /> ends up in the application bundle.\n// Without this it ends up in ~8 very commonly used bundles.\nimport '../../../glitch/components/status';\n\nconst messages = defineMessages({\n  beforeUnload: { id: 'ui.beforeunload', defaultMessage: 'Your draft will be lost if you leave Mastodon.' },\n});\n\nconst mapStateToProps = state => ({\n  hasComposingText: state.getIn(['compose', 'text']).trim().length !== 0,\n  hasMediaAttachments: state.getIn(['compose', 'media_attachments']).size > 0,\n  canUploadMore: !state.getIn(['compose', 'media_attachments']).some(x => ['audio', 'video'].includes(x.get('type'))) && state.getIn(['compose', 'media_attachments']).size < 4,\n  layout: state.getIn(['local_settings', 'layout']),\n  isWide: state.getIn(['local_settings', 'stretch']),\n  navbarUnder: state.getIn(['local_settings', 'navbar_under']),\n  dropdownMenuIsOpen: state.getIn(['dropdown_menu', 'openId']) !== null,\n  unreadNotifications: state.getIn(['notifications', 'unread']),\n  showFaviconBadge: state.getIn(['local_settings', 'notifications', 'favicon_badge']),\n  hicolorPrivacyIcons: state.getIn(['local_settings', 'hicolor_privacy_icons']),\n  moved: state.getIn(['accounts', me, 'moved']) && state.getIn(['accounts', state.getIn(['accounts', me, 'moved'])]),\n  firstLaunch: state.getIn(['settings', 'introductionVersion'], 0) < INTRODUCTION_VERSION,\n  username: state.getIn(['accounts', me, 'username']),\n});\n\nconst keyMap = {\n  help: '?',\n  new: 'n',\n  search: 's',\n  forceNew: 'option+n',\n  toggleComposeSpoilers: 'option+x',\n  focusColumn: ['1', '2', '3', '4', '5', '6', '7', '8', '9'],\n  reply: 'r',\n  favourite: 'f',\n  boost: 'b',\n  mention: 'm',\n  open: ['enter', 'o'],\n  openProfile: 'p',\n  moveDown: ['down', 'j'],\n  moveUp: ['up', 'k'],\n  back: 'backspace',\n  goToHome: 'g h',\n  goToNotifications: 'g n',\n  goToLocal: 'g l',\n  goToFederated: 'g t',\n  goToDirect: 'g d',\n  goToStart: 'g s',\n  goToFavourites: 'g f',\n  goToPinned: 'g p',\n  goToProfile: 'g u',\n  goToBlocked: 'g b',\n  goToMuted: 'g m',\n  goToRequests: 'g r',\n  toggleSpoiler: 'x',\n  bookmark: 'd',\n  toggleCollapse: 'shift+x',\n  toggleSensitive: 'h',\n  openMedia: 'e',\n};\n\nclass SwitchingColumnsArea extends React.PureComponent {\n\n  static propTypes = {\n    children: PropTypes.node,\n    layout: PropTypes.string,\n    location: PropTypes.object,\n    navbarUnder: PropTypes.bool,\n    onLayoutChange: PropTypes.func.isRequired,\n  };\n\n  state = {\n    mobile: isMobile(window.innerWidth, this.props.layout),\n  };\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.layout !== this.props.layout) {\n      this.setState({ mobile: isMobile(window.innerWidth, nextProps.layout) });\n    }\n  }\n\n  componentWillMount () {\n    window.addEventListener('resize', this.handleResize, { passive: true });\n\n    if (this.state.mobile) {\n      document.body.classList.toggle('layout-single-column', true);\n      document.body.classList.toggle('layout-multiple-columns', false);\n    } else {\n      document.body.classList.toggle('layout-single-column', false);\n      document.body.classList.toggle('layout-multiple-columns', true);\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (![this.props.location.pathname, '/'].includes(prevProps.location.pathname)) {\n      this.node.handleChildrenContentChange();\n    }\n\n    if (prevState.mobile !== this.state.mobile) {\n      document.body.classList.toggle('layout-single-column', this.state.mobile);\n      document.body.classList.toggle('layout-multiple-columns', !this.state.mobile);\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleLayoutChange = debounce(() => {\n    // The cached heights are no longer accurate, invalidate\n    this.props.onLayoutChange();\n  }, 500, {\n    trailing: true,\n  })\n\n  handleResize = () => {\n    const mobile = isMobile(window.innerWidth, this.props.layout);\n\n    if (mobile !== this.state.mobile) {\n      this.handleLayoutChange.cancel();\n      this.props.onLayoutChange();\n      this.setState({ mobile });\n    } else {\n      this.handleLayoutChange();\n    }\n  }\n\n  setRef = c => {\n    if (c) {\n      this.node = c.getWrappedInstance();\n    }\n  }\n\n  render () {\n    const { children, navbarUnder } = this.props;\n    const singleColumn = this.state.mobile;\n    const redirect = singleColumn ? <Redirect from='/' to='/home' exact /> : <Redirect from='/' to='/getting-started' exact />;\n\n    return (\n      <ColumnsAreaContainer ref={this.setRef} singleColumn={singleColumn} navbarUnder={navbarUnder}>\n        <WrappedSwitch>\n          {redirect}\n          <WrappedRoute path='/getting-started' component={GettingStarted} content={children} />\n          <WrappedRoute path='/keyboard-shortcuts' component={KeyboardShortcuts} content={children} />\n\n          <WrappedRoute path={['/home', '/timelines/home']} component={HomeTimeline} content={children} />\n          <WrappedRoute path={['/public', '/timelines/public']} exact component={PublicTimeline} content={children} />\n          <WrappedRoute path={['/public/local', '/timelines/public/local']} exact component={CommunityTimeline} content={children} />\n          <WrappedRoute path={['/conversations', '/timelines/direct']} component={DirectTimeline} content={children} />\n          <WrappedRoute path='/tags/:id' component={HashtagTimeline} content={children} />\n          <WrappedRoute path='/lists/:id' component={ListTimeline} content={children} />\n          <WrappedRoute path='/notifications' component={Notifications} content={children} />\n          <WrappedRoute path='/favourites' component={FavouritedStatuses} content={children} />\n\n          <WrappedRoute path='/bookmarks' component={BookmarkedStatuses} content={children} />\n          <WrappedRoute path='/pinned' component={PinnedStatuses} content={children} />\n\n          <WrappedRoute path='/start' component={FollowRecommendations} content={children} />\n          <WrappedRoute path='/search' component={Search} content={children} />\n          <WrappedRoute path='/directory' component={Directory} content={children} />\n          <WrappedRoute path={['/publish', '/statuses/new']} component={Compose} content={children} />\n\n          <WrappedRoute path={['/@:acct', '/accounts/:id']} exact component={AccountTimeline} content={children} />\n          <WrappedRoute path={['/@:acct/with_replies', '/accounts/:id/with_replies']} component={AccountTimeline} content={children} componentParams={{ withReplies: true }} />\n          <WrappedRoute path={['/@:acct/followers', '/accounts/:id/followers']} component={Followers} content={children} />\n          <WrappedRoute path={['/@:acct/following', '/accounts/:id/following']} component={Following} content={children} />\n          <WrappedRoute path={['/@:acct/media', '/accounts/:id/media']} component={AccountGallery} content={children} />\n          <WrappedRoute path='/@:acct/:statusId' exact component={Status} content={children} />\n          <WrappedRoute path='/@:acct/:statusId/reblogs' component={Reblogs} content={children} />\n          <WrappedRoute path='/@:acct/:statusId/favourites' component={Favourites} content={children} />\n\n          {/* Legacy routes, cannot be easily factored with other routes because they share a param name */}\n          <WrappedRoute path='/timelines/tag/:id' component={HashtagTimeline} content={children} />\n          <WrappedRoute path='/timelines/list/:id' component={ListTimeline} content={children} />\n          <WrappedRoute path='/statuses/:statusId' exact component={Status} content={children} />\n          <WrappedRoute path='/statuses/:statusId/reblogs' component={Reblogs} content={children} />\n          <WrappedRoute path='/statuses/:statusId/favourites' component={Favourites} content={children} />\n\n          <WrappedRoute path='/follow_requests' component={FollowRequests} content={children} />\n          <WrappedRoute path='/blocks' component={Blocks} content={children} />\n          <WrappedRoute path='/domain_blocks' component={DomainBlocks} content={children} />\n          <WrappedRoute path='/mutes' component={Mutes} content={children} />\n          <WrappedRoute path='/lists' component={Lists} content={children} />\n          <WrappedRoute path='/getting-started-misc' component={GettingStartedMisc} content={children} />\n\n          <WrappedRoute component={GenericNotFound} content={children} />\n        </WrappedSwitch>\n      </ColumnsAreaContainer>\n    );\n  };\n\n}\n\nexport default @connect(mapStateToProps)\n@injectIntl\n@withRouter\nclass UI extends React.Component {\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    children: PropTypes.node,\n    layout: PropTypes.string,\n    isWide: PropTypes.bool,\n    systemFontUi: PropTypes.bool,\n    navbarUnder: PropTypes.bool,\n    isComposing: PropTypes.bool,\n    hasComposingText: PropTypes.bool,\n    hasMediaAttachments: PropTypes.bool,\n    canUploadMore: PropTypes.bool,\n    match: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    intl: PropTypes.object.isRequired,\n    dropdownMenuIsOpen: PropTypes.bool,\n    unreadNotifications: PropTypes.number,\n    showFaviconBadge: PropTypes.bool,\n    moved: PropTypes.map,\n    firstLaunch: PropTypes.bool,\n    username: PropTypes.string,\n  };\n\n  state = {\n    draggingOver: false,\n  };\n\n  handleBeforeUnload = (e) => {\n    const { intl, dispatch, hasComposingText, hasMediaAttachments } = this.props;\n\n    dispatch(synchronouslySubmitMarkers());\n\n    if (hasComposingText || hasMediaAttachments) {\n      // Setting returnValue to any string causes confirmation dialog.\n      // Many browsers no longer display this text to users,\n      // but we set user-friendly message for other browsers, e.g. Edge.\n      e.returnValue = intl.formatMessage(messages.beforeUnload);\n    }\n  }\n\n  handleLayoutChange = () => {\n    // The cached heights are no longer accurate, invalidate\n    this.props.dispatch(clearHeight());\n  }\n\n  handleDragEnter = (e) => {\n    e.preventDefault();\n\n    if (!this.dragTargets) {\n      this.dragTargets = [];\n    }\n\n    if (this.dragTargets.indexOf(e.target) === -1) {\n      this.dragTargets.push(e.target);\n    }\n\n    if (e.dataTransfer && e.dataTransfer.types.includes('Files') && this.props.canUploadMore) {\n      this.setState({ draggingOver: true });\n    }\n  }\n\n  handleDragOver = (e) => {\n    if (this.dataTransferIsText(e.dataTransfer)) return false;\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      e.dataTransfer.dropEffect = 'copy';\n    } catch (err) {\n\n    }\n\n    return false;\n  }\n\n  handleDrop = (e) => {\n    if (this.dataTransferIsText(e.dataTransfer)) return;\n\n    e.preventDefault();\n\n    this.setState({ draggingOver: false });\n    this.dragTargets = [];\n\n    if (e.dataTransfer && e.dataTransfer.files.length >= 1 && this.props.canUploadMore) {\n      this.props.dispatch(uploadCompose(e.dataTransfer.files));\n    }\n  }\n\n  handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.dragTargets = this.dragTargets.filter(el => el !== e.target && this.node.contains(el));\n\n    if (this.dragTargets.length > 0) {\n      return;\n    }\n\n    this.setState({ draggingOver: false });\n  }\n\n  dataTransferIsText = (dataTransfer) => {\n    return (dataTransfer && Array.from(dataTransfer.types).filter((type) => type === 'text/plain').length === 1);\n  }\n\n  closeUploadModal = () => {\n    this.setState({ draggingOver: false });\n  }\n\n  handleServiceWorkerPostMessage = ({ data }) => {\n    if (data.type === 'navigate') {\n      this.props.history.push(data.path);\n    } else {\n      console.warn('Unknown message type:', data.type);\n    }\n  }\n\n  handleVisibilityChange = () => {\n    const visibility = !document[this.visibilityHiddenProp];\n    this.props.dispatch(notificationsSetVisibility(visibility));\n    if (visibility) {\n      this.props.dispatch(submitMarkers({ immediate: true }));\n    }\n  }\n\n  componentWillMount () {\n    window.addEventListener('beforeunload', this.handleBeforeUnload, false);\n    document.addEventListener('dragenter', this.handleDragEnter, false);\n    document.addEventListener('dragover', this.handleDragOver, false);\n    document.addEventListener('drop', this.handleDrop, false);\n    document.addEventListener('dragleave', this.handleDragLeave, false);\n    document.addEventListener('dragend', this.handleDragEnd, false);\n\n    if ('serviceWorker' in  navigator) {\n      navigator.serviceWorker.addEventListener('message', this.handleServiceWorkerPostMessage);\n    }\n\n    this.favicon = new Favico({ animation:\"none\" });\n\n    // On first launch, redirect to the follow recommendations page\n    if (this.props.firstLaunch) {\n      this.context.router.history.replace('/start');\n      this.props.dispatch(closeOnboarding());\n    }\n\n    this.props.dispatch(fetchMarkers());\n    this.props.dispatch(expandHomeTimeline());\n    this.props.dispatch(expandNotifications());\n    setTimeout(() => this.props.dispatch(fetchFilters()), 500);\n    setTimeout(() => this.props.dispatch(fetchRules()), 3000);\n  }\n\n  componentDidMount () {\n    this.hotkeys.__mousetrap__.stopCallback = (e, element) => {\n      return ['TEXTAREA', 'SELECT', 'INPUT'].includes(element.tagName);\n    };\n\n    if (typeof document.hidden !== 'undefined') { // Opera 12.10 and Firefox 18 and later support\n      this.visibilityHiddenProp = 'hidden';\n      this.visibilityChange = 'visibilitychange';\n    } else if (typeof document.msHidden !== 'undefined') {\n      this.visibilityHiddenProp = 'msHidden';\n      this.visibilityChange = 'msvisibilitychange';\n    } else if (typeof document.webkitHidden !== 'undefined') {\n      this.visibilityHiddenProp = 'webkitHidden';\n      this.visibilityChange = 'webkitvisibilitychange';\n    }\n\n    if (this.visibilityChange !== undefined) {\n      document.addEventListener(this.visibilityChange, this.handleVisibilityChange, false);\n      this.handleVisibilityChange();\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.unreadNotifications != prevProps.unreadNotifications ||\n        this.props.showFaviconBadge != prevProps.showFaviconBadge) {\n      if (this.favicon) {\n        try {\n          this.favicon.badge(this.props.showFaviconBadge ? this.props.unreadNotifications : 0);\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n  }\n\n  componentWillUnmount () {\n    if (this.visibilityChange !== undefined) {\n      document.removeEventListener(this.visibilityChange, this.handleVisibilityChange);\n    }\n\n    window.removeEventListener('beforeunload', this.handleBeforeUnload);\n    document.removeEventListener('dragenter', this.handleDragEnter);\n    document.removeEventListener('dragover', this.handleDragOver);\n    document.removeEventListener('drop', this.handleDrop);\n    document.removeEventListener('dragleave', this.handleDragLeave);\n    document.removeEventListener('dragend', this.handleDragEnd);\n  }\n\n  setRef = c => {\n    this.node = c;\n  }\n\n  handleHotkeyNew = e => {\n    e.preventDefault();\n\n    const element = this.node.querySelector('.compose-form__autosuggest-wrapper textarea');\n\n    if (element) {\n      element.focus();\n    }\n  }\n\n  handleHotkeySearch = e => {\n    e.preventDefault();\n\n    const element = this.node.querySelector('.search__input');\n\n    if (element) {\n      element.focus();\n    }\n  }\n\n  handleHotkeyForceNew = e => {\n    this.handleHotkeyNew(e);\n    this.props.dispatch(resetCompose());\n  }\n\n  handleHotkeyToggleComposeSpoilers = e => {\n    e.preventDefault();\n    this.props.dispatch(changeComposeSpoilerness());\n  }\n\n  handleHotkeyFocusColumn = e => {\n    const index  = (e.key * 1) + 1; // First child is drawer, skip that\n    const column = this.node.querySelector(`.column:nth-child(${index})`);\n    if (!column) return;\n    const container = column.querySelector('.scrollable');\n\n    if (container) {\n      const status = container.querySelector('.focusable');\n\n      if (status) {\n        if (container.scrollTop > status.offsetTop) {\n          status.scrollIntoView(true);\n        }\n        status.focus();\n      }\n    }\n  }\n\n  handleHotkeyBack = () => {\n    // if history is exhausted, or we would leave mastodon, just go to root.\n    if (window.history.state) {\n      this.props.history.goBack();\n    } else {\n      this.props.history.push('/');\n    }\n  }\n\n  setHotkeysRef = c => {\n    this.hotkeys = c;\n  }\n\n  handleHotkeyToggleHelp = () => {\n    if (this.props.location.pathname === '/keyboard-shortcuts') {\n      this.props.history.goBack();\n    } else {\n      this.props.history.push('/keyboard-shortcuts');\n    }\n  }\n\n  handleHotkeyGoToHome = () => {\n    this.props.history.push('/home');\n  }\n\n  handleHotkeyGoToNotifications = () => {\n    this.props.history.push('/notifications');\n  }\n\n  handleHotkeyGoToLocal = () => {\n    this.props.history.push('/public/local');\n  }\n\n  handleHotkeyGoToFederated = () => {\n    this.props.history.push('/public');\n  }\n\n  handleHotkeyGoToDirect = () => {\n    this.props.history.push('/conversations');\n  }\n\n  handleHotkeyGoToStart = () => {\n    this.props.history.push('/getting-started');\n  }\n\n  handleHotkeyGoToFavourites = () => {\n    this.props.history.push('/favourites');\n  }\n\n  handleHotkeyGoToPinned = () => {\n    this.props.history.push('/pinned');\n  }\n\n  handleHotkeyGoToProfile = () => {\n    this.props.history.push(`/@${this.props.username}`);\n  }\n\n  handleHotkeyGoToBlocked = () => {\n    this.props.history.push('/blocks');\n  }\n\n  handleHotkeyGoToMuted = () => {\n    this.props.history.push('/mutes');\n  }\n\n  handleHotkeyGoToRequests = () => {\n    this.props.history.push('/follow_requests');\n  }\n\n  render () {\n    const { draggingOver } = this.state;\n    const { children, layout, isWide, navbarUnder, location, dropdownMenuIsOpen, moved } = this.props;\n\n    const columnsClass = layout => {\n      switch (layout) {\n      case 'single':\n        return 'single-column';\n      case 'multiple':\n        return 'multi-columns';\n      default:\n        return 'auto-columns';\n      }\n    };\n\n    const className = classNames('ui', columnsClass(layout), {\n      'wide': isWide,\n      'system-font': this.props.systemFontUi,\n      'navbar-under': navbarUnder,\n      'hicolor-privacy-icons': this.props.hicolorPrivacyIcons,\n    });\n\n    const handlers = {\n      help: this.handleHotkeyToggleHelp,\n      new: this.handleHotkeyNew,\n      search: this.handleHotkeySearch,\n      forceNew: this.handleHotkeyForceNew,\n      toggleComposeSpoilers: this.handleHotkeyToggleComposeSpoilers,\n      focusColumn: this.handleHotkeyFocusColumn,\n      back: this.handleHotkeyBack,\n      goToHome: this.handleHotkeyGoToHome,\n      goToNotifications: this.handleHotkeyGoToNotifications,\n      goToLocal: this.handleHotkeyGoToLocal,\n      goToFederated: this.handleHotkeyGoToFederated,\n      goToDirect: this.handleHotkeyGoToDirect,\n      goToStart: this.handleHotkeyGoToStart,\n      goToFavourites: this.handleHotkeyGoToFavourites,\n      goToPinned: this.handleHotkeyGoToPinned,\n      goToProfile: this.handleHotkeyGoToProfile,\n      goToBlocked: this.handleHotkeyGoToBlocked,\n      goToMuted: this.handleHotkeyGoToMuted,\n      goToRequests: this.handleHotkeyGoToRequests,\n    };\n\n    return (\n      <HotKeys keyMap={keyMap} handlers={handlers} ref={this.setHotkeysRef} attach={window} focused>\n        <div className={className} ref={this.setRef} style={{ pointerEvents: dropdownMenuIsOpen ? 'none' : null }}>\n          {moved && (<div className='flash-message alert'>\n            <FormattedMessage\n              id='moved_to_warning'\n              defaultMessage='This account is marked as moved to {moved_to_link}, and may thus not accept new follows.'\n              values={{ moved_to_link: (\n                <PermaLink href={moved.get('url')} to={`/@${moved.get('acct')}`}>\n                  @{moved.get('acct')}\n                </PermaLink>\n              )}}\n            />\n          </div>)}\n          <SwitchingColumnsArea location={location} layout={layout} navbarUnder={navbarUnder} onLayoutChange={this.handleLayoutChange}>\n            {children}\n          </SwitchingColumnsArea>\n\n          <PictureInPicture />\n          <NotificationsContainer />\n          <LoadingBarContainer className='loading-bar' />\n          <ModalContainer />\n          <UploadArea active={draggingOver} onClose={this.closeUploadModal} />\n        </div>\n      </HotKeys>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { source_url } from 'flavours/glitch/util/initial_state';\nimport { preferencesLink } from 'flavours/glitch/util/backend_links';\nimport StackTrace from 'stacktrace-js';\n\nexport default class ErrorBoundary extends React.PureComponent {\n\n  static propTypes = {\n    children: PropTypes.node,\n  };\n\n  state = {\n    hasError: false,\n    errorMessage: undefined,\n    stackTrace: undefined,\n    mappedStackTrace: undefined,\n    componentStack: undefined,\n  }\n\n  componentDidCatch(error, info) {\n    this.setState({\n      hasError: true,\n      errorMessage: error.toString(),\n      stackTrace: error.stack,\n      componentStack: info && info.componentStack,\n      mappedStackTrace: undefined,\n    });\n\n    StackTrace.fromError(error).then((stackframes) => {\n      this.setState({\n        mappedStackTrace: stackframes.map((sf) => sf.toString()).join('\\n'),\n      });\n    }).catch(() => {\n      this.setState({\n        mappedStackTrace: undefined,\n      });\n    });\n  }\n\n  handleReload(e) {\n    e.preventDefault();\n    window.location.reload();\n  }\n\n  render() {\n    const { hasError, errorMessage, stackTrace, mappedStackTrace, componentStack } = this.state;\n\n    if (!hasError) return this.props.children;\n\n    const likelyBrowserAddonIssue = errorMessage && errorMessage.includes('NotFoundError');\n\n    let debugInfo = '';\n    if (stackTrace) {\n      debugInfo += 'Stack trace\\n-----------\\n\\n```\\n' + errorMessage + '\\n' + stackTrace.toString() + '\\n```';\n    }\n    if (mappedStackTrace) {\n      debugInfo += 'Mapped stack trace\\n-----------\\n\\n```\\n' + errorMessage + '\\n' + mappedStackTrace.toString() + '\\n```';\n    }\n    if (componentStack) {\n      if (debugInfo) {\n        debugInfo += '\\n\\n\\n';\n      }\n      debugInfo += 'React component stack\\n---------------------\\n\\n```\\n' + componentStack.toString() + '\\n```';\n    }\n\n    let issueTracker = source_url;\n    if (source_url.match(/^https:\\/\\/github\\.com\\/[^/]+\\/[^/]+\\/?$/)) {\n      issueTracker = source_url + '/issues';\n    }\n\n    return (\n      <div tabIndex='-1'>\n        <div className='error-boundary'>\n          <h1><FormattedMessage id='web_app_crash.title' defaultMessage=\"We're sorry, but something went wrong with the Mastodon app.\" /></h1>\n          <p>\n            <FormattedMessage id='web_app_crash.content' defaultMessage='You could try any of the following:' />\n          </p>\n          <ul>\n            { likelyBrowserAddonIssue && (\n              <li>\n                <FormattedMessage\n                  id='web_app_crash.disable_addons'\n                  defaultMessage='Disable browser add-ons or built-in translation tools'\n                />\n              </li>\n            ) }\n            <li>\n              <FormattedMessage\n                id='web_app_crash.report_issue'\n                defaultMessage='Report a bug in the {issuetracker}'\n                values={{ issuetracker: <a href={issueTracker} rel='noopener noreferrer' target='_blank'><FormattedMessage id='web_app_crash.issue_tracker' defaultMessage='issue tracker' /></a> }}\n              />\n              { debugInfo !== '' && (\n                <details>\n                  <summary><FormattedMessage id='web_app_crash.debug_info' defaultMessage='Debug information' /></summary>\n                  <textarea\n                    className='web_app_crash-stacktrace'\n                    value={debugInfo}\n                    rows='10'\n                    readOnly\n                  />\n                </details>\n              )}\n            </li>\n            <li>\n              <FormattedMessage\n                id='web_app_crash.reload_page'\n                defaultMessage='{reload} the current page'\n                values={{ reload: <a href='#' onClick={this.handleReload}><FormattedMessage id='web_app_crash.reload' defaultMessage='Reload' /></a> }}\n              />\n            </li>\n            { preferencesLink !== undefined && (\n              <li>\n                <FormattedMessage\n                  id='web_app_crash.change_your_settings'\n                  defaultMessage='Change your {settings}'\n                  values={{ settings: <a href={preferencesLink}><FormattedMessage id='web_app_crash.settings' defaultMessage='settings' /></a> }}\n                />\n              </li>\n            )}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport configureStore from 'flavours/glitch/store/configureStore';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { ScrollContext } from 'react-router-scroll-4';\nimport UI from 'flavours/glitch/features/ui';\nimport { fetchCustomEmojis } from 'flavours/glitch/actions/custom_emojis';\nimport { hydrateStore } from 'flavours/glitch/actions/store';\nimport { connectUserStream } from 'flavours/glitch/actions/streaming';\nimport { checkDeprecatedLocalSettings } from 'flavours/glitch/actions/local_settings';\nimport { IntlProvider, addLocaleData } from 'react-intl';\nimport { getLocale } from 'locales';\nimport initialState from 'flavours/glitch/util/initial_state';\nimport ErrorBoundary from 'flavours/glitch/components/error_boundary';\n\nconst { localeData, messages } = getLocale();\naddLocaleData(localeData);\n\nexport const store = configureStore();\nconst hydrateAction = hydrateStore(initialState);\nstore.dispatch(hydrateAction);\n\n// check for deprecated local settings\nstore.dispatch(checkDeprecatedLocalSettings());\n\n// load custom emojis\nstore.dispatch(fetchCustomEmojis());\n\nconst createIdentityContext = state => ({\n  signedIn: !!state.meta.me,\n  accountId: state.meta.me,\n  accessToken: state.meta.access_token,\n  permissions: state.role.permissions,\n});\n\nexport default class Mastodon extends React.PureComponent {\n\n  static propTypes = {\n    locale: PropTypes.string.isRequired,\n  };\n\n  static childContextTypes = {\n    identity: PropTypes.shape({\n      signedIn: PropTypes.bool.isRequired,\n      accountId: PropTypes.string,\n      accessToken: PropTypes.string,\n    }).isRequired,\n  };\n\n  identity = createIdentityContext(initialState);\n\n  getChildContext() {\n    return {\n      identity: this.identity,\n    };\n  }\n\n  componentDidMount() {\n    if (this.identity.signedIn) {\n      this.disconnect = store.dispatch(connectUserStream());\n    }\n  }\n\n  componentWillUnmount () {\n    if (this.disconnect) {\n      this.disconnect();\n      this.disconnect = null;\n    }\n  }\n\n  shouldUpdateScroll (_, { location }) {\n    return !(location.state?.mastodonModalKey);\n  }\n\n  render () {\n    const { locale } = this.props;\n\n    return (\n      <IntlProvider locale={locale} messages={messages}>\n        <Provider store={store}>\n          <ErrorBoundary>\n            <BrowserRouter basename='/web'>\n              <ScrollContext shouldUpdateScroll={this.shouldUpdateScroll}>\n                <Route path='/' component={UI} />\n              </ScrollContext>\n            </BrowserRouter>\n          </ErrorBoundary>\n        </Provider>\n      </IntlProvider>\n    );\n  }\n\n}\n","\nimport React, { useEffect } from 'react';\nimport Mastodon, { store } from 'flavours/glitch/containers/mastodon';\n\nconst MastodonStoreRef = (props) => {\n  const { storeRef, childProps } = props;\n  useEffect(() => {\n    storeRef(store);\n  }, []);\n  return <Mastodon {...childProps} />;\n};\n\nexport default MastodonStoreRef;\n","import api from 'flavours/glitch/util/api';\n\nimport { deleteFromTimelines } from './timelines';\nimport { importFetchedStatus, importFetchedStatuses } from './importer';\nimport { ensureComposeIsVisible, setComposeToStatus } from './compose';\n\nexport const STATUS_FETCH_REQUEST = 'STATUS_FETCH_REQUEST';\nexport const STATUS_FETCH_SUCCESS = 'STATUS_FETCH_SUCCESS';\nexport const STATUS_FETCH_FAIL    = 'STATUS_FETCH_FAIL';\n\nexport const STATUS_DELETE_REQUEST = 'STATUS_DELETE_REQUEST';\nexport const STATUS_DELETE_SUCCESS = 'STATUS_DELETE_SUCCESS';\nexport const STATUS_DELETE_FAIL    = 'STATUS_DELETE_FAIL';\n\nexport const CONTEXT_FETCH_REQUEST = 'CONTEXT_FETCH_REQUEST';\nexport const CONTEXT_FETCH_SUCCESS = 'CONTEXT_FETCH_SUCCESS';\nexport const CONTEXT_FETCH_FAIL    = 'CONTEXT_FETCH_FAIL';\n\nexport const STATUS_MUTE_REQUEST = 'STATUS_MUTE_REQUEST';\nexport const STATUS_MUTE_SUCCESS = 'STATUS_MUTE_SUCCESS';\nexport const STATUS_MUTE_FAIL    = 'STATUS_MUTE_FAIL';\n\nexport const STATUS_UNMUTE_REQUEST = 'STATUS_UNMUTE_REQUEST';\nexport const STATUS_UNMUTE_SUCCESS = 'STATUS_UNMUTE_SUCCESS';\nexport const STATUS_UNMUTE_FAIL    = 'STATUS_UNMUTE_FAIL';\n\nexport const STATUS_REVEAL   = 'STATUS_REVEAL';\nexport const STATUS_HIDE     = 'STATUS_HIDE';\nexport const STATUS_COLLAPSE = 'STATUS_COLLAPSE';\n\nexport const REDRAFT = 'REDRAFT';\n\nexport const STATUS_FETCH_SOURCE_REQUEST = 'STATUS_FETCH_SOURCE_REQUEST';\nexport const STATUS_FETCH_SOURCE_SUCCESS = 'STATUS_FETCH_SOURCE_SUCCESS';\nexport const STATUS_FETCH_SOURCE_FAIL    = 'STATUS_FETCH_SOURCE_FAIL';\n\nexport function fetchStatusRequest(id, skipLoading) {\n  return {\n    type: STATUS_FETCH_REQUEST,\n    id,\n    skipLoading,\n  };\n};\n\nexport function fetchStatus(id) {\n  return (dispatch, getState) => {\n    const skipLoading = getState().getIn(['statuses', id], null) !== null;\n\n    dispatch(fetchContext(id));\n\n    if (skipLoading) {\n      return;\n    }\n\n    dispatch(fetchStatusRequest(id, skipLoading));\n\n    api(getState).get(`/api/v1/statuses/${id}`).then(response => {\n      dispatch(importFetchedStatus(response.data));\n      dispatch(fetchStatusSuccess(skipLoading));\n    }).catch(error => {\n      dispatch(fetchStatusFail(id, error, skipLoading));\n    });\n  };\n};\n\nexport function fetchStatusSuccess(skipLoading) {\n  return {\n    type: STATUS_FETCH_SUCCESS,\n    skipLoading,\n  };\n};\n\nexport function fetchStatusFail(id, error, skipLoading) {\n  return {\n    type: STATUS_FETCH_FAIL,\n    id,\n    error,\n    skipLoading,\n    skipAlert: true,\n  };\n};\n\nexport function redraft(status, raw_text, content_type) {\n  return {\n    type: REDRAFT,\n    status,\n    raw_text,\n    content_type,\n  };\n};\n\nexport const editStatus = (id, routerHistory) => (dispatch, getState) => {\n  let status = getState().getIn(['statuses', id]);\n\n  if (status.get('poll')) {\n    status = status.set('poll', getState().getIn(['polls', status.get('poll')]));\n  }\n\n  dispatch(fetchStatusSourceRequest());\n\n  api(getState).get(`/api/v1/statuses/${id}/source`).then(response => {\n    dispatch(fetchStatusSourceSuccess());\n    ensureComposeIsVisible(getState, routerHistory);\n    dispatch(setComposeToStatus(status, response.data.text, response.data.spoiler_text));\n  }).catch(error => {\n    dispatch(fetchStatusSourceFail(error));\n  });\n};\n\nexport const fetchStatusSourceRequest = () => ({\n  type: STATUS_FETCH_SOURCE_REQUEST,\n});\n\nexport const fetchStatusSourceSuccess = () => ({\n  type: STATUS_FETCH_SOURCE_SUCCESS,\n});\n\nexport const fetchStatusSourceFail = error => ({\n  type: STATUS_FETCH_SOURCE_FAIL,\n  error,\n});\n\nexport function deleteStatus(id, routerHistory, withRedraft = false) {\n  return (dispatch, getState) => {\n    let status = getState().getIn(['statuses', id]);\n\n    if (status.get('poll')) {\n      status = status.set('poll', getState().getIn(['polls', status.get('poll')]));\n    }\n\n    dispatch(deleteStatusRequest(id));\n\n    api(getState).delete(`/api/v1/statuses/${id}`).then(response => {\n      dispatch(deleteStatusSuccess(id));\n      dispatch(deleteFromTimelines(id));\n\n      if (withRedraft) {\n        dispatch(redraft(status, response.data.text, response.data.content_type));\n\n        ensureComposeIsVisible(getState, routerHistory);\n      }\n    }).catch(error => {\n      dispatch(deleteStatusFail(id, error));\n    });\n  };\n};\n\nexport function deleteStatusRequest(id) {\n  return {\n    type: STATUS_DELETE_REQUEST,\n    id: id,\n  };\n};\n\nexport function deleteStatusSuccess(id) {\n  return {\n    type: STATUS_DELETE_SUCCESS,\n    id: id,\n  };\n};\n\nexport function deleteStatusFail(id, error) {\n  return {\n    type: STATUS_DELETE_FAIL,\n    id: id,\n    error: error,\n  };\n};\n\nexport const updateStatus = status => dispatch =>\n  dispatch(importFetchedStatus(status));\n\nexport function fetchContext(id) {\n  return (dispatch, getState) => {\n    dispatch(fetchContextRequest(id));\n\n    api(getState).get(`/api/v1/statuses/${id}/context`).then(response => {\n      dispatch(importFetchedStatuses(response.data.ancestors.concat(response.data.descendants)));\n      dispatch(fetchContextSuccess(id, response.data.ancestors, response.data.descendants));\n\n    }).catch(error => {\n      if (error.response && error.response.status === 404) {\n        dispatch(deleteFromTimelines(id));\n      }\n\n      dispatch(fetchContextFail(id, error));\n    });\n  };\n};\n\nexport function fetchContextRequest(id) {\n  return {\n    type: CONTEXT_FETCH_REQUEST,\n    id,\n  };\n};\n\nexport function fetchContextSuccess(id, ancestors, descendants) {\n  return {\n    type: CONTEXT_FETCH_SUCCESS,\n    id,\n    ancestors,\n    descendants,\n    statuses: ancestors.concat(descendants),\n  };\n};\n\nexport function fetchContextFail(id, error) {\n  return {\n    type: CONTEXT_FETCH_FAIL,\n    id,\n    error,\n    skipAlert: true,\n  };\n};\n\nexport function muteStatus(id) {\n  return (dispatch, getState) => {\n    dispatch(muteStatusRequest(id));\n\n    api(getState).post(`/api/v1/statuses/${id}/mute`).then(() => {\n      dispatch(muteStatusSuccess(id));\n    }).catch(error => {\n      dispatch(muteStatusFail(id, error));\n    });\n  };\n};\n\nexport function muteStatusRequest(id) {\n  return {\n    type: STATUS_MUTE_REQUEST,\n    id,\n  };\n};\n\nexport function muteStatusSuccess(id) {\n  return {\n    type: STATUS_MUTE_SUCCESS,\n    id,\n  };\n};\n\nexport function muteStatusFail(id, error) {\n  return {\n    type: STATUS_MUTE_FAIL,\n    id,\n    error,\n  };\n};\n\nexport function unmuteStatus(id) {\n  return (dispatch, getState) => {\n    dispatch(unmuteStatusRequest(id));\n\n    api(getState).post(`/api/v1/statuses/${id}/unmute`).then(() => {\n      dispatch(unmuteStatusSuccess(id));\n    }).catch(error => {\n      dispatch(unmuteStatusFail(id, error));\n    });\n  };\n};\n\nexport function unmuteStatusRequest(id) {\n  return {\n    type: STATUS_UNMUTE_REQUEST,\n    id,\n  };\n};\n\nexport function unmuteStatusSuccess(id) {\n  return {\n    type: STATUS_UNMUTE_SUCCESS,\n    id,\n  };\n};\n\nexport function unmuteStatusFail(id, error) {\n  return {\n    type: STATUS_UNMUTE_FAIL,\n    id,\n    error,\n  };\n};\n\nexport function hideStatus(ids) {\n  if (!Array.isArray(ids)) {\n    ids = [ids];\n  }\n\n  return {\n    type: STATUS_HIDE,\n    ids,\n  };\n};\n\nexport function revealStatus(ids) {\n  if (!Array.isArray(ids)) {\n    ids = [ids];\n  }\n\n  return {\n    type: STATUS_REVEAL,\n    ids,\n  };\n};\n\nexport function toggleStatusCollapse(id, isCollapsed) {\n  return {\n    type: STATUS_COLLAPSE,\n    id,\n    isCollapsed,\n  };\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\n\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n} // Inlined version of the `symbol-observable` polyfill\n\n\nvar $$observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n} // Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\n\n\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nvar legacy_createStore = createStore;\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { autoPlayGif } from 'flavours/glitch/util/initial_state';\nimport classNames from 'classnames';\n\nexport default class Avatar extends React.PureComponent {\n\n  static propTypes = {\n    account: ImmutablePropTypes.map,\n    className: PropTypes.string,\n    size: PropTypes.number.isRequired,\n    style: PropTypes.object,\n    inline: PropTypes.bool,\n    animate: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    animate: autoPlayGif,\n    size: 20,\n    inline: false,\n  };\n\n  state = {\n    hovering: false,\n  };\n\n  handleMouseEnter = () => {\n    if (this.props.animate) return;\n    this.setState({ hovering: true });\n  }\n\n  handleMouseLeave = () => {\n    if (this.props.animate) return;\n    this.setState({ hovering: false });\n  }\n\n  render () {\n    const {\n      account,\n      animate,\n      className,\n      inline,\n      size,\n    } = this.props;\n    const { hovering } = this.state;\n\n    const style = {\n      ...this.props.style,\n      width: `${size}px`,\n      height: `${size}px`,\n      backgroundSize: `${size}px ${size}px`,\n    };\n\n    if (account) {\n      const src = account.get('avatar');\n      const staticSrc = account.get('avatar_static');\n\n      if (hovering || animate) {\n        style.backgroundImage = `url(${src})`;\n      } else {\n        style.backgroundImage = `url(${staticSrc})`;\n      }\n    }\n\n    return (\n      <div\n        className={classNames('account__avatar', { 'account__avatar-inline': inline }, className)}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n        style={style}\n        data-avatar-of={account && `@${account.get('acct')}`}\n      />\n    );\n  }\n\n}\n","import api, { getLinks } from 'flavours/glitch/util/api';\nimport { fetchRelationships } from './accounts';\nimport { importFetchedAccounts } from './importer';\nimport { openModal } from './modal';\n\nexport const BLOCKS_FETCH_REQUEST = 'BLOCKS_FETCH_REQUEST';\nexport const BLOCKS_FETCH_SUCCESS = 'BLOCKS_FETCH_SUCCESS';\nexport const BLOCKS_FETCH_FAIL    = 'BLOCKS_FETCH_FAIL';\n\nexport const BLOCKS_EXPAND_REQUEST = 'BLOCKS_EXPAND_REQUEST';\nexport const BLOCKS_EXPAND_SUCCESS = 'BLOCKS_EXPAND_SUCCESS';\nexport const BLOCKS_EXPAND_FAIL    = 'BLOCKS_EXPAND_FAIL';\n\nexport const BLOCKS_INIT_MODAL = 'BLOCKS_INIT_MODAL';\n\nexport function fetchBlocks() {\n  return (dispatch, getState) => {\n    dispatch(fetchBlocksRequest());\n\n    api(getState).get('/api/v1/blocks').then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedAccounts(response.data));\n      dispatch(fetchBlocksSuccess(response.data, next ? next.uri : null));\n      dispatch(fetchRelationships(response.data.map(item => item.id)));\n    }).catch(error => dispatch(fetchBlocksFail(error)));\n  };\n};\n\nexport function fetchBlocksRequest() {\n  return {\n    type: BLOCKS_FETCH_REQUEST,\n  };\n};\n\nexport function fetchBlocksSuccess(accounts, next) {\n  return {\n    type: BLOCKS_FETCH_SUCCESS,\n    accounts,\n    next,\n  };\n};\n\nexport function fetchBlocksFail(error) {\n  return {\n    type: BLOCKS_FETCH_FAIL,\n    error,\n  };\n};\n\nexport function expandBlocks() {\n  return (dispatch, getState) => {\n    const url = getState().getIn(['user_lists', 'blocks', 'next']);\n\n    if (url === null) {\n      return;\n    }\n\n    dispatch(expandBlocksRequest());\n\n    api(getState).get(url).then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedAccounts(response.data));\n      dispatch(expandBlocksSuccess(response.data, next ? next.uri : null));\n      dispatch(fetchRelationships(response.data.map(item => item.id)));\n    }).catch(error => dispatch(expandBlocksFail(error)));\n  };\n};\n\nexport function expandBlocksRequest() {\n  return {\n    type: BLOCKS_EXPAND_REQUEST,\n  };\n};\n\nexport function expandBlocksSuccess(accounts, next) {\n  return {\n    type: BLOCKS_EXPAND_SUCCESS,\n    accounts,\n    next,\n  };\n};\n\nexport function expandBlocksFail(error) {\n  return {\n    type: BLOCKS_EXPAND_FAIL,\n    error,\n  };\n};\n\nexport function initBlockModal(account) {\n  return dispatch => {\n    dispatch({\n      type: BLOCKS_INIT_MODAL,\n      account,\n    });\n\n    dispatch(openModal('BLOCK'));\n  };\n}\n","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { autoPlayGif } from 'flavours/glitch/util/initial_state';\n\nexport default class DisplayName extends React.PureComponent {\n\n  static propTypes = {\n    account: ImmutablePropTypes.map,\n    className: PropTypes.string,\n    inline: PropTypes.bool,\n    localDomain: PropTypes.string,\n    others: ImmutablePropTypes.list,\n    handleClick: PropTypes.func,\n  };\n\n  handleMouseEnter = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-original');\n    }\n  }\n\n  handleMouseLeave = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-static');\n    }\n  }\n\n  render() {\n    const { account, className, inline, localDomain, others, onAccountClick } = this.props;\n\n    const computedClass = classNames('display-name', { inline }, className);\n\n    if (!account) return null;\n\n    let displayName, suffix;\n\n    let acct = account.get('acct');\n\n    if (acct.indexOf('@') === -1 && localDomain) {\n      acct = `${acct}@${localDomain}`;\n    }\n\n    if (others && others.size > 0) {\n      displayName = others.take(2).map(a => (\n        <a\n          href={a.get('url')}\n          target='_blank'\n          onClick={(e) => onAccountClick(a.get('acct'), e)}\n          title={`@${a.get('acct')}`}\n          rel='noopener noreferrer'\n        >\n          <bdi key={a.get('id')}>\n            <strong className='display-name__html' dangerouslySetInnerHTML={{ __html: a.get('display_name_html') }} />\n          </bdi>\n        </a>\n      )).reduce((prev, cur) => [prev, ', ', cur]);\n\n      if (others.size - 2 > 0) {\n       displayName.push(` +${others.size - 2}`);\n      }\n\n      suffix = (\n        <a href={account.get('url')} target='_blank' onClick={(e) => onAccountClick(account.get('acct'), e)} rel='noopener noreferrer'>\n          <span className='display-name__account'>@{acct}</span>\n        </a>\n      );\n    } else {\n      displayName = <bdi><strong className='display-name__html' dangerouslySetInnerHTML={{ __html: account.get('display_name_html') }} /></bdi>;\n      suffix      = <span className='display-name__account'>@{acct}</span>;\n    }\n\n    return (\n      <span className={computedClass} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        {displayName}\n        {inline ? ' ' : null}\n        {suffix}\n      </span>\n    );\n  }\n\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import { useLayoutEffect } from 'react';\nvar index = useLayoutEffect;\nexport default index;","import { useRef, useCallback } from 'react';\n\nvar updateRef = function updateRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n\n  ref.current = value;\n};\n\nvar useComposedRef = function useComposedRef(libRef, userRef) {\n  var prevUserRef = useRef();\n  return useCallback(function (instance) {\n    libRef.current = instance;\n\n    if (prevUserRef.current) {\n      updateRef(prevUserRef.current, null);\n    }\n\n    prevUserRef.current = userRef;\n\n    if (!userRef) {\n      return;\n    }\n\n    updateRef(userRef, instance);\n  }, [userRef]);\n};\n\nexport default useComposedRef;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useLayoutEffect, forwardRef, useRef, createElement } from 'react';\nimport useLatest from 'use-latest';\nimport useComposedRef from 'use-composed-ref';\nvar HIDDEN_TEXTAREA_STYLE = {\n  'min-height': '0',\n  'max-height': 'none',\n  height: '0',\n  visibility: 'hidden',\n  overflow: 'hidden',\n  position: 'absolute',\n  'z-index': '-1000',\n  top: '0',\n  right: '0'\n};\n\nvar forceHiddenStyles = function forceHiddenStyles(node) {\n  Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function (key) {\n    node.style.setProperty(key, HIDDEN_TEXTAREA_STYLE[key], 'important');\n  });\n}; //   export type CalculatedNodeHeights = [height: number, rowHeight: number];\n// https://github.com/microsoft/TypeScript/issues/28259\n\n\nvar hiddenTextarea = null;\n\nvar getHeight = function getHeight(node, sizingData) {\n  var height = node.scrollHeight;\n\n  if (sizingData.sizingStyle.boxSizing === 'border-box') {\n    // border-box: add border, since height = content + padding + border\n    return height + sizingData.borderSize;\n  } // remove padding, since height = content\n\n\n  return height - sizingData.paddingSize;\n};\n\nfunction calculateNodeHeight(sizingData, value, minRows, maxRows) {\n  if (minRows === void 0) {\n    minRows = 1;\n  }\n\n  if (maxRows === void 0) {\n    maxRows = Infinity;\n  }\n\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea');\n    hiddenTextarea.setAttribute('tabindex', '-1');\n    hiddenTextarea.setAttribute('aria-hidden', 'true');\n    forceHiddenStyles(hiddenTextarea);\n  }\n\n  if (hiddenTextarea.parentNode === null) {\n    document.body.appendChild(hiddenTextarea);\n  }\n\n  var paddingSize = sizingData.paddingSize,\n      borderSize = sizingData.borderSize,\n      sizingStyle = sizingData.sizingStyle;\n  var boxSizing = sizingStyle.boxSizing;\n  Object.keys(sizingStyle).forEach(function (_key) {\n    var key = _key;\n    hiddenTextarea.style[key] = sizingStyle[key];\n  });\n  forceHiddenStyles(hiddenTextarea);\n  hiddenTextarea.value = value;\n  var height = getHeight(hiddenTextarea, sizingData); // measure height of a textarea with a single row\n\n  hiddenTextarea.value = 'x';\n  var rowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  var minHeight = rowHeight * minRows;\n\n  if (boxSizing === 'border-box') {\n    minHeight = minHeight + paddingSize + borderSize;\n  }\n\n  height = Math.max(minHeight, height);\n  var maxHeight = rowHeight * maxRows;\n\n  if (boxSizing === 'border-box') {\n    maxHeight = maxHeight + paddingSize + borderSize;\n  }\n\n  height = Math.min(maxHeight, height);\n  return [height, rowHeight];\n}\n\nvar noop = function noop() {};\n\nvar pick = function pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n};\n\nvar SIZING_STYLE = ['borderBottomWidth', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'boxSizing', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight', 'letterSpacing', 'lineHeight', 'paddingBottom', 'paddingLeft', 'paddingRight', 'paddingTop', // non-standard\n'tabSize', 'textIndent', // non-standard\n'textRendering', 'textTransform', 'width', 'wordBreak'];\nvar isIE = !!document.documentElement.currentStyle;\n\nvar getSizingData = function getSizingData(node) {\n  var style = window.getComputedStyle(node);\n\n  if (style === null) {\n    return null;\n  }\n\n  var sizingStyle = pick(SIZING_STYLE, style);\n  var boxSizing = sizingStyle.boxSizing; // probably node is detached from DOM, can't read computed dimensions\n\n  if (boxSizing === '') {\n    return null;\n  } // IE (Edge has already correct behaviour) returns content width as computed width\n  // so we need to add manually padding and border widths\n\n\n  if (isIE && boxSizing === 'border-box') {\n    sizingStyle.width = parseFloat(sizingStyle.width) + parseFloat(sizingStyle.borderRightWidth) + parseFloat(sizingStyle.borderLeftWidth) + parseFloat(sizingStyle.paddingRight) + parseFloat(sizingStyle.paddingLeft) + 'px';\n  }\n\n  var paddingSize = parseFloat(sizingStyle.paddingBottom) + parseFloat(sizingStyle.paddingTop);\n  var borderSize = parseFloat(sizingStyle.borderBottomWidth) + parseFloat(sizingStyle.borderTopWidth);\n  return {\n    sizingStyle: sizingStyle,\n    paddingSize: paddingSize,\n    borderSize: borderSize\n  };\n};\n\nvar useWindowResizeListener = function useWindowResizeListener(listener) {\n  var latestListener = useLatest(listener);\n  useLayoutEffect(function () {\n    var handler = function handler(event) {\n      latestListener.current(event);\n    };\n\n    window.addEventListener('resize', handler);\n    return function () {\n      window.removeEventListener('resize', handler);\n    };\n  }, []);\n};\n\nvar TextareaAutosize = function TextareaAutosize(_ref, userRef) {\n  var cacheMeasurements = _ref.cacheMeasurements,\n      maxRows = _ref.maxRows,\n      minRows = _ref.minRows,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n      _ref$onHeightChange = _ref.onHeightChange,\n      onHeightChange = _ref$onHeightChange === void 0 ? noop : _ref$onHeightChange,\n      props = _objectWithoutPropertiesLoose(_ref, [\"cacheMeasurements\", \"maxRows\", \"minRows\", \"onChange\", \"onHeightChange\"]);\n\n  if (process.env.NODE_ENV !== 'production' && props.style) {\n    if ('maxHeight' in props.style) {\n      throw new Error('Using `style.maxHeight` for <TextareaAutosize/> is not supported. Please use `maxRows`.');\n    }\n\n    if ('minHeight' in props.style) {\n      throw new Error('Using `style.minHeight` for <TextareaAutosize/> is not supported. Please use `minRows`.');\n    }\n  }\n\n  var isControlled = props.value !== undefined;\n  var libRef = useRef(null);\n  var ref = useComposedRef(libRef, userRef);\n  var heightRef = useRef(0);\n  var measurementsCacheRef = useRef();\n\n  var resizeTextarea = function resizeTextarea() {\n    var node = libRef.current;\n    var nodeSizingData = cacheMeasurements && measurementsCacheRef.current ? measurementsCacheRef.current : getSizingData(node);\n\n    if (!nodeSizingData) {\n      return;\n    }\n\n    measurementsCacheRef.current = nodeSizingData;\n\n    var _calculateNodeHeight = calculateNodeHeight(nodeSizingData, node.value || node.placeholder || 'x', minRows, maxRows),\n        height = _calculateNodeHeight[0],\n        rowHeight = _calculateNodeHeight[1];\n\n    if (heightRef.current !== height) {\n      heightRef.current = height;\n      node.style.setProperty('height', height + \"px\", 'important');\n      onHeightChange(height, {\n        rowHeight: rowHeight\n      });\n    }\n  };\n\n  var handleChange = function handleChange(event) {\n    if (!isControlled) {\n      resizeTextarea();\n    }\n\n    onChange(event);\n  };\n\n  {\n    useLayoutEffect(resizeTextarea);\n    useWindowResizeListener(resizeTextarea);\n  }\n  return /*#__PURE__*/createElement(\"textarea\", _extends({}, props, {\n    onChange: handleChange,\n    ref: ref\n  }));\n};\n\nvar index = /* #__PURE__ */forwardRef(TextareaAutosize);\nexport default index;","import * as React from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\n\nvar useLatest = function useLatest(value) {\n  var ref = React.useRef(value);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n};\n\nexport { useLatest as default };","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _createChainableTypeChecker = require('./utils/createChainableTypeChecker');\n\nvar _createChainableTypeChecker2 = _interopRequireDefault(_createChainableTypeChecker);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction validate(props, propName, componentName, location, propFullName) {\n  var propValue = props[propName];\n  var propType = typeof propValue === 'undefined' ? 'undefined' : _typeof(propValue);\n\n  if (_react2.default.isValidElement(propValue)) {\n    return new Error('Invalid ' + location + ' `' + propFullName + '` of type ReactElement ' + ('supplied to `' + componentName + '`, expected a ReactComponent or a ') + 'DOMElement. You can usually obtain a ReactComponent or DOMElement ' + 'from a ReactElement by attaching a ref to it.');\n  }\n\n  if ((propType !== 'object' || typeof propValue.render !== 'function') && propValue.nodeType !== 1) {\n    return new Error('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected a ReactComponent or a ') + 'DOMElement.');\n  }\n\n  return null;\n}\n\nexports.default = (0, _createChainableTypeChecker2.default)(validate);\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports.default = getContainer;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction getContainer(container, defaultContainer) {\n  container = typeof container === 'function' ? container() : container;\n  return _reactDom2.default.findDOMNode(container) || defaultContainer;\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nexports.__esModule = true;\nexports.default = ownerDocument;\n\nfunction ownerDocument(node) {\n  return node && node.ownerDocument || document;\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nexports.__esModule = true;\nexports.default = getWindow;\n\nfunction getWindow(node) {\n  return node === node.window ? node : node.nodeType === 9 ? node.defaultView || node.parentWindow : false;\n}\n\nmodule.exports = exports[\"default\"];","import api from 'flavours/glitch/util/api';\n\nexport const ACCOUNT_NOTE_SUBMIT_REQUEST = 'ACCOUNT_NOTE_SUBMIT_REQUEST';\nexport const ACCOUNT_NOTE_SUBMIT_SUCCESS = 'ACCOUNT_NOTE_SUBMIT_SUCCESS';\nexport const ACCOUNT_NOTE_SUBMIT_FAIL    = 'ACCOUNT_NOTE_SUBMIT_FAIL';\n\nexport const ACCOUNT_NOTE_INIT_EDIT = 'ACCOUNT_NOTE_INIT_EDIT';\nexport const ACCOUNT_NOTE_CANCEL    = 'ACCOUNT_NOTE_CANCEL';\n\nexport const ACCOUNT_NOTE_CHANGE_COMMENT = 'ACCOUNT_NOTE_CHANGE_COMMENT';\n\nexport function submitAccountNote() {\n  return (dispatch, getState) => {\n    dispatch(submitAccountNoteRequest());\n\n    const id = getState().getIn(['account_notes', 'edit', 'account_id']);\n\n    api(getState).post(`/api/v1/accounts/${id}/note`, {\n      comment: getState().getIn(['account_notes', 'edit', 'comment']),\n    }).then(response => {\n      dispatch(submitAccountNoteSuccess(response.data));\n    }).catch(error => dispatch(submitAccountNoteFail(error)));\n  };\n};\n\nexport function submitAccountNoteRequest() {\n  return {\n    type: ACCOUNT_NOTE_SUBMIT_REQUEST,\n  };\n};\n\nexport function submitAccountNoteSuccess(relationship) {\n  return {\n    type: ACCOUNT_NOTE_SUBMIT_SUCCESS,\n    relationship,\n  };\n};\n\nexport function submitAccountNoteFail(error) {\n  return {\n    type: ACCOUNT_NOTE_SUBMIT_FAIL,\n    error,\n  };\n};\n\nexport function initEditAccountNote(account) {\n  return (dispatch, getState) => {\n    const comment = getState().getIn(['relationships', account.get('id'), 'note']);\n\n    dispatch({\n      type: ACCOUNT_NOTE_INIT_EDIT,\n      account,\n      comment,\n    });\n  };\n};\n\nexport function cancelAccountNote() {\n  return {\n    type: ACCOUNT_NOTE_CANCEL,\n  };\n};\n\nexport function changeAccountNoteComment(comment) {\n  return {\n    type: ACCOUNT_NOTE_CHANGE_COMMENT,\n    comment,\n  };\n};\n","import api, { getLinks } from 'flavours/glitch/util/api';\nimport {\n  importFetchedAccounts,\n  importFetchedStatuses,\n  importFetchedStatus,\n} from './importer';\n\nexport const CONVERSATIONS_MOUNT   = 'CONVERSATIONS_MOUNT';\nexport const CONVERSATIONS_UNMOUNT = 'CONVERSATIONS_UNMOUNT';\n\nexport const CONVERSATIONS_FETCH_REQUEST = 'CONVERSATIONS_FETCH_REQUEST';\nexport const CONVERSATIONS_FETCH_SUCCESS = 'CONVERSATIONS_FETCH_SUCCESS';\nexport const CONVERSATIONS_FETCH_FAIL    = 'CONVERSATIONS_FETCH_FAIL';\nexport const CONVERSATIONS_UPDATE        = 'CONVERSATIONS_UPDATE';\n\nexport const CONVERSATIONS_READ = 'CONVERSATIONS_READ';\n\nexport const CONVERSATIONS_DELETE_REQUEST = 'CONVERSATIONS_DELETE_REQUEST';\nexport const CONVERSATIONS_DELETE_SUCCESS = 'CONVERSATIONS_DELETE_SUCCESS';\nexport const CONVERSATIONS_DELETE_FAIL    = 'CONVERSATIONS_DELETE_FAIL';\n\nexport const mountConversations = () => ({\n  type: CONVERSATIONS_MOUNT,\n});\n\nexport const unmountConversations = () => ({\n  type: CONVERSATIONS_UNMOUNT,\n});\n\nexport const markConversationRead = conversationId => (dispatch, getState) => {\n  dispatch({\n    type: CONVERSATIONS_READ,\n    id: conversationId,\n  });\n\n  api(getState).post(`/api/v1/conversations/${conversationId}/read`);\n};\n\nexport const expandConversations = ({ maxId } = {}) => (dispatch, getState) => {\n  dispatch(expandConversationsRequest());\n\n  const params = { max_id: maxId };\n\n  if (!maxId) {\n    params.since_id = getState().getIn(['conversations', 'items', 0, 'last_status']);\n  }\n\n  const isLoadingRecent = !!params.since_id;\n\n  api(getState).get('/api/v1/conversations', { params })\n    .then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n\n      dispatch(importFetchedAccounts(response.data.reduce((aggr, item) => aggr.concat(item.accounts), [])));\n      dispatch(importFetchedStatuses(response.data.map(item => item.last_status).filter(x => !!x)));\n      dispatch(expandConversationsSuccess(response.data, next ? next.uri : null, isLoadingRecent));\n    })\n    .catch(err => dispatch(expandConversationsFail(err)));\n};\n\nexport const expandConversationsRequest = () => ({\n  type: CONVERSATIONS_FETCH_REQUEST,\n});\n\nexport const expandConversationsSuccess = (conversations, next, isLoadingRecent) => ({\n  type: CONVERSATIONS_FETCH_SUCCESS,\n  conversations,\n  next,\n  isLoadingRecent,\n});\n\nexport const expandConversationsFail = error => ({\n  type: CONVERSATIONS_FETCH_FAIL,\n  error,\n});\n\nexport const updateConversations = conversation => dispatch => {\n  dispatch(importFetchedAccounts(conversation.accounts));\n\n  if (conversation.last_status) {\n    dispatch(importFetchedStatus(conversation.last_status));\n  }\n\n  dispatch({\n    type: CONVERSATIONS_UPDATE,\n    conversation,\n  });\n};\n\nexport const deleteConversation = conversationId => (dispatch, getState) => {\n  dispatch(deleteConversationRequest(conversationId));\n\n  api(getState).delete(`/api/v1/conversations/${conversationId}`)\n    .then(() => dispatch(deleteConversationSuccess(conversationId)))\n    .catch(error => dispatch(deleteConversationFail(conversationId, error)));\n};\n\nexport const deleteConversationRequest = id => ({\n  type: CONVERSATIONS_DELETE_REQUEST,\n  id,\n});\n\nexport const deleteConversationSuccess = id => ({\n  type: CONVERSATIONS_DELETE_SUCCESS,\n  id,\n});\n\nexport const deleteConversationFail = (id, error) => ({\n  type: CONVERSATIONS_DELETE_FAIL,\n  id,\n  error,\n});\n","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n'use strict';\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function (condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.length < 10 || /^[s\\W]*$/.test(format)) {\n      throw new Error('The warning format should be able to uniquely identify this ' + 'warning. Please, use a more descriptive format than: ' + format);\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    }\n  };\n}\n\nmodule.exports = warning;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = scrollTop;\n\nvar _isWindow = _interopRequireDefault(require(\"./isWindow\"));\n\nfunction scrollTop(node, val) {\n  var win = (0, _isWindow.default)(node);\n  if (val === undefined) return win ? 'pageYOffset' in win ? win.pageYOffset : win.document.documentElement.scrollTop : node.scrollTop;\n  if (win) win.scrollTo('pageXOffset' in win ? win.pageXOffset : win.document.documentElement.scrollLeft, val);else node.scrollTop = val;\n}\n\nmodule.exports = exports[\"default\"];","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport Permalink from './permalink';\nimport classnames from 'classnames';\nimport Icon from 'flavours/glitch/components/icon';\nimport { autoPlayGif } from 'flavours/glitch/util/initial_state';\nimport { decode as decodeIDNA } from 'flavours/glitch/util/idna';\n\nconst textMatchesTarget = (text, origin, host) => {\n  return (text === origin || text === host\n          || text.startsWith(origin + '/') || text.startsWith(host + '/')\n          || 'www.' + text === host || ('www.' + text).startsWith(host + '/'));\n}\n\nconst isLinkMisleading = (link) => {\n  let linkTextParts = [];\n\n  // Reconstruct visible text, as we do not have much control over how links\n  // from remote software look, and we can't rely on `innerText` because the\n  // `invisible` class does not set `display` to `none`.\n\n  const walk = (node) => {\n    switch (node.nodeType) {\n    case Node.TEXT_NODE:\n      linkTextParts.push(node.textContent);\n      break;\n    case Node.ELEMENT_NODE:\n      if (node.classList.contains('invisible')) return;\n      const children = node.childNodes;\n      for (let i = 0; i < children.length; i++) {\n        walk(children[i]);\n      }\n      break;\n    }\n  };\n\n  walk(link);\n\n  const linkText = linkTextParts.join('');\n  const targetURL = new URL(link.href);\n\n  if (targetURL.protocol === 'magnet:') {\n    return !linkText.startsWith('magnet:');\n  }\n\n  if (targetURL.protocol === 'xmpp:') {\n    return !(linkText === targetURL.href || 'xmpp:' + linkText === targetURL.href);\n  }\n\n  // The following may not work with international domain names\n  if (textMatchesTarget(linkText, targetURL.origin, targetURL.host) || textMatchesTarget(linkText.toLowerCase(), targetURL.origin, targetURL.host)) {\n    return false;\n  }\n\n  // The link hasn't been recognized, maybe it features an international domain name\n  const hostname = decodeIDNA(targetURL.hostname).normalize('NFKC');\n  const host = targetURL.host.replace(targetURL.hostname, hostname);\n  const origin = targetURL.origin.replace(targetURL.host, host);\n  const text = linkText.normalize('NFKC');\n  return !(textMatchesTarget(text, origin, host) || textMatchesTarget(text.toLowerCase(), origin, host));\n};\n\nexport default class StatusContent extends React.PureComponent {\n\n  static propTypes = {\n    status: ImmutablePropTypes.map.isRequired,\n    expanded: PropTypes.bool,\n    collapsed: PropTypes.bool,\n    onExpandedToggle: PropTypes.func,\n    media: PropTypes.node,\n    extraMedia: PropTypes.node,\n    mediaIcons: PropTypes.arrayOf(PropTypes.string),\n    parseClick: PropTypes.func,\n    disabled: PropTypes.bool,\n    onUpdate: PropTypes.func,\n    tagLinks: PropTypes.bool,\n    rewriteMentions: PropTypes.string,\n  };\n\n  static defaultProps = {\n    tagLinks: true,\n    rewriteMentions: 'no',\n  };\n\n  state = {\n    hidden: true,\n  };\n\n  _updateStatusLinks () {\n    const node = this.contentsNode;\n    const { tagLinks, rewriteMentions } = this.props;\n\n    if (!node) {\n      return;\n    }\n\n    const links = node.querySelectorAll('a');\n\n    for (var i = 0; i < links.length; ++i) {\n      let link = links[i];\n      if (link.classList.contains('status-link')) {\n        continue;\n      }\n      link.classList.add('status-link');\n\n      let mention = this.props.status.get('mentions').find(item => link.href === item.get('url'));\n\n      if (mention) {\n        link.addEventListener('click', this.onMentionClick.bind(this, mention), false);\n        link.setAttribute('title', mention.get('acct'));\n        if (rewriteMentions !== 'no') {\n          while (link.firstChild) link.removeChild(link.firstChild);\n          link.appendChild(document.createTextNode('@'));\n          const acctSpan = document.createElement('span');\n          acctSpan.textContent = rewriteMentions === 'acct' ? mention.get('acct') : mention.get('username');\n          link.appendChild(acctSpan);\n        }\n      } else if (link.textContent[0] === '#' || (link.previousSibling && link.previousSibling.textContent && link.previousSibling.textContent[link.previousSibling.textContent.length - 1] === '#')) {\n        link.addEventListener('click', this.onHashtagClick.bind(this, link.text), false);\n      } else {\n        link.addEventListener('click', this.onLinkClick.bind(this), false);\n        link.setAttribute('title', link.href);\n        link.classList.add('unhandled-link');\n\n        try {\n          if (tagLinks && isLinkMisleading(link)) {\n            // Add a tag besides the link to display its origin\n\n            const url = new URL(link.href);\n            const tag = document.createElement('span');\n            tag.classList.add('link-origin-tag');\n            switch (url.protocol) {\n            case 'xmpp:':\n              tag.textContent = `[${url.href}]`;\n              break;\n            case 'magnet:':\n              tag.textContent = '(magnet)';\n              break;\n            default:\n              tag.textContent = `[${url.host}]`;\n            }\n            link.insertAdjacentText('beforeend', ' ');\n            link.insertAdjacentElement('beforeend', tag);\n          }\n        } catch (e) {\n          // The URL is invalid, remove the href just to be safe\n          if (tagLinks && e instanceof TypeError) link.removeAttribute('href');\n        }\n      }\n\n      link.setAttribute('target', '_blank');\n      link.setAttribute('rel', 'noopener noreferrer');\n    }\n  }\n\n  handleMouseEnter = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-original');\n    }\n  }\n\n  handleMouseLeave = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-static');\n    }\n  }\n\n  componentDidMount () {\n    this._updateStatusLinks();\n  }\n\n  componentDidUpdate () {\n    this._updateStatusLinks();\n    if (this.props.onUpdate) this.props.onUpdate();\n  }\n\n  onLinkClick = (e) => {\n    if (this.props.collapsed) {\n      if (this.props.parseClick) this.props.parseClick(e);\n    }\n  }\n\n  onMentionClick = (mention, e) => {\n    if (this.props.parseClick) {\n      this.props.parseClick(e, `/@${mention.get('acct')}`);\n    }\n  }\n\n  onHashtagClick = (hashtag, e) => {\n    hashtag = hashtag.replace(/^#/, '');\n\n    if (this.props.parseClick) {\n      this.props.parseClick(e, `/tags/${hashtag}`);\n    }\n  }\n\n  handleMouseDown = (e) => {\n    this.startXY = [e.clientX, e.clientY];\n  }\n\n  handleMouseUp = (e) => {\n    const { parseClick, disabled } = this.props;\n\n    if (disabled || !this.startXY) {\n      return;\n    }\n\n    const [ startX, startY ] = this.startXY;\n    const [ deltaX, deltaY ] = [Math.abs(e.clientX - startX), Math.abs(e.clientY - startY)];\n\n    let element = e.target;\n    while (element !== e.currentTarget) {\n      if (['button', 'video', 'a', 'label', 'canvas'].includes(element.localName) || element.getAttribute('role') === 'button') {\n        return;\n      }\n      element = element.parentNode;\n    }\n\n    if (deltaX + deltaY < 5 && e.button === 0 && parseClick) {\n      parseClick(e);\n    }\n\n    this.startXY = null;\n  }\n\n  handleSpoilerClick = (e) => {\n    e.preventDefault();\n\n    if (this.props.onExpandedToggle) {\n      this.props.onExpandedToggle();\n    } else {\n      this.setState({ hidden: !this.state.hidden });\n    }\n  }\n\n  setContentsRef = (c) => {\n    this.contentsNode = c;\n  }\n\n  render () {\n    const {\n      status,\n      media,\n      extraMedia,\n      mediaIcons,\n      parseClick,\n      disabled,\n      tagLinks,\n      rewriteMentions,\n    } = this.props;\n\n    const hidden = this.props.onExpandedToggle ? !this.props.expanded : this.state.hidden;\n\n    const content = { __html: status.get('contentHtml') };\n    const spoilerContent = { __html: status.get('spoilerHtml') };\n    const lang = status.get('language');\n    const classNames = classnames('status__content', {\n      'status__content--with-action': parseClick && !disabled,\n      'status__content--with-spoiler': status.get('spoiler_text').length > 0,\n    });\n\n    if (status.get('spoiler_text').length > 0) {\n      let mentionsPlaceholder = '';\n\n      const mentionLinks = status.get('mentions').map(item => (\n        <Permalink\n          to={`/@${item.get('acct')}`}\n          href={item.get('url')}\n          key={item.get('id')}\n          className='mention'\n        >\n          @<span>{item.get('username')}</span>\n        </Permalink>\n      )).reduce((aggregate, item) => [...aggregate, item, ' '], []);\n\n      let toggleText = null;\n      if (hidden) {\n        toggleText = [\n          <FormattedMessage\n            id='status.show_more'\n            defaultMessage='Show more'\n            key='0'\n          />,\n        ];\n        if (mediaIcons) {\n          mediaIcons.forEach((mediaIcon, idx) => {\n            toggleText.push(\n              <Icon\n                fixedWidth\n                className='status__content__spoiler-icon'\n                id={mediaIcon}\n                aria-hidden='true'\n                key={`icon-${idx}`}\n              />,\n            );\n          });\n        }\n      } else {\n        toggleText = (\n          <FormattedMessage\n            id='status.show_less'\n            defaultMessage='Show less'\n            key='0'\n          />\n        );\n      }\n\n      if (hidden) {\n        mentionsPlaceholder = <div>{mentionLinks}</div>;\n      }\n\n      return (\n        <div className={classNames} tabIndex='0' onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp}>\n          <p\n            style={{ marginBottom: hidden && status.get('mentions').isEmpty() ? '0px' : null }}\n          >\n            <span dangerouslySetInnerHTML={spoilerContent} className='translate' lang={lang} />\n            {' '}\n            <button tabIndex='0' className='status__content__spoiler-link' onClick={this.handleSpoilerClick}>\n              {toggleText}\n            </button>\n          </p>\n\n          {mentionsPlaceholder}\n\n          <div className={`status__content__spoiler ${!hidden ? 'status__content__spoiler--visible' : ''}`}>\n            <div\n              ref={this.setContentsRef}\n              key={`contents-${tagLinks}`}\n              tabIndex={!hidden ? 0 : null}\n              dangerouslySetInnerHTML={content}\n              className='status__content__text translate'\n              onMouseEnter={this.handleMouseEnter}\n              onMouseLeave={this.handleMouseLeave}\n              lang={lang}\n            />\n            {media}\n          </div>\n\n          {extraMedia}\n\n        </div>\n      );\n    } else if (parseClick) {\n      return (\n        <div\n          className={classNames}\n          onMouseDown={this.handleMouseDown}\n          onMouseUp={this.handleMouseUp}\n          tabIndex='0'\n        >\n          <div\n            ref={this.setContentsRef}\n            key={`contents-${tagLinks}-${rewriteMentions}`}\n            dangerouslySetInnerHTML={content}\n            className='status__content__text translate'\n            tabIndex='0'\n            onMouseEnter={this.handleMouseEnter}\n            onMouseLeave={this.handleMouseLeave}\n            lang={lang}\n          />\n          {media}\n          {extraMedia}\n        </div>\n      );\n    } else {\n      return (\n        <div\n          className='status__content'\n          tabIndex='0'\n        >\n          <div\n            ref={this.setContentsRef}\n            key={`contents-${tagLinks}`}\n            className='status__content__text translate'\n            dangerouslySetInnerHTML={content}\n            tabIndex='0'\n            onMouseEnter={this.handleMouseEnter}\n            onMouseLeave={this.handleMouseLeave}\n            lang={lang}\n          />\n          {media}\n          {extraMedia}\n        </div>\n      );\n    }\n  }\n\n}\n","import api from 'flavours/glitch/util/api';\nimport { importFetchedAccounts } from './importer';\nimport { fetchRelationships } from './accounts';\n\nexport const DIRECTORY_FETCH_REQUEST = 'DIRECTORY_FETCH_REQUEST';\nexport const DIRECTORY_FETCH_SUCCESS = 'DIRECTORY_FETCH_SUCCESS';\nexport const DIRECTORY_FETCH_FAIL    = 'DIRECTORY_FETCH_FAIL';\n\nexport const DIRECTORY_EXPAND_REQUEST = 'DIRECTORY_EXPAND_REQUEST';\nexport const DIRECTORY_EXPAND_SUCCESS = 'DIRECTORY_EXPAND_SUCCESS';\nexport const DIRECTORY_EXPAND_FAIL    = 'DIRECTORY_EXPAND_FAIL';\n\nexport const fetchDirectory = params => (dispatch, getState) => {\n  dispatch(fetchDirectoryRequest());\n\n  api(getState).get('/api/v1/directory', { params: { ...params, limit: 20 } }).then(({ data }) => {\n    dispatch(importFetchedAccounts(data));\n    dispatch(fetchDirectorySuccess(data));\n    dispatch(fetchRelationships(data.map(x => x.id)));\n  }).catch(error => dispatch(fetchDirectoryFail(error)));\n};\n\nexport const fetchDirectoryRequest = () => ({\n  type: DIRECTORY_FETCH_REQUEST,\n});\n\nexport const fetchDirectorySuccess = accounts => ({\n  type: DIRECTORY_FETCH_SUCCESS,\n  accounts,\n});\n\nexport const fetchDirectoryFail = error => ({\n  type: DIRECTORY_FETCH_FAIL,\n  error,\n});\n\nexport const expandDirectory = params => (dispatch, getState) => {\n  dispatch(expandDirectoryRequest());\n\n  const loadedItems = getState().getIn(['user_lists', 'directory', 'items']).size;\n\n  api(getState).get('/api/v1/directory', { params: { ...params, offset: loadedItems, limit: 20 } }).then(({ data }) => {\n    dispatch(importFetchedAccounts(data));\n    dispatch(expandDirectorySuccess(data));\n    dispatch(fetchRelationships(data.map(x => x.id)));\n  }).catch(error => dispatch(expandDirectoryFail(error)));\n};\n\nexport const expandDirectoryRequest = () => ({\n  type: DIRECTORY_EXPAND_REQUEST,\n});\n\nexport const expandDirectorySuccess = accounts => ({\n  type: DIRECTORY_EXPAND_SUCCESS,\n  accounts,\n});\n\nexport const expandDirectoryFail = error => ({\n  type: DIRECTORY_EXPAND_FAIL,\n  error,\n});\n","import api, { getLinks } from 'flavours/glitch/util/api';\nimport { importFetchedStatuses } from './importer';\n\nexport const FAVOURITED_STATUSES_FETCH_REQUEST = 'FAVOURITED_STATUSES_FETCH_REQUEST';\nexport const FAVOURITED_STATUSES_FETCH_SUCCESS = 'FAVOURITED_STATUSES_FETCH_SUCCESS';\nexport const FAVOURITED_STATUSES_FETCH_FAIL    = 'FAVOURITED_STATUSES_FETCH_FAIL';\n\nexport const FAVOURITED_STATUSES_EXPAND_REQUEST = 'FAVOURITED_STATUSES_EXPAND_REQUEST';\nexport const FAVOURITED_STATUSES_EXPAND_SUCCESS = 'FAVOURITED_STATUSES_EXPAND_SUCCESS';\nexport const FAVOURITED_STATUSES_EXPAND_FAIL    = 'FAVOURITED_STATUSES_EXPAND_FAIL';\n\nexport function fetchFavouritedStatuses() {\n  return (dispatch, getState) => {\n    if (getState().getIn(['status_lists', 'favourites', 'isLoading'])) {\n      return;\n    }\n\n    dispatch(fetchFavouritedStatusesRequest());\n\n    api(getState).get('/api/v1/favourites').then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedStatuses(response.data));\n      dispatch(fetchFavouritedStatusesSuccess(response.data, next ? next.uri : null));\n    }).catch(error => {\n      dispatch(fetchFavouritedStatusesFail(error));\n    });\n  };\n};\n\nexport function fetchFavouritedStatusesRequest() {\n  return {\n    type: FAVOURITED_STATUSES_FETCH_REQUEST,\n    skipLoading: true,\n  };\n};\n\nexport function fetchFavouritedStatusesSuccess(statuses, next) {\n  return {\n    type: FAVOURITED_STATUSES_FETCH_SUCCESS,\n    statuses,\n    next,\n    skipLoading: true,\n  };\n};\n\nexport function fetchFavouritedStatusesFail(error) {\n  return {\n    type: FAVOURITED_STATUSES_FETCH_FAIL,\n    error,\n    skipLoading: true,\n  };\n};\n\nexport function expandFavouritedStatuses() {\n  return (dispatch, getState) => {\n    const url = getState().getIn(['status_lists', 'favourites', 'next'], null);\n\n    if (url === null || getState().getIn(['status_lists', 'favourites', 'isLoading'])) {\n      return;\n    }\n\n    dispatch(expandFavouritedStatusesRequest());\n\n    api(getState).get(url).then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedStatuses(response.data));\n      dispatch(expandFavouritedStatusesSuccess(response.data, next ? next.uri : null));\n    }).catch(error => {\n      dispatch(expandFavouritedStatusesFail(error));\n    });\n  };\n};\n\nexport function expandFavouritedStatusesRequest() {\n  return {\n    type: FAVOURITED_STATUSES_EXPAND_REQUEST,\n  };\n};\n\nexport function expandFavouritedStatusesSuccess(statuses, next) {\n  return {\n    type: FAVOURITED_STATUSES_EXPAND_SUCCESS,\n    statuses,\n    next,\n  };\n};\n\nexport function expandFavouritedStatusesFail(error) {\n  return {\n    type: FAVOURITED_STATUSES_EXPAND_FAIL,\n    error,\n  };\n};\n","import api, { getLinks } from 'flavours/glitch/util/api';\nimport { importFetchedStatuses } from './importer';\n\nexport const BOOKMARKED_STATUSES_FETCH_REQUEST = 'BOOKMARKED_STATUSES_FETCH_REQUEST';\nexport const BOOKMARKED_STATUSES_FETCH_SUCCESS = 'BOOKMARKED_STATUSES_FETCH_SUCCESS';\nexport const BOOKMARKED_STATUSES_FETCH_FAIL    = 'BOOKMARKED_STATUSES_FETCH_FAIL';\n\nexport const BOOKMARKED_STATUSES_EXPAND_REQUEST = 'BOOKMARKED_STATUSES_EXPAND_REQUEST';\nexport const BOOKMARKED_STATUSES_EXPAND_SUCCESS = 'BOOKMARKED_STATUSES_EXPAND_SUCCESS';\nexport const BOOKMARKED_STATUSES_EXPAND_FAIL    = 'BOOKMARKED_STATUSES_EXPAND_FAIL';\n\nexport function fetchBookmarkedStatuses() {\n  return (dispatch, getState) => {\n    if (getState().getIn(['status_lists', 'bookmarks', 'isLoading'])) {\n      return;\n    }\n\n    dispatch(fetchBookmarkedStatusesRequest());\n\n    api(getState).get('/api/v1/bookmarks').then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedStatuses(response.data));\n      dispatch(fetchBookmarkedStatusesSuccess(response.data, next ? next.uri : null));\n    }).catch(error => {\n      dispatch(fetchBookmarkedStatusesFail(error));\n    });\n  };\n};\n\nexport function fetchBookmarkedStatusesRequest() {\n  return {\n    type: BOOKMARKED_STATUSES_FETCH_REQUEST,\n  };\n};\n\nexport function fetchBookmarkedStatusesSuccess(statuses, next) {\n  return {\n    type: BOOKMARKED_STATUSES_FETCH_SUCCESS,\n    statuses,\n    next,\n  };\n};\n\nexport function fetchBookmarkedStatusesFail(error) {\n  return {\n    type: BOOKMARKED_STATUSES_FETCH_FAIL,\n    error,\n  };\n};\n\nexport function expandBookmarkedStatuses() {\n  return (dispatch, getState) => {\n    const url = getState().getIn(['status_lists', 'bookmarks', 'next'], null);\n\n    if (url === null || getState().getIn(['status_lists', 'bookmarks', 'isLoading'])) {\n      return;\n    }\n\n    dispatch(expandBookmarkedStatusesRequest());\n\n    api(getState).get(url).then(response => {\n      const next = getLinks(response).refs.find(link => link.rel === 'next');\n      dispatch(importFetchedStatuses(response.data));\n      dispatch(expandBookmarkedStatusesSuccess(response.data, next ? next.uri : null));\n    }).catch(error => {\n      dispatch(expandBookmarkedStatusesFail(error));\n    });\n  };\n};\n\nexport function expandBookmarkedStatusesRequest() {\n  return {\n    type: BOOKMARKED_STATUSES_EXPAND_REQUEST,\n  };\n};\n\nexport function expandBookmarkedStatusesSuccess(statuses, next) {\n  return {\n    type: BOOKMARKED_STATUSES_EXPAND_SUCCESS,\n    statuses,\n    next,\n  };\n};\n\nexport function expandBookmarkedStatusesFail(error) {\n  return {\n    type: BOOKMARKED_STATUSES_EXPAND_FAIL,\n    error,\n  };\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (action) {\n  return action && action.type === '@@redux/INIT' ? 'initialState argument passed to createStore' : 'previous state received by the reducer';\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createChainableTypeChecker;\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n// Mostly taken from ReactPropTypes.\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    var componentNameSafe = componentName || '<<anonymous>>';\n    var propFullNameSafe = propFullName || propName;\n\n    if (props[propName] == null) {\n      if (isRequired) {\n        return new Error('Required ' + location + ' `' + propFullNameSafe + '` was not specified ' + ('in `' + componentNameSafe + '`.'));\n      }\n\n      return null;\n    }\n\n    for (var _len = arguments.length, args = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      args[_key - 6] = arguments[_key];\n    }\n\n    return validate.apply(undefined, [props, propName, componentNameSafe, location, propFullNameSafe].concat(args));\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n  return chainedCheckType;\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = offset;\n\nvar _contains = _interopRequireDefault(require(\"./contains\"));\n\nvar _isWindow = _interopRequireDefault(require(\"./isWindow\"));\n\nvar _ownerDocument = _interopRequireDefault(require(\"../ownerDocument\"));\n\nfunction offset(node) {\n  var doc = (0, _ownerDocument.default)(node),\n      win = (0, _isWindow.default)(doc),\n      docElem = doc && doc.documentElement,\n      box = {\n    top: 0,\n    left: 0,\n    height: 0,\n    width: 0\n  };\n  if (!doc) return; // Make sure it's not a disconnected DOM node\n\n  if (!(0, _contains.default)(docElem, node)) return box;\n  if (node.getBoundingClientRect !== undefined) box = node.getBoundingClientRect(); // IE8 getBoundingClientRect doesn't support width & height\n\n  box = {\n    top: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),\n    left: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0),\n    width: (box.width == null ? node.offsetWidth : box.width) || 0,\n    height: (box.height == null ? node.offsetHeight : box.height) || 0\n  };\n  return box;\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"../util/inDOM\"));\n\nvar _default = function () {\n  // HTML DOM and SVG DOM may have different support levels,\n  // so we need to check on context instead of a document root element.\n  return _inDOM.default ? function (context, node) {\n    if (context.contains) {\n      return context.contains(node);\n    } else if (context.compareDocumentPosition) {\n      return context === node || !!(context.compareDocumentPosition(node) & 16);\n    } else {\n      return fallback(context, node);\n    }\n  } : fallback;\n}();\n\nexports.default = _default;\n\nfunction fallback(context, node) {\n  if (node) do {\n    if (node === context) return true;\n  } while (node = node.parentNode);\n  return false;\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = style;\n\nvar _camelizeStyle = _interopRequireDefault(require(\"../util/camelizeStyle\"));\n\nvar _hyphenateStyle = _interopRequireDefault(require(\"../util/hyphenateStyle\"));\n\nvar _getComputedStyle2 = _interopRequireDefault(require(\"./getComputedStyle\"));\n\nvar _removeStyle = _interopRequireDefault(require(\"./removeStyle\"));\n\nvar _properties = require(\"../transition/properties\");\n\nvar _isTransform = _interopRequireDefault(require(\"../transition/isTransform\"));\n\nfunction style(node, property, value) {\n  var css = '';\n  var transforms = '';\n  var props = property;\n\n  if (typeof property === 'string') {\n    if (value === undefined) {\n      return node.style[(0, _camelizeStyle.default)(property)] || (0, _getComputedStyle2.default)(node).getPropertyValue((0, _hyphenateStyle.default)(property));\n    } else {\n      (props = {})[property] = value;\n    }\n  }\n\n  Object.keys(props).forEach(function (key) {\n    var value = props[key];\n\n    if (!value && value !== 0) {\n      (0, _removeStyle.default)(node, (0, _hyphenateStyle.default)(key));\n    } else if ((0, _isTransform.default)(key)) {\n      transforms += key + \"(\" + value + \") \";\n    } else {\n      css += (0, _hyphenateStyle.default)(key) + \": \" + value + \";\";\n    }\n  });\n\n  if (transforms) {\n    css += _properties.transform + \": \" + transforms + \";\";\n  }\n\n  node.style.cssText += ';' + css;\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = camelizeStyleName;\n\nvar _camelize = _interopRequireDefault(require(\"./camelize\"));\n/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n * https://github.com/facebook/react/blob/2aeb8a2a6beb00617a4217f7f8284924fa2ad819/src/vendor/core/camelizeStyleName.js\n */\n\n\nvar msPattern = /^-ms-/;\n\nfunction camelizeStyleName(string) {\n  return (0, _camelize.default)(string.replace(msPattern, 'ms-'));\n}\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.combineReducers = undefined;\n\nvar _combineReducers2 = require('./combineReducers');\n\nvar _combineReducers3 = _interopRequireDefault(_combineReducers2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.combineReducers = _combineReducers3.default;","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","export default __webpack_public_path__ + \"ocr/tesseract-core.wasm-e4db7f953ac7bcf9f67bd39031e42241.js\";","export default __webpack_public_path__ + \"ocr/worker.min-514c4b0a1fa9a086ca9ab8bfb7df6c9d.js\";","\"use strict\"; // Based on: https://github.com/lodash/lodash/blob/6018350ac10d5ce6a5b7db625140b82aeab804df/.internal/unicodeSize.js\n\nmodule.exports = () => {\n  // Used to compose unicode character classes.\n  const astralRange = \"\\\\ud800-\\\\udfff\";\n  const comboMarksRange = \"\\\\u0300-\\\\u036f\";\n  const comboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\";\n  const comboSymbolsRange = \"\\\\u20d0-\\\\u20ff\";\n  const comboMarksExtendedRange = \"\\\\u1ab0-\\\\u1aff\";\n  const comboMarksSupplementRange = \"\\\\u1dc0-\\\\u1dff\";\n  const comboRange = comboMarksRange + comboHalfMarksRange + comboSymbolsRange + comboMarksExtendedRange + comboMarksSupplementRange;\n  const varRange = \"\\\\ufe0e\\\\ufe0f\";\n  const familyRange = \"\\\\uD83D\\\\uDC69\\\\uD83C\\\\uDFFB\\\\u200D\\\\uD83C\\\\uDF93\"; // Used to compose unicode capture groups.\n\n  const astral = \"[\" + astralRange + \"]\";\n  const combo = \"[\" + comboRange + \"]\";\n  const fitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\";\n  const modifier = \"(?:\" + combo + \"|\" + fitz + \")\";\n  const nonAstral = \"[^\" + astralRange + \"]\";\n  const regional = \"(?:\\\\uD83C[\\\\uDDE6-\\\\uDDFF]){2}\";\n  const surrogatePair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\";\n  const zwj = \"\\\\u200d\";\n  const blackFlag = \"(?:\\\\ud83c\\\\udff4\\\\udb40\\\\udc67\\\\udb40\\\\udc62\\\\udb40(?:\\\\udc65|\\\\udc73|\\\\udc77)\\\\udb40(?:\\\\udc6e|\\\\udc63|\\\\udc6c)\\\\udb40(?:\\\\udc67|\\\\udc74|\\\\udc73)\\\\udb40\\\\udc7f)\";\n  const family = \"[\" + familyRange + \"]\"; // Used to compose unicode regexes.\n\n  const optModifier = modifier + \"?\";\n  const optVar = \"[\" + varRange + \"]?\";\n  const optJoin = \"(?:\" + zwj + \"(?:\" + [nonAstral, regional, surrogatePair].join(\"|\") + \")\" + (optVar + optModifier) + \")*\";\n  const seq = optVar + optModifier + optJoin;\n  const nonAstralCombo = \"\" + nonAstral + combo + \"?\";\n  const symbol = \"(?:\" + [nonAstralCombo, combo, regional, surrogatePair, astral, family].join(\"|\") + \")\"; // Used to match [String symbols](https://mathiasbynens.be/notes/javascript-unicode).\n\n  return new RegExp(blackFlag + \"|\" + fitz + \"(?=\" + fitz + \")|\" + (symbol + seq), \"g\");\n};","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport Icon from 'flavours/glitch/components/icon';\n\nconst filename = url => url.split('/').pop().split('#')[0].split('?')[0];\n\nexport default class AttachmentList extends ImmutablePureComponent {\n\n  static propTypes = {\n    media: ImmutablePropTypes.list.isRequired,\n    compact: PropTypes.bool,\n  };\n\n  render () {\n    const { media, compact } = this.props;\n\n    return (\n      <div className={classNames('attachment-list', { compact })}>\n        {!compact && (\n          <div className='attachment-list__icon'>\n            <Icon id='link' />\n          </div>\n        )}\n\n        <ul className='attachment-list__list'>\n          {media.map(attachment => {\n            const displayUrl = attachment.get('remote_url') || attachment.get('url');\n\n            return (\n              <li key={attachment.get('id')}>\n                <a href={displayUrl} target='_blank' rel='noopener noreferrer'>\n                  {compact && <Icon id='link' />}\n                  {compact && ' ' }\n                  {displayUrl ? filename(displayUrl) : <FormattedMessage id='attachments_list.unprocessed' defaultMessage='(unprocessed)' />}\n                </a>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n\n}\n","import api from 'flavours/glitch/util/api';\nimport { fetchRelationships } from './accounts';\nimport { importFetchedAccounts, importFetchedStatuses } from './importer';\n\nexport const SEARCH_CHANGE = 'SEARCH_CHANGE';\nexport const SEARCH_CLEAR  = 'SEARCH_CLEAR';\nexport const SEARCH_SHOW   = 'SEARCH_SHOW';\n\nexport const SEARCH_FETCH_REQUEST = 'SEARCH_FETCH_REQUEST';\nexport const SEARCH_FETCH_SUCCESS = 'SEARCH_FETCH_SUCCESS';\nexport const SEARCH_FETCH_FAIL    = 'SEARCH_FETCH_FAIL';\n\nexport const SEARCH_EXPAND_REQUEST = 'SEARCH_EXPAND_REQUEST';\nexport const SEARCH_EXPAND_SUCCESS = 'SEARCH_EXPAND_SUCCESS';\nexport const SEARCH_EXPAND_FAIL    = 'SEARCH_EXPAND_FAIL';\n\nexport function changeSearch(value) {\n  return {\n    type: SEARCH_CHANGE,\n    value,\n  };\n};\n\nexport function clearSearch() {\n  return {\n    type: SEARCH_CLEAR,\n  };\n};\n\nexport function submitSearch() {\n  return (dispatch, getState) => {\n    const value = getState().getIn(['search', 'value']);\n\n    if (value.length === 0) {\n      dispatch(fetchSearchSuccess({ accounts: [], statuses: [], hashtags: [] }, ''));\n      return;\n    }\n\n    dispatch(fetchSearchRequest());\n\n    api(getState).get('/api/v2/search', {\n      params: {\n        q: value,\n        resolve: true,\n        limit: 10,\n      },\n    }).then(response => {\n      if (response.data.accounts) {\n        dispatch(importFetchedAccounts(response.data.accounts));\n      }\n\n      if (response.data.statuses) {\n        dispatch(importFetchedStatuses(response.data.statuses));\n      }\n\n      dispatch(fetchSearchSuccess(response.data, value));\n      dispatch(fetchRelationships(response.data.accounts.map(item => item.id)));\n    }).catch(error => {\n      dispatch(fetchSearchFail(error));\n    });\n  };\n};\n\nexport function fetchSearchRequest() {\n  return {\n    type: SEARCH_FETCH_REQUEST,\n  };\n};\n\nexport function fetchSearchSuccess(results, searchTerm) {\n  return {\n    type: SEARCH_FETCH_SUCCESS,\n    results,\n    searchTerm,\n  };\n};\n\nexport function fetchSearchFail(error) {\n  return {\n    type: SEARCH_FETCH_FAIL,\n    error,\n  };\n};\n\nexport const expandSearch = type => (dispatch, getState) => {\n  const value  = getState().getIn(['search', 'value']);\n  const offset = getState().getIn(['search', 'results', type]).size;\n\n  dispatch(expandSearchRequest());\n\n  api(getState).get('/api/v2/search', {\n    params: {\n      q: value,\n      type,\n      offset,\n    },\n  }).then(({ data }) => {\n    if (data.accounts) {\n      dispatch(importFetchedAccounts(data.accounts));\n    }\n\n    if (data.statuses) {\n      dispatch(importFetchedStatuses(data.statuses));\n    }\n\n    dispatch(expandSearchSuccess(data, value, type));\n    dispatch(fetchRelationships(data.accounts.map(item => item.id)));\n  }).catch(error => {\n    dispatch(expandSearchFail(error));\n  });\n};\n\nexport const expandSearchRequest = () => ({\n  type: SEARCH_EXPAND_REQUEST,\n});\n\nexport const expandSearchSuccess = (results, searchTerm, searchType) => ({\n  type: SEARCH_EXPAND_SUCCESS,\n  results,\n  searchTerm,\n  searchType,\n});\n\nexport const expandSearchFail = error => ({\n  type: SEARCH_EXPAND_FAIL,\n  error,\n});\n\nexport const showSearch = () => ({\n  type: SEARCH_SHOW,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const CircularProgress = ({ size, strokeWidth }) => {\n  const viewBox = `0 0 ${size} ${size}`;\n  const radius  = (size - strokeWidth) / 2;\n\n  return (\n    <svg width={size} heigh={size} viewBox={viewBox} className='circular-progress' role='progressbar'>\n      <circle\n        fill='none'\n        cx={size / 2}\n        cy={size / 2}\n        r={radius}\n        strokeWidth={`${strokeWidth}px`}\n      />\n    </svg>\n  );\n};\n\nCircularProgress.propTypes = {\n  size: PropTypes.number.isRequired,\n  strokeWidth: PropTypes.number.isRequired,\n};\n\nconst LoadingIndicator = () => (\n  <div className='loading-indicator'>\n    <CircularProgress size={50} strokeWidth={6} />\n  </div>\n);\n\nexport default LoadingIndicator;\n","import { saveSettings } from './settings';\n\nexport const COLUMN_ADD           = 'COLUMN_ADD';\nexport const COLUMN_REMOVE        = 'COLUMN_REMOVE';\nexport const COLUMN_MOVE          = 'COLUMN_MOVE';\nexport const COLUMN_PARAMS_CHANGE = 'COLUMN_PARAMS_CHANGE';\n\nexport function addColumn(id, params) {\n  return dispatch => {\n    dispatch({\n      type: COLUMN_ADD,\n      id,\n      params,\n    });\n\n    dispatch(saveSettings());\n  };\n};\n\nexport function removeColumn(uuid) {\n  return dispatch => {\n    dispatch({\n      type: COLUMN_REMOVE,\n      uuid,\n    });\n\n    dispatch(saveSettings());\n  };\n};\n\nexport function moveColumn(uuid, direction) {\n  return dispatch => {\n    dispatch({\n      type: COLUMN_MOVE,\n      uuid,\n      direction,\n    });\n\n    dispatch(saveSettings());\n  };\n};\n\nexport function changeColumnParams(uuid, path, value) {\n  return dispatch => {\n    dispatch({\n      type: COLUMN_PARAMS_CHANGE,\n      uuid,\n      path,\n      value,\n    });\n\n    dispatch(saveSettings());\n  };\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = {\n  message: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element]).isRequired,\n  action: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.string, _propTypes2.default.node]),\n  onClick: _propTypes2.default.func,\n  style: _propTypes2.default.bool,\n  actionStyle: _propTypes2.default.object,\n  titleStyle: _propTypes2.default.object,\n  barStyle: _propTypes2.default.object,\n  activeBarStyle: _propTypes2.default.object,\n  dismissAfter: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  onDismiss: _propTypes2.default.func,\n  className: _propTypes2.default.string,\n  activeClassName: _propTypes2.default.string,\n  isActive: _propTypes2.default.bool,\n  title: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.node])\n};","//  Package imports  //\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport Icon from 'flavours/glitch/components/icon';\n\nconst messages = defineMessages({\n  public: { id: 'privacy.public.short', defaultMessage: 'Public' },\n  unlisted: { id: 'privacy.unlisted.short', defaultMessage: 'Unlisted' },\n  private: { id: 'privacy.private.short', defaultMessage: 'Followers-only' },\n  direct: { id: 'privacy.direct.short', defaultMessage: 'Mentioned people only' },\n  local: { id: 'privacy.local.short', defaultMessage: 'Local' },\n});\n\nexport default @injectIntl\nclass VisibilityIcon extends ImmutablePureComponent {\n\n  static propTypes = {\n    visibility: PropTypes.string,\n    intl: PropTypes.object.isRequired,\n    withLabel: PropTypes.bool,\n  };\n\n  render() {\n    const { withLabel, visibility, intl } = this.props;\n\n    const visibilityIcon = {\n      public: 'globe',\n      unlisted: 'unlock',\n      private: 'lock',\n      direct: 'envelope',\n      local: 'map-pin',\n    }[visibility];\n\n    const label = intl.formatMessage(messages[visibility]);\n\n    const icon = (<Icon\n      className='status__visibility-icon'\n      fixedWidth\n      id={visibilityIcon}\n      title={label}\n      aria-hidden='true'\n    />);\n\n    if (withLabel) {\n      return (<span style={{ whiteSpace: 'nowrap' }}>{icon} {label}</span>);\n    } else {\n      return icon;\n    }\n  }\n\n}\n","import api from 'flavours/glitch/util/api';\nimport { importFetchedAccounts } from './importer';\nimport { fetchRelationships } from './accounts';\n\nexport const SUGGESTIONS_FETCH_REQUEST = 'SUGGESTIONS_FETCH_REQUEST';\nexport const SUGGESTIONS_FETCH_SUCCESS = 'SUGGESTIONS_FETCH_SUCCESS';\nexport const SUGGESTIONS_FETCH_FAIL    = 'SUGGESTIONS_FETCH_FAIL';\n\nexport const SUGGESTIONS_DISMISS = 'SUGGESTIONS_DISMISS';\n\nexport function fetchSuggestions(withRelationships = false) {\n  return (dispatch, getState) => {\n    dispatch(fetchSuggestionsRequest());\n\n    api(getState).get('/api/v2/suggestions', { params: { limit: 20 } }).then(response => {\n      dispatch(importFetchedAccounts(response.data.map(x => x.account)));\n      dispatch(fetchSuggestionsSuccess(response.data));\n\n      if (withRelationships) {\n        dispatch(fetchRelationships(response.data.map(item => item.account.id)));\n      }\n    }).catch(error => dispatch(fetchSuggestionsFail(error)));\n  };\n};\n\nexport function fetchSuggestionsRequest() {\n  return {\n    type: SUGGESTIONS_FETCH_REQUEST,\n    skipLoading: true,\n  };\n};\n\nexport function fetchSuggestionsSuccess(suggestions) {\n  return {\n    type: SUGGESTIONS_FETCH_SUCCESS,\n    suggestions,\n    skipLoading: true,\n  };\n};\n\nexport function fetchSuggestionsFail(error) {\n  return {\n    type: SUGGESTIONS_FETCH_FAIL,\n    error,\n    skipLoading: true,\n    skipAlert: true,\n  };\n};\n\nexport const dismissSuggestion = accountId => (dispatch, getState) => {\n  dispatch({\n    type: SUGGESTIONS_DISMISS,\n    id: accountId,\n  });\n\n  api(getState).delete(`/api/v1/suggestions/${accountId}`).then(() => {\n    dispatch(fetchSuggestionsRequest());\n\n    api(getState).get('/api/v2/suggestions').then(response => {\n      dispatch(importFetchedAccounts(response.data.map(x => x.account)));\n      dispatch(fetchSuggestionsSuccess(response.data));\n    }).catch(error => dispatch(fetchSuggestionsFail(error)));\n  }).catch(() => {});\n};\n","import api from 'flavours/glitch/util/api';\nimport { importFetchedAccounts } from './importer';\n\nexport const HISTORY_FETCH_REQUEST = 'HISTORY_FETCH_REQUEST';\nexport const HISTORY_FETCH_SUCCESS = 'HISTORY_FETCH_SUCCESS';\nexport const HISTORY_FETCH_FAIL    = 'HISTORY_FETCH_FAIL';\n\nexport const fetchHistory = statusId => (dispatch, getState) => {\n  const loading = getState().getIn(['history', statusId, 'loading']);\n\n  if (loading) {\n    return;\n  }\n\n  dispatch(fetchHistoryRequest(statusId));\n\n  api(getState).get(`/api/v1/statuses/${statusId}/history`).then(({ data }) => {\n    dispatch(importFetchedAccounts(data.map(x => x.account)));\n    dispatch(fetchHistorySuccess(statusId, data));\n  }).catch(error => dispatch(fetchHistoryFail(error)));\n};\n\nexport const fetchHistoryRequest = statusId => ({\n  type: HISTORY_FETCH_REQUEST,\n  statusId,\n});\n\nexport const fetchHistorySuccess = (statusId, history) => ({\n  type: HISTORY_FETCH_SUCCESS,\n  statusId,\n  history,\n});\n\nexport const fetchHistoryFail = error => ({\n  type: HISTORY_FETCH_FAIL,\n  error,\n});\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = scrollTop;\n\nvar _isWindow = _interopRequireDefault(require(\"./isWindow\"));\n\nfunction scrollTop(node, val) {\n  var win = (0, _isWindow.default)(node);\n  if (val === undefined) return win ? 'pageXOffset' in win ? win.pageXOffset : win.document.documentElement.scrollLeft : node.scrollLeft;\n  if (win) win.scrollTo(val, 'pageYOffset' in win ? win.pageYOffset : win.document.documentElement.scrollTop);else node.scrollLeft = val;\n}\n\nmodule.exports = exports[\"default\"];","import api from 'flavours/glitch/util/api';\nimport { importFetchedAccounts } from './importer';\nimport { showAlertForError } from './alerts';\n\nexport const LIST_FETCH_REQUEST = 'LIST_FETCH_REQUEST';\nexport const LIST_FETCH_SUCCESS = 'LIST_FETCH_SUCCESS';\nexport const LIST_FETCH_FAIL    = 'LIST_FETCH_FAIL';\n\nexport const LISTS_FETCH_REQUEST = 'LISTS_FETCH_REQUEST';\nexport const LISTS_FETCH_SUCCESS = 'LISTS_FETCH_SUCCESS';\nexport const LISTS_FETCH_FAIL    = 'LISTS_FETCH_FAIL';\n\nexport const LIST_EDITOR_TITLE_CHANGE = 'LIST_EDITOR_TITLE_CHANGE';\nexport const LIST_EDITOR_RESET        = 'LIST_EDITOR_RESET';\nexport const LIST_EDITOR_SETUP        = 'LIST_EDITOR_SETUP';\n\nexport const LIST_CREATE_REQUEST = 'LIST_CREATE_REQUEST';\nexport const LIST_CREATE_SUCCESS = 'LIST_CREATE_SUCCESS';\nexport const LIST_CREATE_FAIL    = 'LIST_CREATE_FAIL';\n\nexport const LIST_UPDATE_REQUEST = 'LIST_UPDATE_REQUEST';\nexport const LIST_UPDATE_SUCCESS = 'LIST_UPDATE_SUCCESS';\nexport const LIST_UPDATE_FAIL    = 'LIST_UPDATE_FAIL';\n\nexport const LIST_DELETE_REQUEST = 'LIST_DELETE_REQUEST';\nexport const LIST_DELETE_SUCCESS = 'LIST_DELETE_SUCCESS';\nexport const LIST_DELETE_FAIL    = 'LIST_DELETE_FAIL';\n\nexport const LIST_ACCOUNTS_FETCH_REQUEST = 'LIST_ACCOUNTS_FETCH_REQUEST';\nexport const LIST_ACCOUNTS_FETCH_SUCCESS = 'LIST_ACCOUNTS_FETCH_SUCCESS';\nexport const LIST_ACCOUNTS_FETCH_FAIL    = 'LIST_ACCOUNTS_FETCH_FAIL';\n\nexport const LIST_EDITOR_SUGGESTIONS_CHANGE = 'LIST_EDITOR_SUGGESTIONS_CHANGE';\nexport const LIST_EDITOR_SUGGESTIONS_READY  = 'LIST_EDITOR_SUGGESTIONS_READY';\nexport const LIST_EDITOR_SUGGESTIONS_CLEAR  = 'LIST_EDITOR_SUGGESTIONS_CLEAR';\n\nexport const LIST_EDITOR_ADD_REQUEST = 'LIST_EDITOR_ADD_REQUEST';\nexport const LIST_EDITOR_ADD_SUCCESS = 'LIST_EDITOR_ADD_SUCCESS';\nexport const LIST_EDITOR_ADD_FAIL    = 'LIST_EDITOR_ADD_FAIL';\n\nexport const LIST_EDITOR_REMOVE_REQUEST = 'LIST_EDITOR_REMOVE_REQUEST';\nexport const LIST_EDITOR_REMOVE_SUCCESS = 'LIST_EDITOR_REMOVE_SUCCESS';\nexport const LIST_EDITOR_REMOVE_FAIL    = 'LIST_EDITOR_REMOVE_FAIL';\n\nexport const LIST_ADDER_RESET = 'LIST_ADDER_RESET';\nexport const LIST_ADDER_SETUP = 'LIST_ADDER_SETUP';\n\nexport const LIST_ADDER_LISTS_FETCH_REQUEST = 'LIST_ADDER_LISTS_FETCH_REQUEST';\nexport const LIST_ADDER_LISTS_FETCH_SUCCESS = 'LIST_ADDER_LISTS_FETCH_SUCCESS';\nexport const LIST_ADDER_LISTS_FETCH_FAIL    = 'LIST_ADDER_LISTS_FETCH_FAIL';\n\nexport const fetchList = id => (dispatch, getState) => {\n  if (getState().getIn(['lists', id])) {\n    return;\n  }\n\n  dispatch(fetchListRequest(id));\n\n  api(getState).get(`/api/v1/lists/${id}`)\n    .then(({ data }) => dispatch(fetchListSuccess(data)))\n    .catch(err => dispatch(fetchListFail(id, err)));\n};\n\nexport const fetchListRequest = id => ({\n  type: LIST_FETCH_REQUEST,\n  id,\n});\n\nexport const fetchListSuccess = list => ({\n  type: LIST_FETCH_SUCCESS,\n  list,\n});\n\nexport const fetchListFail = (id, error) => ({\n  type: LIST_FETCH_FAIL,\n  id,\n  error,\n});\n\nexport const fetchLists = () => (dispatch, getState) => {\n  dispatch(fetchListsRequest());\n\n  api(getState).get('/api/v1/lists')\n    .then(({ data }) => dispatch(fetchListsSuccess(data)))\n    .catch(err => dispatch(fetchListsFail(err)));\n};\n\nexport const fetchListsRequest = () => ({\n  type: LISTS_FETCH_REQUEST,\n});\n\nexport const fetchListsSuccess = lists => ({\n  type: LISTS_FETCH_SUCCESS,\n  lists,\n});\n\nexport const fetchListsFail = error => ({\n  type: LISTS_FETCH_FAIL,\n  error,\n});\n\nexport const submitListEditor = shouldReset => (dispatch, getState) => {\n  const listId = getState().getIn(['listEditor', 'listId']);\n  const title  = getState().getIn(['listEditor', 'title']);\n\n  if (listId === null) {\n    dispatch(createList(title, shouldReset));\n  } else {\n    dispatch(updateList(listId, title, shouldReset));\n  }\n};\n\nexport const setupListEditor = listId => (dispatch, getState) => {\n  dispatch({\n    type: LIST_EDITOR_SETUP,\n    list: getState().getIn(['lists', listId]),\n  });\n\n  dispatch(fetchListAccounts(listId));\n};\n\nexport const changeListEditorTitle = value => ({\n  type: LIST_EDITOR_TITLE_CHANGE,\n  value,\n});\n\nexport const createList = (title, shouldReset) => (dispatch, getState) => {\n  dispatch(createListRequest());\n\n  api(getState).post('/api/v1/lists', { title }).then(({ data }) => {\n    dispatch(createListSuccess(data));\n\n    if (shouldReset) {\n      dispatch(resetListEditor());\n    }\n  }).catch(err => dispatch(createListFail(err)));\n};\n\nexport const createListRequest = () => ({\n  type: LIST_CREATE_REQUEST,\n});\n\nexport const createListSuccess = list => ({\n  type: LIST_CREATE_SUCCESS,\n  list,\n});\n\nexport const createListFail = error => ({\n  type: LIST_CREATE_FAIL,\n  error,\n});\n\nexport const updateList = (id, title, shouldReset, replies_policy) => (dispatch, getState) => {\n  dispatch(updateListRequest(id));\n\n  api(getState).put(`/api/v1/lists/${id}`, { title, replies_policy }).then(({ data }) => {\n    dispatch(updateListSuccess(data));\n\n    if (shouldReset) {\n      dispatch(resetListEditor());\n    }\n  }).catch(err => dispatch(updateListFail(id, err)));\n};\n\nexport const updateListRequest = id => ({\n  type: LIST_UPDATE_REQUEST,\n  id,\n});\n\nexport const updateListSuccess = list => ({\n  type: LIST_UPDATE_SUCCESS,\n  list,\n});\n\nexport const updateListFail = (id, error) => ({\n  type: LIST_UPDATE_FAIL,\n  id,\n  error,\n});\n\nexport const resetListEditor = () => ({\n  type: LIST_EDITOR_RESET,\n});\n\nexport const deleteList = id => (dispatch, getState) => {\n  dispatch(deleteListRequest(id));\n\n  api(getState).delete(`/api/v1/lists/${id}`)\n    .then(() => dispatch(deleteListSuccess(id)))\n    .catch(err => dispatch(deleteListFail(id, err)));\n};\n\nexport const deleteListRequest = id => ({\n  type: LIST_DELETE_REQUEST,\n  id,\n});\n\nexport const deleteListSuccess = id => ({\n  type: LIST_DELETE_SUCCESS,\n  id,\n});\n\nexport const deleteListFail = (id, error) => ({\n  type: LIST_DELETE_FAIL,\n  id,\n  error,\n});\n\nexport const fetchListAccounts = listId => (dispatch, getState) => {\n  dispatch(fetchListAccountsRequest(listId));\n\n  api(getState).get(`/api/v1/lists/${listId}/accounts`, { params: { limit: 0 } }).then(({ data }) => {\n    dispatch(importFetchedAccounts(data));\n    dispatch(fetchListAccountsSuccess(listId, data));\n  }).catch(err => dispatch(fetchListAccountsFail(listId, err)));\n};\n\nexport const fetchListAccountsRequest = id => ({\n  type: LIST_ACCOUNTS_FETCH_REQUEST,\n  id,\n});\n\nexport const fetchListAccountsSuccess = (id, accounts, next) => ({\n  type: LIST_ACCOUNTS_FETCH_SUCCESS,\n  id,\n  accounts,\n  next,\n});\n\nexport const fetchListAccountsFail = (id, error) => ({\n  type: LIST_ACCOUNTS_FETCH_FAIL,\n  id,\n  error,\n});\n\nexport const fetchListSuggestions = q => (dispatch, getState) => {\n  const params = {\n    q,\n    resolve: false,\n    limit: 4,\n    following: true,\n  };\n\n  api(getState).get('/api/v1/accounts/search', { params }).then(({ data }) => {\n    dispatch(importFetchedAccounts(data));\n    dispatch(fetchListSuggestionsReady(q, data));\n  }).catch(error => dispatch(showAlertForError(error)));\n};\n\nexport const fetchListSuggestionsReady = (query, accounts) => ({\n  type: LIST_EDITOR_SUGGESTIONS_READY,\n  query,\n  accounts,\n});\n\nexport const clearListSuggestions = () => ({\n  type: LIST_EDITOR_SUGGESTIONS_CLEAR,\n});\n\nexport const changeListSuggestions = value => ({\n  type: LIST_EDITOR_SUGGESTIONS_CHANGE,\n  value,\n});\n\nexport const addToListEditor = accountId => (dispatch, getState) => {\n  dispatch(addToList(getState().getIn(['listEditor', 'listId']), accountId));\n};\n\nexport const addToList = (listId, accountId) => (dispatch, getState) => {\n  dispatch(addToListRequest(listId, accountId));\n\n  api(getState).post(`/api/v1/lists/${listId}/accounts`, { account_ids: [accountId] })\n    .then(() => dispatch(addToListSuccess(listId, accountId)))\n    .catch(err => dispatch(addToListFail(listId, accountId, err)));\n};\n\nexport const addToListRequest = (listId, accountId) => ({\n  type: LIST_EDITOR_ADD_REQUEST,\n  listId,\n  accountId,\n});\n\nexport const addToListSuccess = (listId, accountId) => ({\n  type: LIST_EDITOR_ADD_SUCCESS,\n  listId,\n  accountId,\n});\n\nexport const addToListFail = (listId, accountId, error) => ({\n  type: LIST_EDITOR_ADD_FAIL,\n  listId,\n  accountId,\n  error,\n});\n\nexport const removeFromListEditor = accountId => (dispatch, getState) => {\n  dispatch(removeFromList(getState().getIn(['listEditor', 'listId']), accountId));\n};\n\nexport const removeFromList = (listId, accountId) => (dispatch, getState) => {\n  dispatch(removeFromListRequest(listId, accountId));\n\n  api(getState).delete(`/api/v1/lists/${listId}/accounts`, { params: { account_ids: [accountId] } })\n    .then(() => dispatch(removeFromListSuccess(listId, accountId)))\n    .catch(err => dispatch(removeFromListFail(listId, accountId, err)));\n};\n\nexport const removeFromListRequest = (listId, accountId) => ({\n  type: LIST_EDITOR_REMOVE_REQUEST,\n  listId,\n  accountId,\n});\n\nexport const removeFromListSuccess = (listId, accountId) => ({\n  type: LIST_EDITOR_REMOVE_SUCCESS,\n  listId,\n  accountId,\n});\n\nexport const removeFromListFail = (listId, accountId, error) => ({\n  type: LIST_EDITOR_REMOVE_FAIL,\n  listId,\n  accountId,\n  error,\n});\n\nexport const resetListAdder = () => ({\n  type: LIST_ADDER_RESET,\n});\n\nexport const setupListAdder = accountId => (dispatch, getState) => {\n  dispatch({\n    type: LIST_ADDER_SETUP,\n    account: getState().getIn(['accounts', accountId]),\n  });\n  dispatch(fetchLists());\n  dispatch(fetchAccountLists(accountId));\n};\n\nexport const fetchAccountLists = accountId => (dispatch, getState) => {\n  dispatch(fetchAccountListsRequest(accountId));\n\n  api(getState).get(`/api/v1/accounts/${accountId}/lists`)\n    .then(({ data }) => dispatch(fetchAccountListsSuccess(accountId, data)))\n    .catch(err => dispatch(fetchAccountListsFail(accountId, err)));\n};\n\nexport const fetchAccountListsRequest = id => ({\n  type:LIST_ADDER_LISTS_FETCH_REQUEST,\n  id,\n});\n\nexport const fetchAccountListsSuccess = (id, lists) => ({\n  type: LIST_ADDER_LISTS_FETCH_SUCCESS,\n  id,\n  lists,\n});\n\nexport const fetchAccountListsFail = (id, err) => ({\n  type: LIST_ADDER_LISTS_FETCH_FAIL,\n  id,\n  err,\n});\n\nexport const addToListAdder = listId => (dispatch, getState) => {\n  dispatch(addToList(listId, getState().getIn(['listAdder', 'accountId'])));\n};\n\nexport const removeFromListAdder = listId => (dispatch, getState) => {\n  dispatch(removeFromList(listId, getState().getIn(['listAdder', 'accountId'])));\n};\n\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"../util/inDOM\"));\n\nvar on = function on() {};\n\nif (_inDOM.default) {\n  on = function () {\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.addEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.attachEvent('on' + eventName, function (e) {\n        e = e || window.event;\n        e.target = e.target || e.srcElement;\n        e.currentTarget = node;\n        handler.call(node, e);\n      });\n    };\n  }();\n}\n\nvar _default = on;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"../util/inDOM\"));\n\nvar off = function off() {};\n\nif (_inDOM.default) {\n  off = function () {\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.removeEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.detachEvent('on' + eventName, handler);\n    };\n  }();\n}\n\nvar _default = off;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","export const DROPDOWN_MENU_OPEN = 'DROPDOWN_MENU_OPEN';\nexport const DROPDOWN_MENU_CLOSE = 'DROPDOWN_MENU_CLOSE';\n\nexport function openDropdownMenu(id, placement, keyboard, scroll_key) {\n  return { type: DROPDOWN_MENU_OPEN, id, placement, keyboard, scroll_key };\n}\n\nexport function closeDropdownMenu(id) {\n  return { type: DROPDOWN_MENU_CLOSE, id };\n}\n","var isSymbol = require('./isSymbol');\n/** Used as references for various `Number` constants. */\n\n\nvar INFINITY = 1 / 0;\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\n\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n\nmodule.exports = toKey;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _utilities = require('./utilities');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = function (reducers) {\n  var getDefaultState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _immutable2.default.Map;\n  var reducerKeys = Object.keys(reducers); // eslint-disable-next-line space-infix-ops\n\n  return function () {\n    var inputState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getDefaultState();\n    var action = arguments[1]; // eslint-disable-next-line no-process-env\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = (0, _utilities.getUnexpectedInvocationParameterMessage)(inputState, reducers, action);\n\n      if (warningMessage) {\n        // eslint-disable-next-line no-console\n        console.error(warningMessage);\n      }\n    }\n\n    return inputState.withMutations(function (temporaryState) {\n      reducerKeys.forEach(function (reducerName) {\n        var reducer = reducers[reducerName];\n        var currentDomainState = temporaryState.get(reducerName);\n        var nextDomainState = reducer(currentDomainState, action);\n        (0, _utilities.validateNextState)(nextDomainState, reducerName, action);\n        temporaryState.set(reducerName, nextDomainState);\n      });\n    });\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateNextState = exports.getUnexpectedInvocationParameterMessage = exports.getStateName = undefined;\n\nvar _getStateName2 = require('./getStateName');\n\nvar _getStateName3 = _interopRequireDefault(_getStateName2);\n\nvar _getUnexpectedInvocationParameterMessage2 = require('./getUnexpectedInvocationParameterMessage');\n\nvar _getUnexpectedInvocationParameterMessage3 = _interopRequireDefault(_getUnexpectedInvocationParameterMessage2);\n\nvar _validateNextState2 = require('./validateNextState');\n\nvar _validateNextState3 = _interopRequireDefault(_validateNextState2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.getStateName = _getStateName3.default;\nexports.getUnexpectedInvocationParameterMessage = _getUnexpectedInvocationParameterMessage3.default;\nexports.validateNextState = _validateNextState3.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _getStateName = require('./getStateName');\n\nvar _getStateName2 = _interopRequireDefault(_getStateName);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = function (state, reducers, action) {\n  var reducerNames = Object.keys(reducers);\n\n  if (!reducerNames.length) {\n    return 'Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.';\n  }\n\n  var stateName = (0, _getStateName2.default)(action);\n\n  if (_immutable2.default.isImmutable ? !_immutable2.default.isImmutable(state) : !_immutable2.default.Iterable.isIterable(state)) {\n    return 'The ' + stateName + ' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: \"' + reducerNames.join('\", \"') + '\".';\n  }\n\n  var unexpectedStatePropertyNames = state.toSeq().keySeq().toArray().filter(function (name) {\n    return !reducers.hasOwnProperty(name);\n  });\n\n  if (unexpectedStatePropertyNames.length > 0) {\n    return 'Unexpected ' + (unexpectedStatePropertyNames.length === 1 ? 'property' : 'properties') + ' \"' + unexpectedStatePropertyNames.join('\", \"') + '\" found in ' + stateName + '. Expected to find one of the known reducer property names instead: \"' + reducerNames.join('\", \"') + '\". Unexpected properties will be ignored.';\n  }\n\n  return null;\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (nextState, reducerName, action) {\n  // eslint-disable-next-line no-undefined\n  if (nextState === undefined) {\n    throw new Error('Reducer \"' + reducerName + '\" returned undefined when handling \"' + action.type + '\" action. To ignore an action, you must explicitly return the previous state.');\n  }\n};\n\nmodule.exports = exports['default'];","import { expandSpoilers, disableSwiping } from 'flavours/glitch/util/initial_state';\nimport { openModal } from './modal';\n\nexport const LOCAL_SETTING_CHANGE = 'LOCAL_SETTING_CHANGE';\nexport const LOCAL_SETTING_DELETE = 'LOCAL_SETTING_DELETE';\n\nexport function checkDeprecatedLocalSettings() {\n  return (dispatch, getState) => {\n    const local_auto_unfold = getState().getIn(['local_settings', 'content_warnings', 'auto_unfold']);\n    const local_swipe_to_change_columns = getState().getIn(['local_settings', 'swipe_to_change_columns']);\n    let changed_settings = [];\n\n    if (local_auto_unfold !== null && local_auto_unfold !== undefined) {\n      if (local_auto_unfold === expandSpoilers) {\n        dispatch(deleteLocalSetting(['content_warnings', 'auto_unfold']));\n      } else {\n        changed_settings.push('user_setting_expand_spoilers');\n      }\n    }\n\n    if (local_swipe_to_change_columns !== null && local_swipe_to_change_columns !== undefined) {\n      if (local_swipe_to_change_columns === !disableSwiping) {\n        dispatch(deleteLocalSetting(['swipe_to_change_columns']));\n      } else {\n        changed_settings.push('user_setting_disable_swiping');\n      }\n    }\n\n    if (changed_settings.length > 0) {\n      dispatch(openModal('DEPRECATED_SETTINGS', {\n        settings: changed_settings,\n        onConfirm: () => dispatch(clearDeprecatedLocalSettings()),\n      }));\n    }\n  };\n};\n\nexport function clearDeprecatedLocalSettings() {\n  return (dispatch) => {\n    dispatch(deleteLocalSetting(['content_warnings', 'auto_unfold']));\n    dispatch(deleteLocalSetting(['swipe_to_change_columns']));\n  };\n};\n\nexport function changeLocalSetting(key, value) {\n  return dispatch => {\n    dispatch({\n      type: LOCAL_SETTING_CHANGE,\n      key,\n      value,\n    });\n\n    dispatch(saveLocalSettings());\n  };\n};\n\nexport function deleteLocalSetting(key) {\n  return dispatch => {\n    dispatch({\n      type: LOCAL_SETTING_DELETE,\n      key,\n    });\n\n    dispatch(saveLocalSettings());\n  };\n};\n\n//  __TODO :__\n//  Right now `saveLocalSettings()` doesn't keep track of which user\n//  is currently signed in, but it might be better to give each user\n//  their *own* local settings.\nexport function saveLocalSettings() {\n  return (_, getState) => {\n    const localSettings = getState().get('local_settings').toJS();\n    localStorage.setItem('mastodon-settings', JSON.stringify(localSettings));\n  };\n};\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactIs = require('react-is');\n\nvar _createChainableTypeChecker = require('./utils/createChainableTypeChecker');\n\nvar _createChainableTypeChecker2 = _interopRequireDefault(_createChainableTypeChecker);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction elementType(props, propName, componentName, location, propFullName) {\n  var propValue = props[propName];\n\n  if (_react2.default.isValidElement(propValue)) {\n    return new Error('Invalid ' + location + ' `' + propFullName + '` of type ReactElement ' + ('supplied to `' + componentName + '`,expected an element type (a string ') + ', component class, or function component).');\n  }\n\n  if (!(0, _reactIs.isValidElementType)(propValue)) {\n    return new Error('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected an element type (a string ') + ', component class, or function component).');\n  }\n\n  return null;\n}\n\nexports.default = (0, _createChainableTypeChecker2.default)(elementType);\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _inDOM = require('dom-helpers/util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _componentOrElement = require('prop-types-extra/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nvar _LegacyPortal = require('./LegacyPortal');\n\nvar _LegacyPortal2 = _interopRequireDefault(_LegacyPortal);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * The `<Portal/>` component renders its children into a new \"subtree\" outside of current component hierarchy.\n * You can think of it as a declarative `appendChild()`, or jQuery's `$.fn.appendTo()`.\n * The children of `<Portal/>` component will be appended to the `container` specified.\n */\n\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Portal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getMountNode = function () {\n      return _this._portalContainerNode;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Portal.prototype.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    if (!_inDOM2.default) {\n      return;\n    }\n\n    var container = this.props.container;\n\n    if (typeof container === 'function') {\n      container = container();\n    }\n\n    if (container && !_reactDom2.default.findDOMNode(container)) {\n      // The container is a React component that has not yet been rendered.\n      // Don't set the container node yet.\n      return;\n    }\n\n    this.setContainer(container);\n  };\n\n  Portal.prototype.componentDidMount = function componentDidMount() {\n    if (!this._portalContainerNode) {\n      this.setContainer(this.props.container);\n      this.forceUpdate(this.props.onRendered);\n    } else if (this.props.onRendered) {\n      this.props.onRendered();\n    }\n  };\n\n  Portal.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.container !== this.props.container) {\n      this.setContainer(nextProps.container);\n    }\n  };\n\n  Portal.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._portalContainerNode = null;\n  };\n\n  Portal.prototype.setContainer = function setContainer(container) {\n    this._portalContainerNode = (0, _getContainer2.default)(container, (0, _ownerDocument2.default)(this).body);\n  };\n\n  Portal.prototype.render = function render() {\n    return this.props.children && this._portalContainerNode ? _reactDom2.default.createPortal(this.props.children, this._portalContainerNode) : null;\n  };\n\n  return Portal;\n}(_react2.default.Component);\n\nPortal.displayName = 'Portal';\nPortal.propTypes = {\n  /**\n   * A Node, Component instance, or function that returns either. The `container` will have the Portal children\n   * appended to it.\n   */\n  container: _propTypes2.default.oneOfType([_componentOrElement2.default, _propTypes2.default.func]),\n  onRendered: _propTypes2.default.func\n};\nexports.default = _reactDom2.default.createPortal ? Portal : _LegacyPortal2.default;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _componentOrElement = require('prop-types-extra/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * The `<Portal/>` component renders its children into a new \"subtree\" outside of current component hierarchy.\n * You can think of it as a declarative `appendChild()`, or jQuery's `$.fn.appendTo()`.\n * The children of `<Portal/>` component will be appended to the `container` specified.\n */\n\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Portal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this._mountOverlayTarget = function () {\n      if (!_this._overlayTarget) {\n        _this._overlayTarget = document.createElement('div');\n        _this._portalContainerNode = (0, _getContainer2.default)(_this.props.container, (0, _ownerDocument2.default)(_this).body);\n\n        _this._portalContainerNode.appendChild(_this._overlayTarget);\n      }\n    }, _this._unmountOverlayTarget = function () {\n      if (_this._overlayTarget) {\n        _this._portalContainerNode.removeChild(_this._overlayTarget);\n\n        _this._overlayTarget = null;\n      }\n\n      _this._portalContainerNode = null;\n    }, _this._renderOverlay = function () {\n      var overlay = !_this.props.children ? null : _react2.default.Children.only(_this.props.children); // Save reference for future access.\n\n      if (overlay !== null) {\n        _this._mountOverlayTarget();\n\n        var initialRender = !_this._overlayInstance;\n        _this._overlayInstance = _reactDom2.default.unstable_renderSubtreeIntoContainer(_this, overlay, _this._overlayTarget, function () {\n          if (initialRender && _this.props.onRendered) {\n            _this.props.onRendered();\n          }\n        });\n      } else {\n        // Unrender if the component is null for transitions to null\n        _this._unrenderOverlay();\n\n        _this._unmountOverlayTarget();\n      }\n    }, _this._unrenderOverlay = function () {\n      if (_this._overlayTarget) {\n        _reactDom2.default.unmountComponentAtNode(_this._overlayTarget);\n\n        _this._overlayInstance = null;\n      }\n    }, _this.getMountNode = function () {\n      return _this._overlayTarget;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Portal.prototype.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    this._renderOverlay();\n  };\n\n  Portal.prototype.componentDidUpdate = function componentDidUpdate() {\n    this._renderOverlay();\n  };\n\n  Portal.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (this._overlayTarget && nextProps.container !== this.props.container) {\n      this._portalContainerNode.removeChild(this._overlayTarget);\n\n      this._portalContainerNode = (0, _getContainer2.default)(nextProps.container, (0, _ownerDocument2.default)(this).body);\n\n      this._portalContainerNode.appendChild(this._overlayTarget);\n    }\n  };\n\n  Portal.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._isMounted = false;\n\n    this._unrenderOverlay();\n\n    this._unmountOverlayTarget();\n  };\n\n  Portal.prototype.render = function render() {\n    return null;\n  };\n\n  return Portal;\n}(_react2.default.Component);\n\nPortal.displayName = 'Portal';\nPortal.propTypes = {\n  /**\n   * A Node, Component instance, or function that returns either. The `container` will have the Portal children\n   * appended to it.\n   */\n  container: _propTypes2.default.oneOfType([_componentOrElement2.default, _propTypes2.default.func]),\n  onRendered: _propTypes2.default.func\n};\nexports.default = Portal;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _componentOrElement = require('prop-types-extra/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _calculatePosition = require('./utils/calculatePosition');\n\nvar _calculatePosition2 = _interopRequireDefault(_calculatePosition);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * The Position component calculates the coordinates for its child, to position\n * it relative to a `target` component or node. Useful for creating callouts\n * and tooltips, the Position component injects a `style` props with `left` and\n * `top` values for positioning your component.\n *\n * It also injects \"arrow\" `left`, and `top` values for styling callout arrows\n * for giving your components a sense of directionality.\n */\n\n\nvar Position = function (_React$Component) {\n  _inherits(Position, _React$Component);\n\n  function Position(props, context) {\n    _classCallCheck(this, Position);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this.getTarget = function () {\n      var target = _this.props.target;\n      var targetElement = typeof target === 'function' ? target() : target;\n      return targetElement && _reactDom2.default.findDOMNode(targetElement) || null;\n    };\n\n    _this.maybeUpdatePosition = function (placementChanged) {\n      var target = _this.getTarget();\n\n      if (!_this.props.shouldUpdatePosition && target === _this._lastTarget && !placementChanged) {\n        return;\n      }\n\n      _this.updatePosition(target);\n    };\n\n    _this.state = {\n      positionLeft: 0,\n      positionTop: 0,\n      arrowOffsetLeft: null,\n      arrowOffsetTop: null\n    };\n    _this._needsFlush = false;\n    _this._lastTarget = null;\n    return _this;\n  }\n\n  Position.prototype.componentDidMount = function componentDidMount() {\n    this.updatePosition(this.getTarget());\n  };\n\n  Position.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps() {\n    this._needsFlush = true;\n  };\n\n  Position.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this._needsFlush) {\n      this._needsFlush = false;\n      this.maybeUpdatePosition(this.props.placement !== prevProps.placement);\n    }\n  };\n\n  Position.prototype.render = function render() {\n    var _props = this.props,\n        children = _props.children,\n        className = _props.className,\n        props = _objectWithoutProperties(_props, ['children', 'className']);\n\n    var _state = this.state,\n        positionLeft = _state.positionLeft,\n        positionTop = _state.positionTop,\n        arrowPosition = _objectWithoutProperties(_state, ['positionLeft', 'positionTop']); // These should not be forwarded to the child.\n\n\n    delete props.target;\n    delete props.container;\n    delete props.containerPadding;\n    delete props.shouldUpdatePosition;\n\n    var child = _react2.default.Children.only(children);\n\n    return (0, _react.cloneElement)(child, _extends({}, props, arrowPosition, {\n      // FIXME: Don't forward `positionLeft` and `positionTop` via both props\n      // and `props.style`.\n      positionLeft: positionLeft,\n      positionTop: positionTop,\n      className: (0, _classnames2.default)(className, child.props.className),\n      style: _extends({}, child.props.style, {\n        left: positionLeft,\n        top: positionTop\n      })\n    }));\n  };\n\n  Position.prototype.updatePosition = function updatePosition(target) {\n    this._lastTarget = target;\n\n    if (!target) {\n      this.setState({\n        positionLeft: 0,\n        positionTop: 0,\n        arrowOffsetLeft: null,\n        arrowOffsetTop: null\n      });\n      return;\n    }\n\n    var overlay = _reactDom2.default.findDOMNode(this);\n\n    var container = (0, _getContainer2.default)(this.props.container, (0, _ownerDocument2.default)(this).body);\n    this.setState((0, _calculatePosition2.default)(this.props.placement, overlay, target, container, this.props.containerPadding));\n  };\n\n  return Position;\n}(_react2.default.Component);\n\nPosition.propTypes = {\n  /**\n   * A node, element, or function that returns either. The child will be\n   * be positioned next to the `target` specified.\n   */\n  target: _propTypes2.default.oneOfType([_componentOrElement2.default, _propTypes2.default.func]),\n\n  /**\n   * \"offsetParent\" of the component\n   */\n  container: _propTypes2.default.oneOfType([_componentOrElement2.default, _propTypes2.default.func]),\n\n  /**\n   * Minimum spacing in pixels between container border and component border\n   */\n  containerPadding: _propTypes2.default.number,\n\n  /**\n   * How to position the component relative to the target\n   */\n  placement: _propTypes2.default.oneOf(['top', 'right', 'bottom', 'left']),\n\n  /**\n   * Whether the position should be changed on each update\n   */\n  shouldUpdatePosition: _propTypes2.default.bool\n};\nPosition.displayName = 'Position';\nPosition.defaultProps = {\n  containerPadding: 0,\n  placement: 'right',\n  shouldUpdatePosition: false\n};\nexports.default = Position;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports.default = calculatePosition;\n\nvar _offset = require('dom-helpers/query/offset');\n\nvar _offset2 = _interopRequireDefault(_offset);\n\nvar _position = require('dom-helpers/query/position');\n\nvar _position2 = _interopRequireDefault(_position);\n\nvar _scrollTop = require('dom-helpers/query/scrollTop');\n\nvar _scrollTop2 = _interopRequireDefault(_scrollTop);\n\nvar _ownerDocument = require('./ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction getContainerDimensions(containerNode) {\n  var width = void 0,\n      height = void 0,\n      scroll = void 0;\n\n  if (containerNode.tagName === 'BODY') {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    scroll = (0, _scrollTop2.default)((0, _ownerDocument2.default)(containerNode).documentElement) || (0, _scrollTop2.default)(containerNode);\n  } else {\n    var _getOffset = (0, _offset2.default)(containerNode);\n\n    width = _getOffset.width;\n    height = _getOffset.height;\n    scroll = (0, _scrollTop2.default)(containerNode);\n  }\n\n  return {\n    width: width,\n    height: height,\n    scroll: scroll\n  };\n}\n\nfunction getTopDelta(top, overlayHeight, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerScroll = containerDimensions.scroll;\n  var containerHeight = containerDimensions.height;\n  var topEdgeOffset = top - padding - containerScroll;\n  var bottomEdgeOffset = top + padding - containerScroll + overlayHeight;\n\n  if (topEdgeOffset < 0) {\n    return -topEdgeOffset;\n  } else if (bottomEdgeOffset > containerHeight) {\n    return containerHeight - bottomEdgeOffset;\n  } else {\n    return 0;\n  }\n}\n\nfunction getLeftDelta(left, overlayWidth, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerWidth = containerDimensions.width;\n  var leftEdgeOffset = left - padding;\n  var rightEdgeOffset = left + padding + overlayWidth;\n\n  if (leftEdgeOffset < 0) {\n    return -leftEdgeOffset;\n  } else if (rightEdgeOffset > containerWidth) {\n    return containerWidth - rightEdgeOffset;\n  }\n\n  return 0;\n}\n\nfunction calculatePosition(placement, overlayNode, target, container, padding) {\n  var childOffset = container.tagName === 'BODY' ? (0, _offset2.default)(target) : (0, _position2.default)(target, container);\n\n  var _getOffset2 = (0, _offset2.default)(overlayNode),\n      overlayHeight = _getOffset2.height,\n      overlayWidth = _getOffset2.width;\n\n  var positionLeft = void 0,\n      positionTop = void 0,\n      arrowOffsetLeft = void 0,\n      arrowOffsetTop = void 0;\n\n  if (placement === 'left' || placement === 'right') {\n    positionTop = childOffset.top + (childOffset.height - overlayHeight) / 2;\n\n    if (placement === 'left') {\n      positionLeft = childOffset.left - overlayWidth;\n    } else {\n      positionLeft = childOffset.left + childOffset.width;\n    }\n\n    var topDelta = getTopDelta(positionTop, overlayHeight, container, padding);\n    positionTop += topDelta;\n    arrowOffsetTop = 50 * (1 - 2 * topDelta / overlayHeight) + '%';\n    arrowOffsetLeft = void 0;\n  } else if (placement === 'top' || placement === 'bottom') {\n    positionLeft = childOffset.left + (childOffset.width - overlayWidth) / 2;\n\n    if (placement === 'top') {\n      positionTop = childOffset.top - overlayHeight;\n    } else {\n      positionTop = childOffset.top + childOffset.height;\n    }\n\n    var leftDelta = getLeftDelta(positionLeft, overlayWidth, container, padding);\n    positionLeft += leftDelta;\n    arrowOffsetLeft = 50 * (1 - 2 * leftDelta / overlayWidth) + '%';\n    arrowOffsetTop = void 0;\n  } else {\n    throw new Error('calcOverlayPosition(): No such placement of \"' + placement + '\" found.');\n  }\n\n  return {\n    positionLeft: positionLeft,\n    positionTop: positionTop,\n    arrowOffsetLeft: arrowOffsetLeft,\n    arrowOffsetTop: arrowOffsetTop\n  };\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = position;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _offset = _interopRequireDefault(require(\"./offset\"));\n\nvar _offsetParent = _interopRequireDefault(require(\"./offsetParent\"));\n\nvar _scrollTop = _interopRequireDefault(require(\"./scrollTop\"));\n\nvar _scrollLeft = _interopRequireDefault(require(\"./scrollLeft\"));\n\nvar _style = _interopRequireDefault(require(\"../style\"));\n\nfunction nodeName(node) {\n  return node.nodeName && node.nodeName.toLowerCase();\n}\n\nfunction position(node, offsetParent) {\n  var parentOffset = {\n    top: 0,\n    left: 0\n  },\n      offset; // Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n  // because it is its only offset parent\n\n  if ((0, _style.default)(node, 'position') === 'fixed') {\n    offset = node.getBoundingClientRect();\n  } else {\n    offsetParent = offsetParent || (0, _offsetParent.default)(node);\n    offset = (0, _offset.default)(node);\n    if (nodeName(offsetParent) !== 'html') parentOffset = (0, _offset.default)(offsetParent);\n    parentOffset.top += parseInt((0, _style.default)(offsetParent, 'borderTopWidth'), 10) - (0, _scrollTop.default)(offsetParent) || 0;\n    parentOffset.left += parseInt((0, _style.default)(offsetParent, 'borderLeftWidth'), 10) - (0, _scrollLeft.default)(offsetParent) || 0;\n  } // Subtract parent offsets and node margins\n\n\n  return (0, _extends2.default)({}, offset, {\n    top: offset.top - parentOffset.top - (parseInt((0, _style.default)(node, 'marginTop'), 10) || 0),\n    left: offset.left - parentOffset.left - (parseInt((0, _style.default)(node, 'marginLeft'), 10) || 0)\n  });\n}\n\nmodule.exports = exports[\"default\"];","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = offsetParent;\n\nvar _ownerDocument = _interopRequireDefault(require(\"../ownerDocument\"));\n\nvar _style = _interopRequireDefault(require(\"../style\"));\n\nfunction nodeName(node) {\n  return node.nodeName && node.nodeName.toLowerCase();\n}\n\nfunction offsetParent(node) {\n  var doc = (0, _ownerDocument.default)(node),\n      offsetParent = node && node.offsetParent;\n\n  while (offsetParent && nodeName(node) !== 'html' && (0, _style.default)(offsetParent, 'position') === 'static') {\n    offsetParent = offsetParent.offsetParent;\n  }\n\n  return offsetParent || doc.documentElement;\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nexports.__esModule = true;\nexports.default = camelize;\nvar rHyphen = /-(.)/g;\n\nfunction camelize(string) {\n  return string.replace(rHyphen, function (_, chr) {\n    return chr.toUpperCase();\n  });\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = hyphenateStyleName;\n\nvar _hyphenate = _interopRequireDefault(require(\"./hyphenate\"));\n/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n * https://github.com/facebook/react/blob/2aeb8a2a6beb00617a4217f7f8284924fa2ad819/src/vendor/core/hyphenateStyleName.js\n */\n\n\nvar msPattern = /^ms-/;\n\nfunction hyphenateStyleName(string) {\n  return (0, _hyphenate.default)(string).replace(msPattern, '-ms-');\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nexports.__esModule = true;\nexports.default = hyphenate;\nvar rUpper = /([A-Z])/g;\n\nfunction hyphenate(string) {\n  return string.replace(rUpper, '-$1').toLowerCase();\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = _getComputedStyle;\n\nvar _camelizeStyle = _interopRequireDefault(require(\"../util/camelizeStyle\"));\n\nvar rposition = /^(top|right|bottom|left)$/;\nvar rnumnonpx = /^([+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|))(?!px)[a-z%]+$/i;\n\nfunction _getComputedStyle(node) {\n  if (!node) throw new TypeError('No Element passed to `getComputedStyle()`');\n  var doc = node.ownerDocument;\n  return 'defaultView' in doc ? doc.defaultView.opener ? node.ownerDocument.defaultView.getComputedStyle(node, null) : window.getComputedStyle(node, null) : {\n    //ie 8 \"magic\" from: https://github.com/jquery/jquery/blob/1.11-stable/src/css/curCSS.js#L72\n    getPropertyValue: function getPropertyValue(prop) {\n      var style = node.style;\n      prop = (0, _camelizeStyle.default)(prop);\n      if (prop == 'float') prop = 'styleFloat';\n      var current = node.currentStyle[prop] || null;\n      if (current == null && style && style[prop]) current = style[prop];\n\n      if (rnumnonpx.test(current) && !rposition.test(prop)) {\n        // Remember the original values\n        var left = style.left;\n        var runStyle = node.runtimeStyle;\n        var rsLeft = runStyle && runStyle.left; // Put in the new values to get a computed value out\n\n        if (rsLeft) runStyle.left = node.currentStyle.left;\n        style.left = prop === 'fontSize' ? '1em' : current;\n        current = style.pixelLeft + 'px'; // Revert the changed values\n\n        style.left = left;\n        if (rsLeft) runStyle.left = rsLeft;\n      }\n\n      return current;\n    }\n  };\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nexports.__esModule = true;\nexports.default = removeStyle;\n\nfunction removeStyle(node, key) {\n  return 'removeProperty' in node.style ? node.style.removeProperty(key) : node.style.removeAttribute(key);\n}\n\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = exports.animationEnd = exports.animationDelay = exports.animationTiming = exports.animationDuration = exports.animationName = exports.transitionEnd = exports.transitionDuration = exports.transitionDelay = exports.transitionTiming = exports.transitionProperty = exports.transform = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"../util/inDOM\"));\n\nvar transform = 'transform';\nexports.transform = transform;\nvar prefix, transitionEnd, animationEnd;\nexports.animationEnd = animationEnd;\nexports.transitionEnd = transitionEnd;\nvar transitionProperty, transitionDuration, transitionTiming, transitionDelay;\nexports.transitionDelay = transitionDelay;\nexports.transitionTiming = transitionTiming;\nexports.transitionDuration = transitionDuration;\nexports.transitionProperty = transitionProperty;\nvar animationName, animationDuration, animationTiming, animationDelay;\nexports.animationDelay = animationDelay;\nexports.animationTiming = animationTiming;\nexports.animationDuration = animationDuration;\nexports.animationName = animationName;\n\nif (_inDOM.default) {\n  var _getTransitionPropert = getTransitionProperties();\n\n  prefix = _getTransitionPropert.prefix;\n  exports.transitionEnd = transitionEnd = _getTransitionPropert.transitionEnd;\n  exports.animationEnd = animationEnd = _getTransitionPropert.animationEnd;\n  exports.transform = transform = prefix + \"-\" + transform;\n  exports.transitionProperty = transitionProperty = prefix + \"-transition-property\";\n  exports.transitionDuration = transitionDuration = prefix + \"-transition-duration\";\n  exports.transitionDelay = transitionDelay = prefix + \"-transition-delay\";\n  exports.transitionTiming = transitionTiming = prefix + \"-transition-timing-function\";\n  exports.animationName = animationName = prefix + \"-animation-name\";\n  exports.animationDuration = animationDuration = prefix + \"-animation-duration\";\n  exports.animationTiming = animationTiming = prefix + \"-animation-delay\";\n  exports.animationDelay = animationDelay = prefix + \"-animation-timing-function\";\n}\n\nvar _default = {\n  transform: transform,\n  end: transitionEnd,\n  property: transitionProperty,\n  timing: transitionTiming,\n  delay: transitionDelay,\n  duration: transitionDuration\n};\nexports.default = _default;\n\nfunction getTransitionProperties() {\n  var style = document.createElement('div').style;\n  var vendorMap = {\n    O: function O(e) {\n      return \"o\" + e.toLowerCase();\n    },\n    Moz: function Moz(e) {\n      return e.toLowerCase();\n    },\n    Webkit: function Webkit(e) {\n      return \"webkit\" + e;\n    },\n    ms: function ms(e) {\n      return \"MS\" + e;\n    }\n  };\n  var vendors = Object.keys(vendorMap);\n  var transitionEnd, animationEnd;\n  var prefix = '';\n\n  for (var i = 0; i < vendors.length; i++) {\n    var vendor = vendors[i];\n\n    if (vendor + \"TransitionProperty\" in style) {\n      prefix = \"-\" + vendor.toLowerCase();\n      transitionEnd = vendorMap[vendor]('TransitionEnd');\n      animationEnd = vendorMap[vendor]('AnimationEnd');\n      break;\n    }\n  }\n\n  if (!transitionEnd && 'transitionProperty' in style) transitionEnd = 'transitionend';\n  if (!animationEnd && 'animationName' in style) animationEnd = 'animationend';\n  style = null;\n  return {\n    animationEnd: animationEnd,\n    transitionEnd: transitionEnd,\n    prefix: prefix\n  };\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.default = isTransform;\nvar supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;\n\nfunction isTransform(property) {\n  return !!(property && supportedTransforms.test(property));\n}\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nvar _contains = require('dom-helpers/query/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar escapeKeyCode = 27;\n\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n/**\n * The `<RootCloseWrapper/>` component registers your callback on the document\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\n * style behavior where your callback is triggered when the user tries to\n * interact with the rest of the document or hits the `esc` key.\n */\n\n\nvar RootCloseWrapper = function (_React$Component) {\n  _inherits(RootCloseWrapper, _React$Component);\n\n  function RootCloseWrapper(props, context) {\n    _classCallCheck(this, RootCloseWrapper);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this.addEventListeners = function () {\n      // Store the current event to avoid triggering handlers immediately\n      // https://github.com/facebook/react/issues/20074\n      _this.currentEvent = window.event;\n      var event = _this.props.event;\n      var doc = (0, _ownerDocument2.default)(_this); // Use capture for this listener so it fires before React's listener, to\n      // avoid false positives in the contains() check below if the target DOM\n      // element is removed in the React mouse callback.\n\n      _this.documentMouseCaptureListener = (0, _addEventListener2.default)(doc, event, _this.handleMouseCapture, true);\n      _this.documentMouseListener = (0, _addEventListener2.default)(doc, event, _this.handleMouse);\n      _this.documentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', _this.handleKeyUp);\n    };\n\n    _this.removeEventListeners = function () {\n      if (_this.documentMouseCaptureListener) {\n        _this.documentMouseCaptureListener.remove();\n      }\n\n      if (_this.documentMouseListener) {\n        _this.documentMouseListener.remove();\n      }\n\n      if (_this.documentKeyupListener) {\n        _this.documentKeyupListener.remove();\n      }\n    };\n\n    _this.handleMouseCapture = function (e) {\n      _this.preventMouseRootClose = isModifiedEvent(e) || !isLeftClickEvent(e) || (0, _contains2.default)(_reactDom2.default.findDOMNode(_this), e.target);\n    };\n\n    _this.handleMouse = function (e) {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === _this.currentEvent) {\n        _this.currentEvent = undefined;\n        return;\n      }\n\n      if (!_this.preventMouseRootClose && _this.props.onRootClose) {\n        _this.props.onRootClose(e);\n      }\n    };\n\n    _this.handleKeyUp = function (e) {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === _this.currentEvent) {\n        _this.currentEvent = undefined;\n        return;\n      }\n\n      if (e.keyCode === escapeKeyCode && _this.props.onRootClose) {\n        _this.props.onRootClose(e);\n      }\n    };\n\n    _this.preventMouseRootClose = false;\n    return _this;\n  }\n\n  RootCloseWrapper.prototype.componentDidMount = function componentDidMount() {\n    if (!this.props.disabled) {\n      this.addEventListeners();\n    }\n  };\n\n  RootCloseWrapper.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (!this.props.disabled && prevProps.disabled) {\n      this.addEventListeners();\n    } else if (this.props.disabled && !prevProps.disabled) {\n      this.removeEventListeners();\n    }\n  };\n\n  RootCloseWrapper.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (!this.props.disabled) {\n      this.removeEventListeners();\n    }\n  };\n\n  RootCloseWrapper.prototype.render = function render() {\n    return this.props.children;\n  };\n\n  return RootCloseWrapper;\n}(_react2.default.Component);\n\nRootCloseWrapper.displayName = 'RootCloseWrapper';\nRootCloseWrapper.propTypes = {\n  /**\n   * Callback fired after click or mousedown. Also triggers when user hits `esc`.\n   */\n  onRootClose: _propTypes2.default.func,\n\n  /**\n   * Children to render.\n   */\n  children: _propTypes2.default.element,\n\n  /**\n   * Disable the the RootCloseWrapper, preventing it from triggering `onRootClose`.\n   */\n  disabled: _propTypes2.default.bool,\n\n  /**\n   * Choose which document mouse event to bind to.\n   */\n  event: _propTypes2.default.oneOf(['click', 'mousedown'])\n};\nRootCloseWrapper.defaultProps = {\n  event: 'click'\n};\nexports.default = RootCloseWrapper;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nexports.default = function (node, event, handler, capture) {\n  (0, _on2.default)(node, event, handler, capture);\n  return {\n    remove: function remove() {\n      (0, _off2.default)(node, event, handler, capture);\n    }\n  };\n};\n\nvar _on = require('dom-helpers/events/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = require('dom-helpers/events/off');\n\nvar _off2 = _interopRequireDefault(_off);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nmodule.exports = exports['default'];","// @ts-check\n\nexport const PICTURE_IN_PICTURE_DEPLOY = 'PICTURE_IN_PICTURE_DEPLOY';\nexport const PICTURE_IN_PICTURE_REMOVE = 'PICTURE_IN_PICTURE_REMOVE';\n\n/**\n * @typedef MediaProps\n * @property {string} src\n * @property {boolean} muted\n * @property {number} volume\n * @property {number} currentTime\n * @property {string} poster\n * @property {string} backgroundColor\n * @property {string} foregroundColor\n * @property {string} accentColor\n */\n\n/**\n * @param {string} statusId\n * @param {string} accountId\n * @param {string} playerType\n * @param {MediaProps} props\n * @return {object}\n */\nexport const deployPictureInPicture = (statusId, accountId, playerType, props) => {\n  return (dispatch, getState) => {\n    // Do not open a player for a toot that does not exist\n    if (getState().hasIn(['statuses', statusId])) {\n      dispatch({\n        type: PICTURE_IN_PICTURE_DEPLOY,\n        statusId,\n        accountId,\n        playerType,\n        props,\n      });\n    }\n  };\n};\n\n/*\n * @return {object}\n */\nexport const removePictureInPicture = () => ({\n  type: PICTURE_IN_PICTURE_REMOVE,\n});\n","//  Package imports.\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport spring from 'react-motion/lib/spring';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport classNames from 'classnames';\n\n//  Components.\nimport Icon from 'flavours/glitch/components/icon';\n\n//  Utils.\nimport { withPassive } from 'flavours/glitch/util/dom_helpers';\nimport Motion from 'flavours/glitch/util/optional_motion';\nimport { assignHandlers } from 'flavours/glitch/util/react_helpers';\n\n//  The spring to use with our motion.\nconst springMotion = spring(1, {\n  damping: 35,\n  stiffness: 400,\n});\n\n//  The component.\nexport default class ComposerOptionsDropdownContent extends React.PureComponent {\n\n  static propTypes = {\n    items: PropTypes.arrayOf(PropTypes.shape({\n      icon: PropTypes.string,\n      meta: PropTypes.node,\n      name: PropTypes.string.isRequired,\n      text: PropTypes.node,\n    })),\n    onChange: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    style: PropTypes.object,\n    value: PropTypes.string,\n    renderItemContents: PropTypes.func,\n    openedViaKeyboard: PropTypes.bool,\n    closeOnChange: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    style: {},\n    closeOnChange: true,\n  };\n\n  state = {\n    mounted: false,\n    value: this.props.openedViaKeyboard ? this.props.items[0].name : undefined,\n  };\n\n  //  When the document is clicked elsewhere, we close the dropdown.\n  handleDocumentClick = (e) => {\n    if (this.node && !this.node.contains(e.target)) {\n      this.props.onClose();\n    }\n  }\n\n  //  Stores our node in `this.node`.\n  handleRef = (node) => {\n    this.node = node;\n  }\n\n  //  On mounting, we add our listeners.\n  componentDidMount () {\n    document.addEventListener('click', this.handleDocumentClick, false);\n    document.addEventListener('touchend', this.handleDocumentClick, withPassive);\n    if (this.focusedItem) {\n      this.focusedItem.focus({ preventScroll: true });\n    } else {\n      this.node.firstChild.focus({ preventScroll: true });\n    }\n    this.setState({ mounted: true });\n  }\n\n  //  On unmounting, we remove our listeners.\n  componentWillUnmount () {\n    document.removeEventListener('click', this.handleDocumentClick, false);\n    document.removeEventListener('touchend', this.handleDocumentClick, withPassive);\n  }\n\n  handleClick = (e) => {\n    const i = Number(e.currentTarget.getAttribute('data-index'));\n\n    const {\n      onChange,\n      onClose,\n      closeOnChange,\n      items,\n    } = this.props;\n\n    const { name } = this.props.items[i];\n    e.preventDefault();  //  Prevents change in focus on click\n    if (closeOnChange) {\n      onClose();\n    }\n    onChange(name);\n  }\n\n  // Handle changes differently whether the dropdown is a list of options or actions\n  handleChange = (name) => {\n    if (this.props.value) {\n      this.props.onChange(name);\n    } else {\n      this.setState({ value: name });\n    }\n  }\n\n  handleKeyDown = (e) => {\n    const index = Number(e.currentTarget.getAttribute('data-index'));\n    const { items } = this.props;\n    let element = null;\n\n    switch(e.key) {\n    case 'Escape':\n      this.props.onClose();\n      break;\n    case 'Enter':\n    case ' ':\n      this.handleClick(e);\n      break;\n    case 'ArrowDown':\n      element = this.node.childNodes[index + 1] || this.node.firstChild;\n      break;\n    case 'ArrowUp':\n      element = this.node.childNodes[index - 1] || this.node.lastChild;\n      break;\n    case 'Tab':\n      if (e.shiftKey) {\n        element = this.node.childNodes[index - 1] || this.node.lastChild;\n      } else {\n        element = this.node.childNodes[index + 1] || this.node.firstChild;\n      }\n      break;\n    case 'Home':\n      element = this.node.firstChild;\n      break;\n    case 'End':\n      element = this.node.lastChild;\n      break;\n    }\n\n    if (element) {\n      element.focus();\n      this.handleChange(this.props.items[Number(element.getAttribute('data-index'))].name);\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  setFocusRef = c => {\n    this.focusedItem = c;\n  }\n\n  renderItem = (item, i) => {\n    const { name, icon, meta, text } = item;\n\n    const active = (name === (this.props.value || this.state.value));\n\n    const computedClass = classNames('composer--options--dropdown--content--item', { active });\n\n    let contents = this.props.renderItemContents && this.props.renderItemContents(item, i);\n\n    if (!contents) {\n      contents = (\n        <React.Fragment>\n          {icon && <Icon className='icon' fixedWidth id={icon} />}\n\n          <div className='content'>\n            <strong>{text}</strong>\n            {meta}\n          </div>\n        </React.Fragment>\n      );\n    }\n\n    return (\n      <div\n        className={computedClass}\n        onClick={this.handleClick}\n        onKeyDown={this.handleKeyDown}\n        role='option'\n        tabIndex='0'\n        key={name}\n        data-index={i}\n        ref={active ? this.setFocusRef : null}\n      >\n        {contents}\n      </div>\n    );\n  }\n\n  //  Rendering.\n  render () {\n    const { mounted } = this.state;\n    const {\n      items,\n      onChange,\n      onClose,\n      style,\n    } = this.props;\n\n    //  The result.\n    return (\n      <Motion\n        defaultStyle={{\n          opacity: 0,\n          scaleX: 0.85,\n          scaleY: 0.75,\n        }}\n        style={{\n          opacity: springMotion,\n          scaleX: springMotion,\n          scaleY: springMotion,\n        }}\n      >\n        {({ opacity, scaleX, scaleY }) => (\n          // It should not be transformed when mounting because the resulting\n          // size will be used to determine the coordinate of the menu by\n          // react-overlays\n          <div\n            className='composer--options--dropdown--content'\n            ref={this.handleRef}\n            role='listbox'\n            style={{\n              ...style,\n              opacity: opacity,\n              transform: mounted ? `scale(${scaleX}, ${scaleY})` : null,\n            }}\n          >\n            {!!items && items.map((item, i) => this.renderItem(item, i))}\n          </div>\n        )}\n      </Motion>\n    );\n  }\n\n}\n","//  Package imports.\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Overlay from 'react-overlays/lib/Overlay';\n\n//  Components.\nimport IconButton from 'flavours/glitch/components/icon_button';\nimport DropdownMenu from './dropdown_menu';\n\n//  Utils.\nimport { isUserTouching } from 'flavours/glitch/util/is_mobile';\nimport { assignHandlers } from 'flavours/glitch/util/react_helpers';\n\n//  The component.\nexport default class ComposerOptionsDropdown extends React.PureComponent {\n\n  static propTypes = {\n    active: PropTypes.bool,\n    disabled: PropTypes.bool,\n    icon: PropTypes.string,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      icon: PropTypes.string,\n      meta: PropTypes.string,\n      name: PropTypes.string.isRequired,\n      text: PropTypes.string,\n    })).isRequired,\n    onModalOpen: PropTypes.func,\n    onModalClose: PropTypes.func,\n    title: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    container: PropTypes.func,\n    renderItemContents: PropTypes.func,\n    closeOnChange: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    closeOnChange: true,\n  };\n\n  state = {\n    open: false,\n    openedViaKeyboard: undefined,\n    placement: 'bottom',\n  };\n\n  //  Toggles opening and closing the dropdown.\n  handleToggle = ({ target, type }) => {\n    const { onModalOpen } = this.props;\n    const { open } = this.state;\n\n    if (isUserTouching()) {\n      if (this.state.open) {\n        this.props.onModalClose();\n      } else {\n        const modal = this.handleMakeModal();\n        if (modal && onModalOpen) {\n          onModalOpen(modal);\n        }\n      }\n    } else {\n      const { top } = target.getBoundingClientRect();\n      if (this.state.open && this.activeElement) {\n        this.activeElement.focus({ preventScroll: true });\n      }\n      this.setState({ placement: top * 2 < innerHeight ? 'bottom' : 'top' });\n      this.setState({ open: !this.state.open, openedViaKeyboard: type !== 'click' });\n    }\n  }\n\n  handleKeyDown = (e) => {\n    switch (e.key) {\n    case 'Escape':\n      this.handleClose();\n      break;\n    }\n  }\n\n  handleMouseDown = () => {\n    if (!this.state.open) {\n      this.activeElement = document.activeElement;\n    }\n  }\n\n  handleButtonKeyDown = (e) => {\n    switch(e.key) {\n    case ' ':\n    case 'Enter':\n      this.handleMouseDown();\n      break;\n    }\n  }\n\n  handleKeyPress = (e) => {\n    switch(e.key) {\n    case ' ':\n    case 'Enter':\n      this.handleToggle(e);\n      e.stopPropagation();\n      e.preventDefault();\n      break;\n    }\n  }\n\n  handleClose = () => {\n    if (this.state.open && this.activeElement) {\n      this.activeElement.focus({ preventScroll: true });\n    }\n    this.setState({ open: false });\n  }\n\n  handleItemClick = (e) => {\n    const {\n      items,\n      onChange,\n      onModalClose,\n      closeOnChange,\n    } = this.props;\n\n    const i = Number(e.currentTarget.getAttribute('data-index'));\n\n    const { name } = items[i];\n\n    e.preventDefault();  //  Prevents focus from changing\n    if (closeOnChange) onModalClose();\n    onChange(name);\n  };\n\n  //  Creates an action modal object.\n  handleMakeModal = () => {\n    const {\n      items,\n      onChange,\n      onModalOpen,\n      onModalClose,\n      value,\n    } = this.props;\n\n    //  Required props.\n    if (!(onChange && onModalOpen && onModalClose && items)) {\n      return null;\n    }\n\n    //  The object.\n    return {\n      renderItemContents: this.props.renderItemContents,\n      onClick: this.handleItemClick,\n      actions: items.map(\n        ({\n          name,\n          ...rest\n        }) => ({\n          ...rest,\n          active: value && name === value,\n          name,\n        })\n      ),\n    };\n  }\n\n  //  Rendering.\n  render () {\n    const {\n      active,\n      disabled,\n      title,\n      icon,\n      items,\n      onChange,\n      value,\n      container,\n      renderItemContents,\n      closeOnChange,\n    } = this.props;\n    const { open, placement } = this.state;\n    const computedClass = classNames('composer--options--dropdown', {\n      active,\n      open,\n      top: placement === 'top',\n    });\n\n    //  The result.\n    return (\n      <div\n        className={computedClass}\n        onKeyDown={this.handleKeyDown}\n      >\n        <IconButton\n          active={open || active}\n          className='value'\n          disabled={disabled}\n          icon={icon}\n          inverted\n          onClick={this.handleToggle}\n          onMouseDown={this.handleMouseDown}\n          onKeyDown={this.handleButtonKeyDown}\n          onKeyPress={this.handleKeyPress}\n          size={18}\n          style={{\n            height: null,\n            lineHeight: '27px',\n          }}\n          title={title}\n        />\n        <Overlay\n          containerPadding={20}\n          placement={placement}\n          show={open}\n          target={this}\n          container={container}\n        >\n          <DropdownMenu\n            items={items}\n            renderItemContents={renderItemContents}\n            onChange={onChange}\n            onClose={this.handleClose}\n            value={value}\n            openedViaKeyboard={this.state.openedViaKeyboard}\n            closeOnChange={closeOnChange}\n          />\n        </Overlay>\n      </div>\n    );\n  }\n\n}\n","import api from 'flavours/glitch/util/api';\n\nexport const TRENDS_FETCH_REQUEST = 'TRENDS_FETCH_REQUEST';\nexport const TRENDS_FETCH_SUCCESS = 'TRENDS_FETCH_SUCCESS';\nexport const TRENDS_FETCH_FAIL    = 'TRENDS_FETCH_FAIL';\n\nexport const fetchTrends = () => (dispatch, getState) => {\n  dispatch(fetchTrendsRequest());\n\n  api(getState)\n    .get('/api/v1/trends')\n    .then(({ data }) => dispatch(fetchTrendsSuccess(data)))\n    .catch(err => dispatch(fetchTrendsFail(err)));\n};\n\nexport const fetchTrendsRequest = () => ({\n  type: TRENDS_FETCH_REQUEST,\n  skipLoading: true,\n});\n\nexport const fetchTrendsSuccess = trends => ({\n  type: TRENDS_FETCH_SUCCESS,\n  trends,\n  skipLoading: true,\n});\n\nexport const fetchTrendsFail = error => ({\n  type: TRENDS_FETCH_FAIL,\n  error,\n  skipLoading: true,\n  skipAlert: true,\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _defaultPropTypes = require('./defaultPropTypes');\n\nvar _defaultPropTypes2 = _interopRequireDefault(_defaultPropTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* linting temp disabled while working on updates */\n\n/* eslint-disable */\n\n\nvar Notification = function (_Component) {\n  _inherits(Notification, _Component);\n\n  function Notification(props) {\n    _classCallCheck(this, Notification);\n\n    var _this = _possibleConstructorReturn(this, (Notification.__proto__ || Object.getPrototypeOf(Notification)).call(this, props));\n\n    _this.getBarStyle = _this.getBarStyle.bind(_this);\n    _this.getActionStyle = _this.getActionStyle.bind(_this);\n    _this.getTitleStyle = _this.getTitleStyle.bind(_this);\n    _this.handleClick = _this.handleClick.bind(_this);\n\n    if (props.onDismiss && props.isActive) {\n      _this.dismissTimeout = setTimeout(props.onDismiss, props.dismissAfter);\n    }\n\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.dismissAfter === false) return; // See http://eslint.org/docs/rules/no-prototype-builtins\n\n      if (!{}.hasOwnProperty.call(nextProps, 'isLast')) {\n        clearTimeout(this.dismissTimeout);\n      }\n\n      if (nextProps.onDismiss) {\n        if (nextProps.isActive && !this.props.isActive || nextProps.dismissAfter && this.props.dismissAfter === false) {\n          this.dismissTimeout = setTimeout(nextProps.onDismiss, nextProps.dismissAfter);\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.dismissAfter) clearTimeout(this.dismissTimeout);\n    }\n    /*\n    * @description Dynamically get the styles for the bar.\n    * @returns {object} result The style.\n    */\n\n  }, {\n    key: 'getBarStyle',\n    value: function getBarStyle() {\n      if (this.props.style === false) return {};\n      var _props = this.props,\n          isActive = _props.isActive,\n          barStyle = _props.barStyle,\n          activeBarStyle = _props.activeBarStyle;\n      var baseStyle = {\n        position: 'fixed',\n        bottom: '2rem',\n        left: '-100%',\n        width: 'auto',\n        padding: '1rem',\n        margin: 0,\n        color: '#fafafa',\n        font: '1rem normal Roboto, sans-serif',\n        borderRadius: '5px',\n        background: '#212121',\n        borderSizing: 'border-box',\n        boxShadow: '0 0 1px 1px rgba(10, 10, 11, .125)',\n        cursor: 'default',\n        WebKitTransition: '.5s cubic-bezier(0.89, 0.01, 0.5, 1.1)',\n        MozTransition: '.5s cubic-bezier(0.89, 0.01, 0.5, 1.1)',\n        msTransition: '.5s cubic-bezier(0.89, 0.01, 0.5, 1.1)',\n        OTransition: '.5s cubic-bezier(0.89, 0.01, 0.5, 1.1)',\n        transition: '.5s cubic-bezier(0.89, 0.01, 0.5, 1.1)',\n        WebkitTransform: 'translatez(0)',\n        MozTransform: 'translatez(0)',\n        msTransform: 'translatez(0)',\n        OTransform: 'translatez(0)',\n        transform: 'translatez(0)'\n      };\n      return isActive ? _extends({}, baseStyle, {\n        left: '1rem'\n      }, barStyle, activeBarStyle) : _extends({}, baseStyle, barStyle);\n    }\n    /*\n    * @function getActionStyle\n    * @description Dynamically get the styles for the action text.\n    * @returns {object} result The style.\n    */\n\n  }, {\n    key: 'getActionStyle',\n    value: function getActionStyle() {\n      return this.props.style !== false ? _extends({}, {\n        padding: '0.125rem',\n        marginLeft: '1rem',\n        color: '#f44336',\n        font: '.75rem normal Roboto, sans-serif',\n        lineHeight: '1rem',\n        letterSpacing: '.125ex',\n        textTransform: 'uppercase',\n        borderRadius: '5px',\n        cursor: 'pointer'\n      }, this.props.actionStyle) : {};\n    }\n    /*\n    * @function getTitleStyle\n    * @description Dynamically get the styles for the title.\n    * @returns {object} result The style.\n    */\n\n  }, {\n    key: 'getTitleStyle',\n    value: function getTitleStyle() {\n      return this.props.style !== false ? _extends({}, {\n        fontWeight: '700',\n        marginRight: '.5rem'\n      }, this.props.titleStyle) : {};\n    }\n    /*\n    * @function handleClick\n    * @description Handle click events on the action button.\n    */\n\n  }, {\n    key: 'handleClick',\n    value: function handleClick() {\n      if (this.props.onClick && typeof this.props.onClick === 'function') {\n        return this.props.onClick();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var className = 'notification-bar';\n      if (this.props.isActive) className += ' ' + this.props.activeClassName;\n      if (this.props.className) className += ' ' + this.props.className;\n      return _react2.default.createElement('div', {\n        className: className,\n        style: this.getBarStyle()\n      }, _react2.default.createElement('div', {\n        className: 'notification-bar-wrapper'\n      }, this.props.title ? _react2.default.createElement('span', {\n        className: 'notification-bar-title',\n        style: this.getTitleStyle()\n      }, this.props.title) : null, _react2.default.createElement('span', {\n        className: 'notification-bar-message'\n      }, this.props.message), this.props.action ? _react2.default.createElement('span', {\n        className: 'notification-bar-action',\n        onClick: this.handleClick,\n        style: this.getActionStyle()\n      }, this.props.action) : null));\n    }\n  }]);\n\n  return Notification;\n}(_react.Component);\n\nNotification.propTypes = _defaultPropTypes2.default;\nNotification.defaultProps = {\n  isActive: false,\n  dismissAfter: 2000,\n  activeClassName: 'notification-bar-active'\n};\nexports.default = Notification;","export default __webpack_public_path__ + \"media/flavours/glitch/images/logo_warn_glitch-68f2721071b15e54520ac713d29675cf.svg\";","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _notification = require('./notification');\n\nObject.defineProperty(exports, 'Notification', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_notification).default;\n  }\n});\n\nvar _notificationStack = require('./notificationStack');\n\nObject.defineProperty(exports, 'NotificationStack', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_notificationStack).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n/** Used to match property names within property paths. */\n\n\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\n\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n\n  var type = typeof value;\n\n  if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {\n    return true;\n  }\n\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n}\n\nmodule.exports = isKey;","import { saveSettings } from './settings';\n\nexport const LANGUAGE_USE = 'LANGUAGE_USE';\n\nexport const useLanguage = language => dispatch => {\n  dispatch({\n    type: LANGUAGE_USE,\n    language,\n  });\n\n  dispatch(saveSettings());\n};\n","export const order = ['public', 'unlisted', 'private', 'direct'];\n\nexport function privacyPreference (a, b) {\n  return order[Math.max(order.indexOf(a), order.indexOf(b), 0)];\n};\n","export const HEIGHT_CACHE_SET = 'HEIGHT_CACHE_SET';\nexport const HEIGHT_CACHE_CLEAR = 'HEIGHT_CACHE_CLEAR';\n\nexport function setHeight (key, id, height) {\n  return {\n    type: HEIGHT_CACHE_SET,\n    key,\n    id,\n    height,\n  };\n};\n\nexport function clearHeight () {\n  return {\n    type: HEIGHT_CACHE_CLEAR,\n  };\n};\n","import api from 'flavours/glitch/util/api';\n\nexport const CUSTOM_EMOJIS_FETCH_REQUEST = 'CUSTOM_EMOJIS_FETCH_REQUEST';\nexport const CUSTOM_EMOJIS_FETCH_SUCCESS = 'CUSTOM_EMOJIS_FETCH_SUCCESS';\nexport const CUSTOM_EMOJIS_FETCH_FAIL = 'CUSTOM_EMOJIS_FETCH_FAIL';\n\nexport function fetchCustomEmojis() {\n  return (dispatch, getState) => {\n    dispatch(fetchCustomEmojisRequest());\n\n    api(getState).get('/api/v1/custom_emojis').then(response => {\n      dispatch(fetchCustomEmojisSuccess(response.data));\n    }).catch(error => {\n      dispatch(fetchCustomEmojisFail(error));\n    });\n  };\n};\n\nexport function fetchCustomEmojisRequest() {\n  return {\n    type: CUSTOM_EMOJIS_FETCH_REQUEST,\n    skipLoading: true,\n  };\n};\n\nexport function fetchCustomEmojisSuccess(custom_emojis) {\n  return {\n    type: CUSTOM_EMOJIS_FETCH_SUCCESS,\n    custom_emojis,\n    skipLoading: true,\n  };\n};\n\nexport function fetchCustomEmojisFail(error) {\n  return {\n    type: CUSTOM_EMOJIS_FETCH_FAIL,\n    error,\n    skipLoading: true,\n  };\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport Dropdown from './dropdown';\n\nconst messages = defineMessages({\n  public_short: { id: 'privacy.public.short', defaultMessage: 'Public' },\n  public_long: { id: 'privacy.public.long', defaultMessage: 'Visible for all' },\n  unlisted_short: { id: 'privacy.unlisted.short', defaultMessage: 'Unlisted' },\n  unlisted_long: { id: 'privacy.unlisted.long', defaultMessage: 'Visible for all, but opted-out of discovery features' },\n  private_short: { id: 'privacy.private.short', defaultMessage: 'Followers only' },\n  private_long: { id: 'privacy.private.long', defaultMessage: 'Visible for followers only' },\n  direct_short: { id: 'privacy.direct.short', defaultMessage: 'Only people I mention' },\n  direct_long: { id: 'privacy.direct.long', defaultMessage: 'Visible for mentioned users only' },\n  change_privacy: { id: 'privacy.change', defaultMessage: 'Adjust status privacy' },\n});\n\nexport default @injectIntl\nclass PrivacyDropdown extends React.PureComponent {\n\n  static propTypes = {\n    isUserTouching: PropTypes.func,\n    onModalOpen: PropTypes.func,\n    onModalClose: PropTypes.func,\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func.isRequired,\n    noDirect: PropTypes.bool,\n    container: PropTypes.func,\n    disabled: PropTypes.bool,\n    intl: PropTypes.object.isRequired,\n  };\n\n  render () {\n    const { value, onChange, onModalOpen, onModalClose, disabled, noDirect, container, intl: { formatMessage } } = this.props;\n\n    //  We predefine our privacy items so that we can easily pick the\n    //  dropdown icon later.\n    const privacyItems = {\n      direct: {\n        icon: 'envelope',\n        meta: formatMessage(messages.direct_long),\n        name: 'direct',\n        text: formatMessage(messages.direct_short),\n      },\n      private: {\n        icon: 'lock',\n        meta: formatMessage(messages.private_long),\n        name: 'private',\n        text: formatMessage(messages.private_short),\n      },\n      public: {\n        icon: 'globe',\n        meta: formatMessage(messages.public_long),\n        name: 'public',\n        text: formatMessage(messages.public_short),\n      },\n      unlisted: {\n        icon: 'unlock',\n        meta: formatMessage(messages.unlisted_long),\n        name: 'unlisted',\n        text: formatMessage(messages.unlisted_short),\n      },\n    };\n\n    const items = [privacyItems.public, privacyItems.unlisted, privacyItems.private];\n\n    if (!noDirect) {\n      items.push(privacyItems.direct);\n    }\n\n    return (\n      <Dropdown\n        disabled={disabled}\n        icon={(privacyItems[value] || {}).icon}\n        items={items}\n        onChange={onChange}\n        onModalClose={onModalClose}\n        onModalOpen={onModalOpen}\n        title={formatMessage(messages.change_privacy)}\n        container={container}\n        value={value}\n      />\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Motion from 'flavours/glitch/util/optional_motion';\nimport spring from 'react-motion/lib/spring';\nimport Icon from 'flavours/glitch/components/icon';\n\nexport default class UploadProgress extends React.PureComponent {\n\n  static propTypes = {\n    active: PropTypes.bool,\n    progress: PropTypes.number,\n    icon: PropTypes.string.isRequired,\n    message: PropTypes.node.isRequired,\n  };\n\n  render () {\n    const { active, progress, icon, message } = this.props;\n\n    if (!active) {\n      return null;\n    }\n\n    return (\n      <div className='composer--upload_form--progress'>\n        <Icon id={icon} />\n\n        <div className='message'>\n          {message}\n\n          <div className='backdrop'>\n            <Motion defaultStyle={{ width: 0 }} style={{ width: spring(progress) }}>\n              {({ width }) =>\n                (<div className='tracker' style={{ width: `${width}%` }}\n                />)\n              }\n            </Motion>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { length } from 'stringz';\n\nexport default class CharacterCounter extends React.PureComponent {\n\n  static propTypes = {\n    text: PropTypes.string.isRequired,\n    max: PropTypes.number.isRequired,\n  };\n\n  checkRemainingText (diff) {\n    if (diff < 0) {\n      return <span className='character-counter character-counter--over'>{diff}</span>;\n    }\n\n    return <span className='character-counter'>{diff}</span>;\n  }\n\n  render () {\n    const diff = this.props.max - length(this.props.text);\n    return this.checkRemainingText(diff);\n  }\n\n}\n","//  Package imports.\nimport { supportsPassiveEvents } from 'detect-passive-events';\n\n//  This will either be a passive lister options object (if passive\n//  events are supported), or `false`.\nexport const withPassive = supportsPassiveEvents ? { passive: true } : false;\n\n//  Focuses the root element.\nexport function focusRoot () {\n  let e;\n  if (document && (e = document.querySelector('.ui')) && (e = e.parentElement)) {\n    e.focus();\n  }\n}\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\n\nexports.getArg = getArg;\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n\n  if (!match) {\n    return null;\n  }\n\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\n\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n\n  url += '//';\n\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port;\n  }\n\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n\n  return url;\n}\n\nexports.urlGenerate = urlGenerate;\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\n\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n\n    path = url.path;\n  }\n\n  var isAbsolute = exports.isAbsolute(path);\n  var parts = path.split(/\\/+/);\n\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n\n  return path;\n}\n\nexports.normalize = normalize;\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\n\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  } // `join(foo, '//www.example.org')`\n\n\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  } // `join('http://', 'www.example.com')`\n\n\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/' ? aPath : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n\n  return joined;\n}\n\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n};\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\n\n\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, ''); // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n\n  var level = 0;\n\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n\n    if (index < 0) {\n      return aPath;\n    } // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n\n\n    aRoot = aRoot.slice(0, index);\n\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  } // Make sure we add a \"../\" for each component we removed from the root.\n\n\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\n\nexports.relative = relative;\n\nvar supportsNullProto = function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}();\n\nfunction identity(s) {\n  return s;\n}\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\n\n\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\n\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\n\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9\n  /* \"__proto__\".length */\n  ) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95\n  /* '_' */\n  || s.charCodeAt(length - 2) !== 95\n  /* '_' */\n  || s.charCodeAt(length - 3) !== 111\n  /* 'o' */\n  || s.charCodeAt(length - 4) !== 116\n  /* 't' */\n  || s.charCodeAt(length - 5) !== 111\n  /* 'o' */\n  || s.charCodeAt(length - 6) !== 114\n  /* 'r' */\n  || s.charCodeAt(length - 7) !== 112\n  /* 'p' */\n  || s.charCodeAt(length - 8) !== 95\n  /* '_' */\n  || s.charCodeAt(length - 9) !== 95\n  /* '_' */\n  ) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36\n    /* '$' */\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\n\n\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = mappingA.source - mappingB.source;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\n\nexports.compareByOriginalPositions = compareByOriginalPositions;\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\n\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = mappingA.source - mappingB.source;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\n\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\n\n\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\n\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;","var isObject = require('./isObject');\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\n\n\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function (object) {\n    if (object == null) {\n      return false;\n    }\n\n    return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n  };\n}\n\nmodule.exports = matchesStrictComparable;","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\n\n\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n\n  return index && index == length ? object : undefined;\n}\n\nmodule.exports = baseGet;","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\n\n\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;","import api from 'flavours/glitch/util/api';\n\nexport const RULES_FETCH_REQUEST = 'RULES_FETCH_REQUEST';\nexport const RULES_FETCH_SUCCESS = 'RULES_FETCH_SUCCESS';\nexport const RULES_FETCH_FAIL    = 'RULES_FETCH_FAIL';\n\nexport const fetchRules = () => (dispatch, getState) => {\n  dispatch(fetchRulesRequest());\n\n  api(getState)\n    .get('/api/v1/instance').then(({ data }) => dispatch(fetchRulesSuccess(data.rules)))\n    .catch(err => dispatch(fetchRulesFail(err)));\n};\n\nconst fetchRulesRequest = () => ({\n  type: RULES_FETCH_REQUEST,\n});\n\nconst fetchRulesSuccess = rules => ({\n  type: RULES_FETCH_SUCCESS,\n  rules,\n});\n\nconst fetchRulesFail = error => ({\n  type: RULES_FETCH_FAIL,\n  error,\n});\n","import api from 'flavours/glitch/util/api';\n\nexport const FILTERS_FETCH_REQUEST = 'FILTERS_FETCH_REQUEST';\nexport const FILTERS_FETCH_SUCCESS = 'FILTERS_FETCH_SUCCESS';\nexport const FILTERS_FETCH_FAIL    = 'FILTERS_FETCH_FAIL';\n\nexport const fetchFilters = () => (dispatch, getState) => {\n  dispatch({\n    type: FILTERS_FETCH_REQUEST,\n    skipLoading: true,\n  });\n\n  api(getState)\n    .get('/api/v1/filters')\n    .then(({ data }) => dispatch({\n      type: FILTERS_FETCH_SUCCESS,\n      filters: data,\n      skipLoading: true,\n    }))\n    .catch(err => dispatch({\n      type: FILTERS_FETCH_FAIL,\n      err,\n      skipLoading: true,\n      skipAlert: true,\n    }));\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst emptyComponent = () => null;\nconst noop = () => { };\n\nclass Bundle extends React.Component {\n\n  static propTypes = {\n    fetchComponent: PropTypes.func.isRequired,\n    loading: PropTypes.func,\n    error: PropTypes.func,\n    children: PropTypes.func.isRequired,\n    renderDelay: PropTypes.number,\n    onFetch: PropTypes.func,\n    onFetchSuccess: PropTypes.func,\n    onFetchFail: PropTypes.func,\n  }\n\n  static defaultProps = {\n    loading: emptyComponent,\n    error: emptyComponent,\n    renderDelay: 0,\n    onFetch: noop,\n    onFetchSuccess: noop,\n    onFetchFail: noop,\n  }\n\n  static cache = {}\n\n  state = {\n    mod: undefined,\n    forceRender: false,\n  }\n\n  componentWillMount() {\n    this.load(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.fetchComponent !== this.props.fetchComponent) {\n      this.load(nextProps);\n    }\n  }\n\n  componentWillUnmount () {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  load = (props) => {\n    const { fetchComponent, onFetch, onFetchSuccess, onFetchFail, renderDelay } = props || this.props;\n\n    if (fetchComponent === undefined) {\n      this.setState({ mod: null });\n      return Promise.resolve();\n    }\n\n    onFetch();\n\n    if (Bundle.cache[fetchComponent.name]) {\n      const mod = Bundle.cache[fetchComponent.name];\n\n      this.setState({ mod: mod.default });\n      onFetchSuccess();\n      return Promise.resolve();\n    }\n\n    this.setState({ mod: undefined });\n\n    if (renderDelay !== 0) {\n      this.timestamp = new Date();\n      this.timeout = setTimeout(() => this.setState({ forceRender: true }), renderDelay);\n    }\n\n    return fetchComponent()\n      .then((mod) => {\n        Bundle.cache[fetchComponent.name] = mod;\n        this.setState({ mod: mod.default });\n        onFetchSuccess();\n      })\n      .catch((error) => {\n        this.setState({ mod: null });\n        onFetchFail(error);\n      });\n  }\n\n  render() {\n    const { loading: Loading, error: Error, children, renderDelay } = this.props;\n    const { mod, forceRender } = this.state;\n    const elapsed = this.timestamp ? (new Date() - this.timestamp) : renderDelay;\n\n    if (mod === undefined) {\n      return (elapsed >= renderDelay || forceRender) ? <Loading /> : null;\n    }\n\n    if (mod === null) {\n      return <Error onRetry={this.load} />;\n    }\n\n    return children(mod);\n  }\n\n}\n\nexport default Bundle;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n/* linting temp disabled while working on updates */\n\n/* eslint-disable */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _stackedNotification = require('./stackedNotification');\n\nvar _stackedNotification2 = _interopRequireDefault(_stackedNotification);\n\nvar _defaultPropTypes = require('./defaultPropTypes');\n\nvar _defaultPropTypes2 = _interopRequireDefault(_defaultPropTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction defaultBarStyleFactory(index, style) {\n  return _extends({}, style, {\n    bottom: 2 + index * 4 + 'rem'\n  });\n}\n\nfunction defaultActionStyleFactory(index, style) {\n  return _extends({}, style, {});\n}\n/**\n* The notification list does not have any state, so use a\n* pure function here. It just needs to return the stacked array\n* of notification components.\n*/\n\n\nvar NotificationStack = function NotificationStack(props) {\n  return _react2.default.createElement('div', {\n    className: 'notification-list'\n  }, props.notifications.map(function (notification, index) {\n    var isLast = index === 0 && props.notifications.length === 1;\n    var dismissNow = isLast || !props.dismissInOrder; // Handle styles\n\n    var barStyle = props.barStyleFactory(index, notification.barStyle, notification);\n    var actionStyle = props.actionStyleFactory(index, notification.actionStyle, notification);\n    var activeBarStyle = props.activeBarStyleFactory(index, notification.activeBarStyle, notification); // Allow onClick from notification stack or individual notifications\n\n    var onClick = notification.onClick || props.onClick;\n    var onDismiss = props.onDismiss;\n    var dismissAfter = notification.dismissAfter;\n\n    if (dismissAfter !== false) {\n      if (dismissAfter == null) dismissAfter = props.dismissAfter;\n      if (!dismissNow) dismissAfter += index * 1000;\n    }\n\n    return _react2.default.createElement(_stackedNotification2.default, _extends({}, notification, {\n      key: notification.key,\n      isLast: isLast,\n      action: notification.action || props.action,\n      dismissAfter: dismissAfter,\n      onDismiss: onDismiss.bind(undefined, notification),\n      onClick: onClick.bind(undefined, notification),\n      activeBarStyle: activeBarStyle,\n      barStyle: barStyle,\n      actionStyle: actionStyle\n    }));\n  }));\n};\n/* eslint-disable react/no-unused-prop-types, react/forbid-prop-types */\n\n\nNotificationStack.propTypes = {\n  activeBarStyleFactory: _propTypes2.default.func,\n  barStyleFactory: _propTypes2.default.func,\n  actionStyleFactory: _propTypes2.default.func,\n  dismissInOrder: _propTypes2.default.bool,\n  notifications: _propTypes2.default.array.isRequired,\n  onDismiss: _propTypes2.default.func.isRequired,\n  onClick: _propTypes2.default.func,\n  action: _defaultPropTypes2.default.action\n};\nNotificationStack.defaultProps = {\n  activeBarStyleFactory: defaultBarStyleFactory,\n  barStyleFactory: defaultBarStyleFactory,\n  actionStyleFactory: defaultActionStyleFactory,\n  dismissInOrder: true,\n  dismissAfter: 1000,\n  onClick: function onClick() {}\n};\n/* eslint-enable no-alert, no-console */\n\nexports.default = NotificationStack;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _defaultPropTypes = require('./defaultPropTypes');\n\nvar _defaultPropTypes2 = _interopRequireDefault(_defaultPropTypes);\n\nvar _notification = require('./notification');\n\nvar _notification2 = _interopRequireDefault(_notification);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* linting temp disabled while working on updates */\n\n/* eslint-disable */\n\n\nvar StackedNotification = function (_Component) {\n  _inherits(StackedNotification, _Component);\n\n  function StackedNotification(props) {\n    _classCallCheck(this, StackedNotification);\n\n    var _this = _possibleConstructorReturn(this, (StackedNotification.__proto__ || Object.getPrototypeOf(StackedNotification)).call(this, props));\n\n    _this.state = {\n      isActive: false\n    };\n    _this.handleClick = _this.handleClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(StackedNotification, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.activeTimeout = setTimeout(this.setState.bind(this, {\n        isActive: true\n      }), 1);\n      this.dismiss(this.props.dismissAfter);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.dismissAfter !== this.props.dismissAfter) {\n        this.dismiss(nextProps.dismissAfter);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.activeTimeout);\n      clearTimeout(this.dismissTimeout);\n    }\n  }, {\n    key: 'dismiss',\n    value: function dismiss(dismissAfter) {\n      if (dismissAfter === false) return;\n      this.dismissTimeout = setTimeout(this.setState.bind(this, {\n        isActive: false\n      }), dismissAfter);\n    }\n    /*\n    * @function handleClick\n    * @description Bind deactivate Notification function to Notification click handler\n    */\n\n  }, {\n    key: 'handleClick',\n    value: function handleClick() {\n      if (this.props.onClick && typeof this.props.onClick === 'function') {\n        return this.props.onClick(this.setState.bind(this, {\n          isActive: false\n        }));\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(_notification2.default, _extends({}, this.props, {\n        onClick: this.handleClick,\n        onDismiss: function onDismiss() {\n          return setTimeout(_this2.props.onDismiss, 300);\n        },\n        isActive: this.state.isActive\n      }));\n    }\n  }]);\n\n  return StackedNotification;\n}(_react.Component);\n\nStackedNotification.propTypes = _defaultPropTypes2.default;\nexports.default = StackedNotification;","import { connect } from 'react-redux';\n\nimport Bundle from '../components/bundle';\n\nimport { fetchBundleRequest, fetchBundleSuccess, fetchBundleFail } from 'flavours/glitch/actions/bundles';\n\nconst mapDispatchToProps = dispatch => ({\n  onFetch () {\n    dispatch(fetchBundleRequest());\n  },\n  onFetchSuccess () {\n    dispatch(fetchBundleSuccess());\n  },\n  onFetchFail (error) {\n    dispatch(fetchBundleFail(error));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(Bundle);\n","export const BUNDLE_FETCH_REQUEST = 'BUNDLE_FETCH_REQUEST';\nexport const BUNDLE_FETCH_SUCCESS = 'BUNDLE_FETCH_SUCCESS';\nexport const BUNDLE_FETCH_FAIL = 'BUNDLE_FETCH_FAIL';\n\nexport function fetchBundleRequest(skipLoading) {\n  return {\n    type: BUNDLE_FETCH_REQUEST,\n    skipLoading,\n  };\n}\n\nexport function fetchBundleSuccess(skipLoading) {\n  return {\n    type: BUNDLE_FETCH_SUCCESS,\n    skipLoading,\n  };\n}\n\nexport function fetchBundleFail(error, skipLoading) {\n  return {\n    type: BUNDLE_FETCH_FAIL,\n    error,\n    skipLoading,\n  };\n}\n","import api from 'flavours/glitch/util/api';\nimport { importFetchedStatuses } from './importer';\n\nexport const PINNED_STATUSES_FETCH_REQUEST = 'PINNED_STATUSES_FETCH_REQUEST';\nexport const PINNED_STATUSES_FETCH_SUCCESS = 'PINNED_STATUSES_FETCH_SUCCESS';\nexport const PINNED_STATUSES_FETCH_FAIL = 'PINNED_STATUSES_FETCH_FAIL';\n\nimport { me } from 'flavours/glitch/util/initial_state';\n\nexport function fetchPinnedStatuses() {\n  return (dispatch, getState) => {\n    dispatch(fetchPinnedStatusesRequest());\n\n    api(getState).get(`/api/v1/accounts/${me}/statuses`, { params: { pinned: true } }).then(response => {\n      dispatch(importFetchedStatuses(response.data));\n      dispatch(fetchPinnedStatusesSuccess(response.data, null));\n    }).catch(error => {\n      dispatch(fetchPinnedStatusesFail(error));\n    });\n  };\n};\n\nexport function fetchPinnedStatusesRequest() {\n  return {\n    type: PINNED_STATUSES_FETCH_REQUEST,\n  };\n};\n\nexport function fetchPinnedStatusesSuccess(statuses, next) {\n  return {\n    type: PINNED_STATUSES_FETCH_SUCCESS,\n    statuses,\n    next,\n  };\n};\n\nexport function fetchPinnedStatusesFail(error) {\n  return {\n    type: PINNED_STATUSES_FETCH_FAIL,\n    error,\n  };\n};\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\n\n\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n  baseForOwn(object, function (value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;","'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _mouse = require('./mouse.js');\n\nvar _mouse2 = _interopRequireDefault(_mouse);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar Atrament = function () {\n  function Atrament(selector, width, height, color) {\n    var _this = this;\n\n    _classCallCheck(this, Atrament);\n\n    if (!document) throw new Error('no DOM found'); // get canvas element\n\n    if (selector instanceof window.Node && selector.tagName === 'CANVAS') this.canvas = selector;else if (typeof selector === 'string') this.canvas = document.querySelector(selector);else throw new Error('can\\'t look for canvas based on \\'' + selector + '\\'');\n    if (!this.canvas) throw new Error('canvas not found'); // set external canvas params\n\n    this.canvas.width = width || 500;\n    this.canvas.height = height || 500;\n    this.canvas.style.cursor = 'crosshair'; // create a mouse object\n\n    this.mouse = new _mouse2.default(); // mousemove handler\n\n    var mouseMove = function mouseMove(e) {\n      e.preventDefault();\n\n      var rect = _this.canvas.getBoundingClientRect();\n\n      var position = e.changedTouches && e.changedTouches[0] || e;\n      var x = position.offsetX;\n      var y = position.offsetY;\n\n      if (typeof x === 'undefined') {\n        x = position.clientX + document.documentElement.scrollLeft - rect.left;\n      }\n\n      if (typeof y === 'undefined') {\n        y = position.clientY + document.documentElement.scrollTop - rect.top;\n      } // draw if we should draw\n\n\n      if (_this.mouse.down) {\n        _this.draw(x, y);\n\n        if (!_this._dirty && (x !== _this.mouse.x || y !== _this.mouse.y)) {\n          _this._dirty = true;\n\n          _this.fireDirty();\n        }\n      } else {\n        _this.mouse.x = x;\n        _this.mouse.y = y;\n      }\n    }; // mousedown handler\n\n\n    var mouseDown = function mouseDown(mousePosition) {\n      mousePosition.preventDefault(); // update position just in case\n\n      mouseMove(mousePosition); // if we are filling - fill and return\n\n      if (_this._mode === 'fill') {\n        _this.fill();\n\n        return;\n      } // remember it\n\n\n      _this.mouse.px = _this.mouse.x;\n      _this.mouse.py = _this.mouse.y; // begin drawing\n\n      _this.mouse.down = true;\n\n      _this.context.beginPath();\n\n      _this.context.moveTo(_this.mouse.px, _this.mouse.py);\n    };\n\n    var mouseUp = function mouseUp() {\n      _this.mouse.down = false; // stop drawing\n\n      _this.context.closePath();\n    }; // attach listeners\n\n\n    this.canvas.addEventListener('mousemove', mouseMove);\n    this.canvas.addEventListener('mousedown', mouseDown);\n    document.addEventListener('mouseup', mouseUp);\n    this.canvas.addEventListener('touchstart', mouseDown);\n    this.canvas.addEventListener('touchend', mouseUp);\n    this.canvas.addEventListener('touchmove', mouseMove); // helper for destroying Atrament (removing event listeners)\n\n    this.destroy = function () {\n      _this.clear();\n\n      _this.canvas.removeEventListener('mousemove', mouseMove);\n\n      _this.canvas.removeEventListener('mousedown', mouseDown);\n\n      document.removeEventListener('mouseup', mouseUp);\n\n      _this.canvas.removeEventListener('touchstart', mouseDown);\n\n      _this.canvas.removeEventListener('touchend', mouseUp);\n\n      _this.canvas.removeEventListener('touchmove', mouseMove);\n    }; // set internal canvas params\n\n\n    this.context = this.canvas.getContext('2d');\n    this.context.globalCompositeOperation = 'source-over';\n    this.context.globalAlpha = 1;\n    this.context.strokeStyle = color || 'rgba(0,0,0,1)';\n    this.context.lineCap = 'round';\n    this.context.lineJoin = 'round';\n    this.context.translate(0.5, 0.5);\n    this._filling = false;\n    this._fillStack = []; // set drawing params\n\n    this.SMOOTHING_INIT = 0.85;\n    this.WEIGHT_SPREAD = 10;\n    this._smoothing = this.SMOOTHING_INIT;\n    this._maxWeight = 12;\n    this._thickness = 2;\n    this._targetThickness = 2;\n    this._weight = 2;\n    this._mode = 'draw';\n    this._adaptive = true;\n  }\n\n  _createClass(Atrament, [{\n    key: 'draw',\n    value: function draw(mX, mY) {\n      var mouse = this.mouse;\n      var context = this.context; // calculate distance from previous point\n\n      var rawDist = Atrament.lineDistance(mX, mY, mouse.px, mouse.py); // now, here we scale the initial smoothing factor by the raw distance\n      // this means that when the mouse moves fast, there is more smoothing\n      // and when we're drawing small detailed stuff, we have more control\n      // also we hard clip at 1\n\n      var smoothingFactor = Math.min(0.87, this._smoothing + (rawDist - 60) / 3000); // calculate smoothed coordinates\n\n      mouse.x = mX - (mX - mouse.px) * smoothingFactor;\n      mouse.y = mY - (mY - mouse.py) * smoothingFactor; // recalculate distance from previous point, this time relative to the smoothed coords\n\n      var dist = Atrament.lineDistance(mouse.x, mouse.y, mouse.px, mouse.py);\n\n      if (this._adaptive) {\n        // calculate target thickness based on the new distance\n        this._targetThickness = (dist - 1) / (50 - 1) * (this._maxWeight - this._weight) + this._weight; // approach the target gradually\n\n        if (this._thickness > this._targetThickness) {\n          this._thickness -= 0.5;\n        } else if (this._thickness < this._targetThickness) {\n          this._thickness += 0.5;\n        } // set line width\n\n\n        context.lineWidth = this._thickness;\n      } else {\n        // line width is equal to default weight\n        context.lineWidth = this._weight;\n      } // draw using quad interpolation\n\n\n      context.quadraticCurveTo(mouse.px, mouse.py, mouse.x, mouse.y);\n      context.stroke(); // remember\n\n      mouse.px = mouse.x;\n      mouse.py = mouse.y;\n    }\n  }, {\n    key: 'fireDirty',\n    value: function fireDirty() {\n      var event = document.createEvent('Event');\n      event.initEvent('dirty', true, true);\n      this.canvas.dispatchEvent(event);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      if (!this.dirty) {\n        return;\n      }\n\n      this._dirty = false;\n      this.fireDirty(); // make sure we're in the right compositing mode, and erase everything\n\n      if (this.context.globalCompositeOperation === 'destination-out') {\n        this.mode = 'draw';\n        this.context.clearRect(-10, -10, this.canvas.width + 20, this.canvas.height + 20);\n        this.mode = 'erase';\n      } else {\n        this.context.clearRect(-10, -10, this.canvas.width + 20, this.canvas.height + 20);\n      }\n    }\n  }, {\n    key: 'toImage',\n    value: function toImage() {\n      return this.canvas.toDataURL();\n    }\n  }, {\n    key: 'fill',\n    value: function fill() {\n      var _this2 = this;\n\n      var mouse = this.mouse;\n      var context = this.context;\n      var startColor = Array.prototype.slice.call(context.getImageData(mouse.x, mouse.y, 1, 1).data, 0); // converting to Array because Safari 9\n\n      if (!this._filling) {\n        this.canvas.style.cursor = 'progress';\n        this._filling = true;\n        setTimeout(function () {\n          _this2._floodFill(mouse.x, mouse.y, startColor);\n        }, 100);\n      } else {\n        this._fillStack.push([mouse.x, mouse.y, startColor]);\n      }\n    }\n  }, {\n    key: '_floodFill',\n    value: function _floodFill(_startX, _startY, startColor) {\n      var _this3 = this;\n\n      var context = this.context;\n      var startX = Math.floor(_startX);\n      var startY = Math.floor(_startY);\n      var canvasWidth = context.canvas.width;\n      var canvasHeight = context.canvas.height;\n      var pixelStack = [[startX, startY]]; // hex needs to be trasformed to rgb since colorLayer accepts RGB\n\n      var fillColor = Atrament.hexToRgb(this.color); // Need to save current context with colors, we will update it\n\n      var colorLayer = context.getImageData(0, 0, context.canvas.width, context.canvas.height);\n      var alpha = Math.min(context.globalAlpha * 10 * 255, 255);\n      var colorPixel = Atrament.colorPixel.apply(Atrament, [colorLayer.data].concat(_toConsumableArray(fillColor), [startColor, alpha]));\n      var matchColor = Atrament.matchColor.apply(Atrament, [colorLayer.data].concat(_toConsumableArray(startColor)));\n      var matchFillColor = Atrament.matchColor.apply(Atrament, [colorLayer.data].concat([].concat(_toConsumableArray(fillColor), [255]))); // check if we're trying to fill with the same colour, if so, stop\n\n      if (matchFillColor((startY * context.canvas.width + startX) * 4)) {\n        this._filling = false;\n        setTimeout(function () {\n          _this3.canvas.style.cursor = 'crosshair';\n        }, 100);\n        return;\n      }\n\n      while (pixelStack.length) {\n        var newPos = pixelStack.pop();\n        var x = newPos[0];\n        var y = newPos[1];\n        var pixelPos = (y * canvasWidth + x) * 4;\n\n        while (y-- >= 0 && matchColor(pixelPos)) {\n          pixelPos -= canvasWidth * 4;\n        }\n\n        pixelPos += canvasWidth * 4;\n        ++y;\n        var reachLeft = false;\n        var reachRight = false;\n\n        while (y++ < canvasHeight - 1 && matchColor(pixelPos)) {\n          colorPixel(pixelPos);\n\n          if (x > 0) {\n            if (matchColor(pixelPos - 4)) {\n              if (!reachLeft) {\n                pixelStack.push([x - 1, y]);\n                reachLeft = true;\n              }\n            } else if (reachLeft) {\n              reachLeft = false;\n            }\n          }\n\n          if (x < canvasWidth - 1) {\n            if (matchColor(pixelPos + 4)) {\n              if (!reachRight) {\n                pixelStack.push([x + 1, y]);\n                reachRight = true;\n              }\n            } else if (reachRight) {\n              reachRight = false;\n            }\n          }\n\n          pixelPos += canvasWidth * 4;\n        }\n      } // Update context with filled bucket!\n\n\n      context.putImageData(colorLayer, 0, 0);\n\n      if (this._fillStack.length) {\n        this._floodFill.apply(this, _toConsumableArray(this._fillStack.shift()));\n      } else {\n        this._filling = false;\n        setTimeout(function () {\n          _this3.canvas.style.cursor = 'crosshair';\n        }, 100);\n      }\n    }\n  }, {\n    key: 'color',\n    get: function get() {\n      return this.context.strokeStyle;\n    },\n    set: function set(c) {\n      if (typeof c !== 'string') throw new Error('wrong argument type');\n      this.context.strokeStyle = c;\n    }\n  }, {\n    key: 'weight',\n    get: function get() {\n      return this._weight;\n    },\n    set: function set(w) {\n      if (typeof w !== 'number') throw new Error('wrong argument type');\n      this._weight = w;\n      this._thickness = w;\n      this._targetThickness = w;\n      this._maxWeight = w + this.WEIGHT_SPREAD;\n    }\n  }, {\n    key: 'adaptiveStroke',\n    get: function get() {\n      return this._adaptive;\n    },\n    set: function set(s) {\n      this._adaptive = !!s;\n    }\n  }, {\n    key: 'mode',\n    get: function get() {\n      return this._mode;\n    },\n    set: function set(m) {\n      if (typeof m !== 'string') throw new Error('wrong argument type');\n\n      switch (m) {\n        case 'erase':\n          this._mode = 'erase';\n          this.context.globalCompositeOperation = 'destination-out';\n          break;\n\n        case 'fill':\n          this._mode = 'fill';\n          this.context.globalCompositeOperation = 'source-over';\n          break;\n\n        default:\n          this._mode = 'draw';\n          this.context.globalCompositeOperation = 'source-over';\n          break;\n      }\n    }\n  }, {\n    key: 'dirty',\n    get: function get() {\n      return !!this._dirty;\n    }\n  }, {\n    key: 'smoothing',\n    get: function get() {\n      return this._smoothing === this.SMOOTHING_INIT;\n    },\n    set: function set(s) {\n      if (typeof s !== 'boolean') throw new Error('wrong argument type');\n      this._smoothing = s ? this.SMOOTHING_INIT : 0;\n    }\n  }, {\n    key: 'opacity',\n    set: function set(o) {\n      if (typeof o !== 'number') throw new Error('wrong argument type'); // now, we need to scale this, because our drawing method means we don't just get uniform transparency all over the drawn line.\n      // so we scale it down a lot, meaning that it'll look nicely semi-transparent\n      // unless opacity is 1, then we should go full on to 1\n\n      if (o >= 1) this.context.globalAlpha = 1;else this.context.globalAlpha = o / 10;\n    }\n  }], [{\n    key: 'lineDistance',\n    value: function lineDistance(x1, y1, x2, y2) {\n      // calculate euclidean distance between (x1, y1) and (x2, y2)\n      var xs = Math.pow(x2 - x1, 2);\n      var ys = Math.pow(y2 - y1, 2);\n      return Math.sqrt(xs + ys);\n    }\n  }, {\n    key: 'hexToRgb',\n    value: function hexToRgb(hexColor) {\n      // Since input type color provides hex and ImageData accepts RGB need to transform\n      var m = hexColor.match(/^#?([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})$/i);\n      return [parseInt(m[1], 16), parseInt(m[2], 16), parseInt(m[3], 16)];\n    }\n  }, {\n    key: 'matchColor',\n    value: function matchColor(data, compR, compG, compB, compA) {\n      return function (pixelPos) {\n        // Pixel color equals comp color?\n        var r = data[pixelPos];\n        var g = data[pixelPos + 1];\n        var b = data[pixelPos + 2];\n        var a = data[pixelPos + 3];\n        return r === compR && g === compG && b === compB && a === compA;\n      };\n    }\n  }, {\n    key: 'colorPixel',\n    value: function colorPixel(data, fillR, fillG, fillB, startColor, alpha) {\n      var matchColor = Atrament.matchColor.apply(Atrament, [data].concat(_toConsumableArray(startColor)));\n      return function (pixelPos) {\n        // Update fill color in matrix\n        data[pixelPos] = fillR;\n        data[pixelPos + 1] = fillG;\n        data[pixelPos + 2] = fillB;\n        data[pixelPos + 3] = alpha;\n\n        if (!matchColor(pixelPos + 4)) {\n          data[pixelPos + 4] = data[pixelPos + 4] * 0.01 + fillR * 0.99;\n          data[pixelPos + 4 + 1] = data[pixelPos + 4 + 1] * 0.01 + fillG * 0.99;\n          data[pixelPos + 4 + 2] = data[pixelPos + 4 + 2] * 0.01 + fillB * 0.99;\n          data[pixelPos + 4 + 3] = data[pixelPos + 4 + 3] * 0.01 + alpha * 0.99;\n        }\n\n        if (!matchColor(pixelPos - 4)) {\n          data[pixelPos - 4] = data[pixelPos - 4] * 0.01 + fillR * 0.99;\n          data[pixelPos - 4 + 1] = data[pixelPos - 4 + 1] * 0.01 + fillG * 0.99;\n          data[pixelPos - 4 + 2] = data[pixelPos - 4 + 2] * 0.01 + fillB * 0.99;\n          data[pixelPos - 4 + 3] = data[pixelPos - 4 + 3] * 0.01 + alpha * 0.99;\n        }\n      };\n    }\n  }]);\n\n  return Atrament;\n}(); // for people who like functional programming\n\n\nfunction atrament(selector, width, height, color) {\n  return new Atrament(selector, width, height, color);\n}\n\nmodule.exports = atrament;\nmodule.exports.Atrament = Atrament;","import Immutable from 'immutable';\nimport {\n  DROPDOWN_MENU_OPEN,\n  DROPDOWN_MENU_CLOSE,\n} from '../actions/dropdown_menu';\n\nconst initialState = Immutable.Map({ openId: null, placement: null, keyboard: false, scroll_key: null });\n\nexport default function dropdownMenu(state = initialState, action) {\n  switch (action.type) {\n  case DROPDOWN_MENU_OPEN:\n    return state.merge({ openId: action.id, placement: action.placement, keyboard: action.keyboard, scroll_key: action.scroll_key });\n  case DROPDOWN_MENU_CLOSE:\n    return state.get('openId') === action.id ? state.set('openId', null).set('scroll_key', null) : state;\n  default:\n    return state;\n  }\n}\n","import {\n  TIMELINE_UPDATE,\n  TIMELINE_DELETE,\n  TIMELINE_CLEAR,\n  TIMELINE_EXPAND_SUCCESS,\n  TIMELINE_EXPAND_REQUEST,\n  TIMELINE_EXPAND_FAIL,\n  TIMELINE_SCROLL_TOP,\n  TIMELINE_CONNECT,\n  TIMELINE_DISCONNECT,\n  TIMELINE_LOAD_PENDING,\n  TIMELINE_MARK_AS_PARTIAL,\n} from 'flavours/glitch/actions/timelines';\nimport {\n  ACCOUNT_BLOCK_SUCCESS,\n  ACCOUNT_MUTE_SUCCESS,\n  ACCOUNT_UNFOLLOW_SUCCESS,\n} from 'flavours/glitch/actions/accounts';\nimport { Map as ImmutableMap, List as ImmutableList, OrderedSet as ImmutableOrderedSet, fromJS } from 'immutable';\nimport compareId from 'flavours/glitch/util/compare_id';\n\nconst initialState = ImmutableMap();\n\nconst initialTimeline = ImmutableMap({\n  unread: 0,\n  online: false,\n  top: true,\n  isLoading: false,\n  hasMore: true,\n  pendingItems: ImmutableList(),\n  items: ImmutableList(),\n});\n\nconst expandNormalizedTimeline = (state, timeline, statuses, next, isPartial, isLoadingRecent, usePendingItems) => {\n  // This method is pretty tricky because:\n  // - existing items in the timeline might be out of order\n  // - the existing timeline may have gaps, most often explicitly noted with a `null` item\n  // - ideally, we don't want it to reorder existing items of the timeline\n  // - `statuses` may include items that are already included in the timeline\n  // - this function can be called either to fill in a gap, or load newer items\n\n  return state.update(timeline, initialTimeline, map => map.withMutations(mMap => {\n    mMap.set('isLoading', false);\n    mMap.set('isPartial', isPartial);\n\n    if (!next && !isLoadingRecent) mMap.set('hasMore', false);\n\n    if (timeline.endsWith(':pinned')) {\n      mMap.set('items', statuses.map(status => status.get('id')));\n    } else if (!statuses.isEmpty()) {\n      usePendingItems = isLoadingRecent && (usePendingItems || !mMap.get('pendingItems').isEmpty());\n\n      mMap.update(usePendingItems ? 'pendingItems' : 'items', ImmutableList(), oldIds => {\n        const newIds = statuses.map(status => status.get('id'));\n\n        // Now this gets tricky, as we don't necessarily know for sure where the gap to fill is\n        // and some items in the timeline may not be properly ordered.\n\n        // However, we know that `newIds.last()` is the oldest item that was requested and that\n        // there is no hole between `newIds.last()` and `newIds.first()`.\n\n        // First, find the furthest (if properly sorted, oldest) item in the timeline that is\n        // newer than the oldest fetched one, as it's most likely that it delimits the gap.\n        // Start the gap *after* that item.\n        const lastIndex = oldIds.findLastIndex(id => id !== null && compareId(id, newIds.last()) >= 0) + 1;\n\n        // Then, try to find the furthest (if properly sorted, oldest) item in the timeline that\n        // is newer than the most recent fetched one, as it delimits a section comprised of only\n        // items older or within `newIds` (or that were deleted from the server, so should be removed\n        // anyway).\n        // Stop the gap *after* that item.\n        const firstIndex = oldIds.take(lastIndex).findLastIndex(id => id !== null && compareId(id, newIds.first()) > 0) + 1;\n\n        let insertedIds = ImmutableOrderedSet(newIds).withMutations(insertedIds => {\n          // It is possible, though unlikely, that the slice we are replacing contains items older\n          // than the elements we got from the API. Get them and add them back at the back of the\n          // slice.\n          const olderIds = oldIds.slice(firstIndex, lastIndex).filter(id => id !== null && compareId(id, newIds.last()) < 0);\n          insertedIds.union(olderIds);\n\n          // Make sure we aren't inserting duplicates\n          insertedIds.subtract(oldIds.take(firstIndex), oldIds.skip(lastIndex));\n        }).toList();\n\n        // Finally, insert a gap marker if the data is marked as partial by the server\n        if (isPartial && (firstIndex === 0 || oldIds.get(firstIndex - 1) !== null)) {\n          insertedIds = insertedIds.unshift(null);\n        }\n\n        return oldIds.take(firstIndex).concat(\n          insertedIds,\n          oldIds.skip(lastIndex),\n        );\n      });\n    }\n  }));\n};\n\nconst updateTimeline = (state, timeline, status, usePendingItems, filtered) => {\n  const top = state.getIn([timeline, 'top']);\n\n  if (usePendingItems || !state.getIn([timeline, 'pendingItems']).isEmpty()) {\n    if (state.getIn([timeline, 'pendingItems'], ImmutableList()).includes(status.get('id')) || state.getIn([timeline, 'items'], ImmutableList()).includes(status.get('id'))) {\n      return state;\n    }\n\n    state = state.update(timeline, initialTimeline, map => map.update('pendingItems', list => list.unshift(status.get('id'))));\n\n    if (!filtered) {\n      state = state.updateIn([timeline, 'unread'], unread => unread + 1);\n    }\n\n    return state;\n  }\n\n  const ids        = state.getIn([timeline, 'items'], ImmutableList());\n  const includesId = ids.includes(status.get('id'));\n  const unread     = state.getIn([timeline, 'unread'], 0);\n\n  if (includesId) {\n    return state;\n  }\n\n  let newIds = ids;\n\n  return state.update(timeline, initialTimeline, map => map.withMutations(mMap => {\n    if (!top && !filtered) mMap.set('unread', unread + 1);\n    if (top && ids.size > 40) newIds = newIds.take(20);\n    mMap.set('items', newIds.unshift(status.get('id')));\n  }));\n};\n\nconst deleteStatus = (state, id, references, exclude_account = null) => {\n  state.keySeq().forEach(timeline => {\n    if (exclude_account === null || (timeline !== `account:${exclude_account}` && !timeline.startsWith(`account:${exclude_account}:`))) {\n      const helper = list => list.filterNot(item => item === id);\n      state = state.updateIn([timeline, 'items'], helper).updateIn([timeline, 'pendingItems'], helper);\n    }\n  });\n\n  // Remove reblogs of deleted status\n  references.forEach(ref => {\n    state = deleteStatus(state, ref, [], exclude_account);\n  });\n\n  return state;\n};\n\nconst clearTimeline = (state, timeline) => {\n  return state.set(timeline, initialTimeline);\n};\n\nconst filterTimelines = (state, relationship, statuses) => {\n  let references;\n\n  statuses.forEach(status => {\n    if (status.get('account') !== relationship.id) {\n      return;\n    }\n\n    references = statuses.filter(item => item.get('reblog') === status.get('id')).map(item => item.get('id'));\n    state      = deleteStatus(state, status.get('id'), references, relationship.id);\n  });\n\n  return state;\n};\n\nconst filterTimeline = (timeline, state, relationship, statuses) => {\n  const helper = list => list.filterNot(statusId => statuses.getIn([statusId, 'account']) === relationship.id);\n  return state.updateIn([timeline, 'items'], ImmutableList(), helper).updateIn([timeline, 'pendingItems'], ImmutableList(), helper);\n};\n\nconst updateTop = (state, timeline, top) => {\n  return state.update(timeline, initialTimeline, map => map.withMutations(mMap => {\n    if (top) mMap.set('unread', mMap.get('pendingItems').size);\n    mMap.set('top', top);\n  }));\n};\n\nconst reconnectTimeline = (state, usePendingItems) => {\n  if (state.get('online')) {\n    return state;\n  }\n\n  return state.withMutations(mMap => {\n    mMap.update(usePendingItems ? 'pendingItems' : 'items', items => items.first() ? items.unshift(null) : items);\n    mMap.set('online', true);\n  });\n};\n\nexport default function timelines(state = initialState, action) {\n  switch(action.type) {\n  case TIMELINE_LOAD_PENDING:\n    return state.update(action.timeline, initialTimeline, map =>\n      map.update('items', list => map.get('pendingItems').concat(list.take(40))).set('pendingItems', ImmutableList()).set('unread', 0));\n  case TIMELINE_EXPAND_REQUEST:\n    return state.update(action.timeline, initialTimeline, map => map.set('isLoading', true));\n  case TIMELINE_EXPAND_FAIL:\n    return state.update(action.timeline, initialTimeline, map => map.set('isLoading', false));\n  case TIMELINE_EXPAND_SUCCESS:\n    return expandNormalizedTimeline(state, action.timeline, fromJS(action.statuses), action.next, action.partial, action.isLoadingRecent, action.usePendingItems);\n  case TIMELINE_UPDATE:\n    return updateTimeline(state, action.timeline, fromJS(action.status), action.usePendingItems, action.filtered);\n  case TIMELINE_DELETE:\n    return deleteStatus(state, action.id, action.references, action.reblogOf);\n  case TIMELINE_CLEAR:\n    return clearTimeline(state, action.timeline);\n  case ACCOUNT_BLOCK_SUCCESS:\n  case ACCOUNT_MUTE_SUCCESS:\n    return filterTimelines(state, action.relationship, action.statuses);\n  case ACCOUNT_UNFOLLOW_SUCCESS:\n    return filterTimeline('home', state, action.relationship, action.statuses);\n  case TIMELINE_SCROLL_TOP:\n    return updateTop(state, action.timeline, action.top);\n  case TIMELINE_CONNECT:\n    return state.update(action.timeline, initialTimeline, map => reconnectTimeline(map, action.usePendingItems));\n  case TIMELINE_DISCONNECT:\n    return state.update(\n      action.timeline,\n      initialTimeline,\n      map => map.set('online', false).update(action.usePendingItems ? 'pendingItems' : 'items', items => items.first() ? items.unshift(null) : items),\n    );\n  case TIMELINE_MARK_AS_PARTIAL:\n    return state.update(\n      action.timeline,\n      initialTimeline,\n      map => map.set('isPartial', true).set('items', ImmutableList()).set('pendingItems', ImmutableList()).set('unread', 0),\n    );\n  default:\n    return state;\n  }\n};\n","import { STORE_HYDRATE } from 'flavours/glitch/actions/store';\nimport { Map as ImmutableMap } from 'immutable';\n\nconst initialState = ImmutableMap({\n  streaming_api_base_url: null,\n  access_token: null,\n  permissions: '0',\n});\n\nexport default function meta(state = initialState, action) {\n  switch(action.type) {\n  case STORE_HYDRATE:\n    return state.merge(action.state.get('meta')).set('permissions', action.state.getIn(['role', 'permissions']));\n  default:\n    return state;\n  }\n};\n","import {\n  ALERT_SHOW,\n  ALERT_DISMISS,\n  ALERT_CLEAR,\n} from 'flavours/glitch/actions/alerts';\nimport { Map as ImmutableMap, List as ImmutableList } from 'immutable';\n\nconst initialState = ImmutableList([]);\n\nexport default function alerts(state = initialState, action) {\n  switch(action.type) {\n  case ALERT_SHOW:\n    return state.push(ImmutableMap({\n      key: state.size > 0 ? state.last().get('key') + 1 : 0,\n      title: action.title,\n      message: action.message,\n      message_values: action.message_values,\n    }));\n  case ALERT_DISMISS:\n    return state.filterNot(item => item.get('key') === action.alert.key);\n  case ALERT_CLEAR:\n    return state.clear();\n  default:\n    return state;\n  }\n};\n","import { MODAL_OPEN, MODAL_CLOSE } from 'flavours/glitch/actions/modal';\nimport { TIMELINE_DELETE } from 'flavours/glitch/actions/timelines';\nimport { COMPOSE_UPLOAD_CHANGE_SUCCESS } from 'flavours/glitch/actions/compose';\nimport { Stack as ImmutableStack, Map as ImmutableMap } from 'immutable';\n\nconst initialState = ImmutableMap({\n  ignoreFocus: false,\n  stack: ImmutableStack(),\n});\n\nconst popModal = (state, { modalType, ignoreFocus }) => {\n  if (modalType === undefined || modalType === state.getIn(['stack', 0, 'modalType'])) {\n    return state.set('ignoreFocus', !!ignoreFocus).update('stack', stack => stack.shift());\n  } else {\n    return state;\n  }\n};\n\nconst pushModal = (state, modalType, modalProps) => {\n  return state.withMutations(map => {\n    map.set('ignoreFocus', false);\n    map.update('stack', stack => stack.unshift(ImmutableMap({ modalType, modalProps })));\n  });\n};\n\nexport default function modal(state = initialState, action) {\n  switch(action.type) {\n  case MODAL_OPEN:\n    return pushModal(state, action.modalType, action.modalProps);\n  case MODAL_CLOSE:\n    return popModal(state, action);\n  case COMPOSE_UPLOAD_CHANGE_SUCCESS:\n    return popModal(state, { modalType: 'FOCAL_POINT', ignoreFocus: false });\n  case TIMELINE_DELETE:\n    return state.update('stack', stack => stack.filterNot((modal) => modal.get('modalProps').statusId === action.id));\n  default:\n    return state;\n  }\n};\n","import {\n  NOTIFICATIONS_UPDATE,\n} from '../actions/notifications';\nimport {\n  FOLLOWERS_FETCH_REQUEST,\n  FOLLOWERS_FETCH_SUCCESS,\n  FOLLOWERS_FETCH_FAIL,\n  FOLLOWERS_EXPAND_REQUEST,\n  FOLLOWERS_EXPAND_SUCCESS,\n  FOLLOWERS_EXPAND_FAIL,\n  FOLLOWING_FETCH_REQUEST,\n  FOLLOWING_FETCH_SUCCESS,\n  FOLLOWING_FETCH_FAIL,\n  FOLLOWING_EXPAND_REQUEST,\n  FOLLOWING_EXPAND_SUCCESS,\n  FOLLOWING_EXPAND_FAIL,\n  FOLLOW_REQUESTS_FETCH_REQUEST,\n  FOLLOW_REQUESTS_FETCH_SUCCESS,\n  FOLLOW_REQUESTS_FETCH_FAIL,\n  FOLLOW_REQUESTS_EXPAND_REQUEST,\n  FOLLOW_REQUESTS_EXPAND_SUCCESS,\n  FOLLOW_REQUESTS_EXPAND_FAIL,\n  FOLLOW_REQUEST_AUTHORIZE_SUCCESS,\n  FOLLOW_REQUEST_REJECT_SUCCESS,\n} from 'flavours/glitch/actions/accounts';\nimport {\n  REBLOGS_FETCH_SUCCESS,\n  FAVOURITES_FETCH_SUCCESS,\n} from 'flavours/glitch/actions/interactions';\nimport {\n  BLOCKS_FETCH_REQUEST,\n  BLOCKS_FETCH_SUCCESS,\n  BLOCKS_FETCH_FAIL,\n  BLOCKS_EXPAND_REQUEST,\n  BLOCKS_EXPAND_SUCCESS,\n  BLOCKS_EXPAND_FAIL,\n} from 'flavours/glitch/actions/blocks';\nimport {\n  MUTES_FETCH_REQUEST,\n  MUTES_FETCH_SUCCESS,\n  MUTES_FETCH_FAIL,\n  MUTES_EXPAND_REQUEST,\n  MUTES_EXPAND_SUCCESS,\n  MUTES_EXPAND_FAIL,\n} from 'flavours/glitch/actions/mutes';\nimport {\n  DIRECTORY_FETCH_REQUEST,\n  DIRECTORY_FETCH_SUCCESS,\n  DIRECTORY_FETCH_FAIL,\n  DIRECTORY_EXPAND_REQUEST,\n  DIRECTORY_EXPAND_SUCCESS,\n  DIRECTORY_EXPAND_FAIL,\n} from 'flavours/glitch/actions/directory';\nimport { Map as ImmutableMap, List as ImmutableList } from 'immutable';\n\nconst initialListState = ImmutableMap({\n  next: null,\n  isLoading: false,\n  items: ImmutableList(),\n});\n\nconst initialState = ImmutableMap({\n  followers: initialListState,\n  following: initialListState,\n  reblogged_by: initialListState,\n  favourited_by: initialListState,\n  follow_requests: initialListState,\n  blocks: initialListState,\n  mutes: initialListState,\n});\n\nconst normalizeList = (state, path, accounts, next) => {\n  return state.setIn(path, ImmutableMap({\n    next,\n    items: ImmutableList(accounts.map(item => item.id)),\n    isLoading: false,\n  }));\n};\n\nconst appendToList = (state, path, accounts, next) => {\n  return state.updateIn(path, map => {\n    return map.set('next', next).set('isLoading', false).update('items', list => list.concat(accounts.map(item => item.id)));\n  });\n};\n\nconst normalizeFollowRequest = (state, notification) => {\n  return state.updateIn(['follow_requests', 'items'], list => {\n    return list.filterNot(item => item === notification.account.id).unshift(notification.account.id);\n  });\n};\n\nexport default function userLists(state = initialState, action) {\n  switch(action.type) {\n  case FOLLOWERS_FETCH_SUCCESS:\n    return normalizeList(state, ['followers', action.id], action.accounts, action.next);\n  case FOLLOWERS_EXPAND_SUCCESS:\n    return appendToList(state, ['followers', action.id], action.accounts, action.next);\n  case FOLLOWERS_FETCH_REQUEST:\n  case FOLLOWERS_EXPAND_REQUEST:\n    return state.setIn(['followers', action.id, 'isLoading'], true);\n  case FOLLOWERS_FETCH_FAIL:\n  case FOLLOWERS_EXPAND_FAIL:\n    return state.setIn(['followers', action.id, 'isLoading'], false);\n  case FOLLOWING_FETCH_SUCCESS:\n    return normalizeList(state, ['following', action.id], action.accounts, action.next);\n  case FOLLOWING_EXPAND_SUCCESS:\n    return appendToList(state, ['following', action.id], action.accounts, action.next);\n  case FOLLOWING_FETCH_REQUEST:\n  case FOLLOWING_EXPAND_REQUEST:\n    return state.setIn(['following', action.id, 'isLoading'], true);\n  case FOLLOWING_FETCH_FAIL:\n  case FOLLOWING_EXPAND_FAIL:\n    return state.setIn(['following', action.id, 'isLoading'], false);\n  case REBLOGS_FETCH_SUCCESS:\n    return state.setIn(['reblogged_by', action.id], ImmutableList(action.accounts.map(item => item.id)));\n  case FAVOURITES_FETCH_SUCCESS:\n    return state.setIn(['favourited_by', action.id], ImmutableList(action.accounts.map(item => item.id)));\n  case NOTIFICATIONS_UPDATE:\n    return action.notification.type === 'follow_request' ? normalizeFollowRequest(state, action.notification) : state;\n  case FOLLOW_REQUESTS_FETCH_SUCCESS:\n    return normalizeList(state, ['follow_requests'], action.accounts, action.next);\n  case FOLLOW_REQUESTS_EXPAND_SUCCESS:\n    return appendToList(state, ['follow_requests'], action.accounts, action.next);\n  case FOLLOW_REQUESTS_FETCH_REQUEST:\n  case FOLLOW_REQUESTS_EXPAND_REQUEST:\n    return state.setIn(['follow_requests', 'isLoading'], true);\n  case FOLLOW_REQUESTS_FETCH_FAIL:\n  case FOLLOW_REQUESTS_EXPAND_FAIL:\n    return state.setIn(['follow_requests', 'isLoading'], false);\n  case FOLLOW_REQUEST_AUTHORIZE_SUCCESS:\n  case FOLLOW_REQUEST_REJECT_SUCCESS:\n    return state.updateIn(['follow_requests', 'items'], list => list.filterNot(item => item === action.id));\n  case BLOCKS_FETCH_SUCCESS:\n    return normalizeList(state, ['blocks'], action.accounts, action.next);\n  case BLOCKS_EXPAND_SUCCESS:\n    return appendToList(state, ['blocks'], action.accounts, action.next);\n  case BLOCKS_FETCH_REQUEST:\n  case BLOCKS_EXPAND_REQUEST:\n    return state.setIn(['blocks', 'isLoading'], true);\n  case BLOCKS_FETCH_FAIL:\n  case BLOCKS_EXPAND_FAIL:\n    return state.setIn(['blocks', 'isLoading'], false);\n  case MUTES_FETCH_SUCCESS:\n    return normalizeList(state, ['mutes'], action.accounts, action.next);\n  case MUTES_EXPAND_SUCCESS:\n    return appendToList(state, ['mutes'], action.accounts, action.next);\n  case MUTES_FETCH_REQUEST:\n  case MUTES_EXPAND_REQUEST:\n    return state.setIn(['mutes', 'isLoading'], true);\n  case MUTES_FETCH_FAIL:\n  case MUTES_EXPAND_FAIL:\n    return state.setIn(['mutes', 'isLoading'], false);\n  case DIRECTORY_FETCH_SUCCESS:\n    return normalizeList(state, ['directory'], action.accounts, action.next);\n  case DIRECTORY_EXPAND_SUCCESS:\n    return appendToList(state, ['directory'], action.accounts, action.next);\n  case DIRECTORY_FETCH_REQUEST:\n  case DIRECTORY_EXPAND_REQUEST:\n    return state.setIn(['directory', 'isLoading'], true);\n  case DIRECTORY_FETCH_FAIL:\n  case DIRECTORY_EXPAND_FAIL:\n    return state.setIn(['directory', 'isLoading'], false);\n  default:\n    return state;\n  }\n};\n","import {\n  DOMAIN_BLOCKS_FETCH_SUCCESS,\n  DOMAIN_BLOCKS_EXPAND_SUCCESS,\n  DOMAIN_UNBLOCK_SUCCESS,\n} from '../actions/domain_blocks';\nimport { Map as ImmutableMap, OrderedSet as ImmutableOrderedSet } from 'immutable';\n\nconst initialState = ImmutableMap({\n  blocks: ImmutableMap({\n    items: ImmutableOrderedSet(),\n  }),\n});\n\nexport default function domainLists(state = initialState, action) {\n  switch(action.type) {\n  case DOMAIN_BLOCKS_FETCH_SUCCESS:\n    return state.setIn(['blocks', 'items'], ImmutableOrderedSet(action.domains)).setIn(['blocks', 'next'], action.next);\n  case DOMAIN_BLOCKS_EXPAND_SUCCESS:\n    return state.updateIn(['blocks', 'items'], set => set.union(action.domains)).setIn(['blocks', 'next'], action.next);\n  case DOMAIN_UNBLOCK_SUCCESS:\n    return state.updateIn(['blocks', 'items'], set => set.delete(action.domain));\n  default:\n    return state;\n  }\n};\n","import { ACCOUNT_IMPORT, ACCOUNTS_IMPORT } from 'flavours/glitch/actions/importer';\nimport { ACCOUNT_REVEAL } from 'flavours/glitch/actions/accounts';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst initialState = ImmutableMap();\n\nconst normalizeAccount = (state, account) => {\n  account = { ...account };\n\n  delete account.followers_count;\n  delete account.following_count;\n  delete account.statuses_count;\n\n  account.hidden = state.getIn([account.id, 'hidden']) === false ? false : account.limited;\n\n  return state.set(account.id, fromJS(account));\n};\n\nconst normalizeAccounts = (state, accounts) => {\n  accounts.forEach(account => {\n    state = normalizeAccount(state, account);\n  });\n\n  return state;\n};\n\nexport default function accounts(state = initialState, action) {\n  switch(action.type) {\n  case ACCOUNT_IMPORT:\n    return normalizeAccount(state, action.account);\n  case ACCOUNTS_IMPORT:\n    return normalizeAccounts(state, action.accounts);\n  case ACCOUNT_REVEAL:\n    return state.setIn([action.id, 'hidden'], false);\n  default:\n    return state;\n  }\n};\n","import {\n  ACCOUNT_FOLLOW_SUCCESS,\n  ACCOUNT_UNFOLLOW_SUCCESS,\n} from '../actions/accounts';\nimport { ACCOUNT_IMPORT, ACCOUNTS_IMPORT } from '../actions/importer';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst normalizeAccount = (state, account) => state.set(account.id, fromJS({\n  followers_count: account.followers_count,\n  following_count: account.following_count,\n  statuses_count: account.statuses_count,\n}));\n\nconst normalizeAccounts = (state, accounts) => {\n  accounts.forEach(account => {\n    state = normalizeAccount(state, account);\n  });\n\n  return state;\n};\n\nconst initialState = ImmutableMap();\n\nexport default function accountsCounters(state = initialState, action) {\n  switch(action.type) {\n  case ACCOUNT_IMPORT:\n    return normalizeAccount(state, action.account);\n  case ACCOUNTS_IMPORT:\n    return normalizeAccounts(state, action.accounts);\n  case ACCOUNT_FOLLOW_SUCCESS:\n    return action.alreadyFollowing ? state :\n      state.updateIn([action.relationship.id, 'followers_count'], num => num + 1);\n  case ACCOUNT_UNFOLLOW_SUCCESS:\n    return state.updateIn([action.relationship.id, 'followers_count'], num => Math.max(0, num - 1));\n  default:\n    return state;\n  }\n};\n","import {\n  REBLOG_REQUEST,\n  REBLOG_FAIL,\n  FAVOURITE_REQUEST,\n  FAVOURITE_FAIL,\n  UNFAVOURITE_SUCCESS,\n  BOOKMARK_REQUEST,\n  BOOKMARK_FAIL,\n} from 'flavours/glitch/actions/interactions';\nimport {\n  STATUS_MUTE_SUCCESS,\n  STATUS_UNMUTE_SUCCESS,\n  STATUS_REVEAL,\n  STATUS_HIDE,\n  STATUS_COLLAPSE,\n} from 'flavours/glitch/actions/statuses';\nimport {\n  TIMELINE_DELETE,\n} from 'flavours/glitch/actions/timelines';\nimport { STATUS_IMPORT, STATUSES_IMPORT } from '../actions/importer';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst importStatus = (state, status) => state.set(status.id, fromJS(status));\n\nconst importStatuses = (state, statuses) =>\n  state.withMutations(mutable => statuses.forEach(status => importStatus(mutable, status)));\n\nconst deleteStatus = (state, id, references) => {\n  references.forEach(ref => {\n    state = deleteStatus(state, ref, []);\n  });\n\n  return state.delete(id);\n};\n\nconst initialState = ImmutableMap();\n\nexport default function statuses(state = initialState, action) {\n  switch(action.type) {\n  case STATUS_IMPORT:\n    return importStatus(state, action.status);\n  case STATUSES_IMPORT:\n    return importStatuses(state, action.statuses);\n  case FAVOURITE_REQUEST:\n    return state.setIn([action.status.get('id'), 'favourited'], true);\n  case UNFAVOURITE_SUCCESS:\n    return state.updateIn([action.status.get('id'), 'favourites_count'], x => Math.max(0, x - 1));\n  case FAVOURITE_FAIL:\n    return state.get(action.status.get('id')) === undefined ? state : state.setIn([action.status.get('id'), 'favourited'], false);\n  case BOOKMARK_REQUEST:\n    return state.setIn([action.status.get('id'), 'bookmarked'], true);\n  case BOOKMARK_FAIL:\n    return state.get(action.status.get('id')) === undefined ? state : state.setIn([action.status.get('id'), 'bookmarked'], false);\n  case REBLOG_REQUEST:\n    return state.setIn([action.status.get('id'), 'reblogged'], true);\n  case REBLOG_FAIL:\n    return state.get(action.status.get('id')) === undefined ? state : state.setIn([action.status.get('id'), 'reblogged'], false);\n  case STATUS_MUTE_SUCCESS:\n    return state.setIn([action.id, 'muted'], true);\n  case STATUS_UNMUTE_SUCCESS:\n    return state.setIn([action.id, 'muted'], false);\n  case STATUS_REVEAL:\n    return state.withMutations(map => {\n      action.ids.forEach(id => {\n        if (!(state.get(id) === undefined)) {\n          map.setIn([id, 'hidden'], false);\n        }\n      });\n    });\n  case STATUS_HIDE:\n    return state.withMutations(map => {\n      action.ids.forEach(id => {\n        if (!(state.get(id) === undefined)) {\n          map.setIn([id, 'hidden'], true);\n        }\n      });\n    });\n  case STATUS_COLLAPSE:\n    return state.setIn([action.id, 'collapsed'], action.isCollapsed);\n  case TIMELINE_DELETE:\n    return deleteStatus(state, action.id, action.references);\n  default:\n    return state;\n  }\n};\n","import {\n  ACCOUNT_FOLLOW_SUCCESS,\n  ACCOUNT_FOLLOW_REQUEST,\n  ACCOUNT_FOLLOW_FAIL,\n  ACCOUNT_UNFOLLOW_SUCCESS,\n  ACCOUNT_UNFOLLOW_REQUEST,\n  ACCOUNT_UNFOLLOW_FAIL,\n  ACCOUNT_BLOCK_SUCCESS,\n  ACCOUNT_UNBLOCK_SUCCESS,\n  ACCOUNT_MUTE_SUCCESS,\n  ACCOUNT_UNMUTE_SUCCESS,\n  ACCOUNT_PIN_SUCCESS,\n  ACCOUNT_UNPIN_SUCCESS,\n  RELATIONSHIPS_FETCH_SUCCESS,\n} from 'flavours/glitch/actions/accounts';\nimport {\n  DOMAIN_BLOCK_SUCCESS,\n  DOMAIN_UNBLOCK_SUCCESS,\n} from 'flavours/glitch/actions/domain_blocks';\nimport {\n  ACCOUNT_NOTE_SUBMIT_SUCCESS,\n} from 'flavours/glitch/actions/account_notes';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst normalizeRelationship = (state, relationship) => state.set(relationship.id, fromJS(relationship));\n\nconst normalizeRelationships = (state, relationships) => {\n  relationships.forEach(relationship => {\n    state = normalizeRelationship(state, relationship);\n  });\n\n  return state;\n};\n\nconst setDomainBlocking = (state, accounts, blocking) => {\n  return state.withMutations(map => {\n    accounts.forEach(id => {\n      map.setIn([id, 'domain_blocking'], blocking);\n    });\n  });\n};\n\nconst initialState = ImmutableMap();\n\nexport default function relationships(state = initialState, action) {\n  switch(action.type) {\n  case ACCOUNT_FOLLOW_REQUEST:\n    return state.getIn([action.id, 'following']) ? state : state.setIn([action.id, action.locked ? 'requested' : 'following'], true);\n  case ACCOUNT_FOLLOW_FAIL:\n    return state.setIn([action.id, action.locked ? 'requested' : 'following'], false);\n  case ACCOUNT_UNFOLLOW_REQUEST:\n    return state.setIn([action.id, 'following'], false);\n  case ACCOUNT_UNFOLLOW_FAIL:\n    return state.setIn([action.id, 'following'], true);\n  case ACCOUNT_FOLLOW_SUCCESS:\n  case ACCOUNT_UNFOLLOW_SUCCESS:\n  case ACCOUNT_BLOCK_SUCCESS:\n  case ACCOUNT_UNBLOCK_SUCCESS:\n  case ACCOUNT_MUTE_SUCCESS:\n  case ACCOUNT_UNMUTE_SUCCESS:\n  case ACCOUNT_PIN_SUCCESS:\n  case ACCOUNT_UNPIN_SUCCESS:\n  case ACCOUNT_NOTE_SUBMIT_SUCCESS:\n    return normalizeRelationship(state, action.relationship);\n  case RELATIONSHIPS_FETCH_SUCCESS:\n    return normalizeRelationships(state, action.relationships);\n  case DOMAIN_BLOCK_SUCCESS:\n    return setDomainBlocking(state, action.accounts, true);\n  case DOMAIN_UNBLOCK_SUCCESS:\n    return setDomainBlocking(state, action.accounts, false);\n  default:\n    return state;\n  }\n};\n","export default function uuid(a) {\n  return a ? (a^Math.random() * 16 >> a / 4).toString(16) : ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, uuid);\n};\n","import { SETTING_CHANGE, SETTING_SAVE } from 'flavours/glitch/actions/settings';\nimport { NOTIFICATIONS_FILTER_SET } from 'flavours/glitch/actions/notifications';\nimport { COLUMN_ADD, COLUMN_REMOVE, COLUMN_MOVE, COLUMN_PARAMS_CHANGE } from 'flavours/glitch/actions/columns';\nimport { STORE_HYDRATE } from 'flavours/glitch/actions/store';\nimport { EMOJI_USE } from 'flavours/glitch/actions/emojis';\nimport { LANGUAGE_USE } from 'flavours/glitch/actions/languages';\nimport { LIST_DELETE_SUCCESS, LIST_FETCH_FAIL } from '../actions/lists';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\nimport uuid from 'flavours/glitch/util/uuid';\n\nconst initialState = ImmutableMap({\n  saved: true,\n\n  onboarded: false,\n  layout: 'auto',\n\n  skinTone: 1,\n\n  trends: ImmutableMap({\n    show: true,\n  }),\n\n  home: ImmutableMap({\n    shows: ImmutableMap({\n      reblog: true,\n      reply: true,\n      direct: true,\n    }),\n\n    regex: ImmutableMap({\n      body: '',\n    }),\n  }),\n\n  notifications: ImmutableMap({\n    alerts: ImmutableMap({\n      follow: false,\n      follow_request: false,\n      favourite: false,\n      reblog: false,\n      mention: false,\n      poll: false,\n      status: false,\n      update: false,\n      'admin.sign_up': false,\n      'admin.report': false,\n    }),\n\n    quickFilter: ImmutableMap({\n      active: 'all',\n      show: true,\n      advanced: false,\n    }),\n\n    dismissPermissionBanner: false,\n    showUnread: true,\n\n    shows: ImmutableMap({\n      follow: true,\n      follow_request: false,\n      favourite: true,\n      reblog: true,\n      mention: true,\n      poll: true,\n      status: true,\n      update: true,\n      'admin.sign_up': true,\n      'admin.report': true,\n    }),\n\n    sounds: ImmutableMap({\n      follow: true,\n      follow_request: false,\n      favourite: true,\n      reblog: true,\n      mention: true,\n      poll: true,\n      status: true,\n      update: true,\n      'admin.sign_up': true,\n      'admin.report': true,\n    }),\n  }),\n\n  community: ImmutableMap({\n    regex: ImmutableMap({\n      body: '',\n    }),\n  }),\n\n  public: ImmutableMap({\n    regex: ImmutableMap({\n      body: '',\n    }),\n  }),\n\n  direct: ImmutableMap({\n    conversations: true,\n    regex: ImmutableMap({\n      body: '',\n    }),\n  }),\n});\n\nconst defaultColumns = fromJS([\n  { id: 'COMPOSE', uuid: uuid(), params: {} },\n  { id: 'HOME', uuid: uuid(), params: {} },\n  { id: 'NOTIFICATIONS', uuid: uuid(), params: {} },\n]);\n\nconst hydrate = (state, settings) => state.mergeDeep(settings).update('columns', (val = defaultColumns) => val);\n\nconst moveColumn = (state, uuid, direction) => {\n  const columns  = state.get('columns');\n  const index    = columns.findIndex(item => item.get('uuid') === uuid);\n  const newIndex = index + direction;\n\n  let newColumns;\n\n  newColumns = columns.splice(index, 1);\n  newColumns = newColumns.splice(newIndex, 0, columns.get(index));\n\n  return state\n    .set('columns', newColumns)\n    .set('saved', false);\n};\n\nconst changeColumnParams = (state, uuid, path, value) => {\n  const columns = state.get('columns');\n  const index   = columns.findIndex(item => item.get('uuid') === uuid);\n\n  const newColumns = columns.update(index, column => column.updateIn(['params', ...path], () => value));\n\n  return state\n    .set('columns', newColumns)\n    .set('saved', false);\n};\n\nconst updateFrequentEmojis = (state, emoji) => state.update('frequentlyUsedEmojis', ImmutableMap(), map => map.update(emoji.id, 0, count => count + 1)).set('saved', false);\n\nconst updateFrequentLanguages = (state, language) => state.update('frequentlyUsedLanguages', ImmutableMap(), map => map.update(language, 0, count => count + 1)).set('saved', false);\n\nconst filterDeadListColumns = (state, listId) => state.update('columns', columns => columns.filterNot(column => column.get('id') === 'LIST' && column.get('params').get('id') === listId));\n\nexport default function settings(state = initialState, action) {\n  switch(action.type) {\n  case STORE_HYDRATE:\n    return hydrate(state, action.state.get('settings'));\n  case NOTIFICATIONS_FILTER_SET:\n  case SETTING_CHANGE:\n    return state\n      .setIn(action.path, action.value)\n      .set('saved', false);\n  case COLUMN_ADD:\n    return state\n      .update('columns', list => list.push(fromJS({ id: action.id, uuid: uuid(), params: action.params })))\n      .set('saved', false);\n  case COLUMN_REMOVE:\n    return state\n      .update('columns', list => list.filterNot(item => item.get('uuid') === action.uuid))\n      .set('saved', false);\n  case COLUMN_MOVE:\n    return moveColumn(state, action.uuid, action.direction);\n  case COLUMN_PARAMS_CHANGE:\n    return changeColumnParams(state, action.uuid, action.path, action.value);\n  case EMOJI_USE:\n    return updateFrequentEmojis(state, action.emoji);\n  case LANGUAGE_USE:\n    return updateFrequentLanguages(state, action.language);\n  case SETTING_SAVE:\n    return state.set('saved', true);\n  case LIST_FETCH_FAIL:\n    return action.error.response.status === 404 ? filterDeadListColumns(state, action.id) : state;\n  case LIST_DELETE_SUCCESS:\n    return filterDeadListColumns(state, action.id);\n  default:\n    return state;\n  }\n};\n","//  Package imports.\nimport { Map as ImmutableMap } from 'immutable';\n\n//  Our imports.\nimport { STORE_HYDRATE } from 'flavours/glitch/actions/store';\nimport { LOCAL_SETTING_CHANGE, LOCAL_SETTING_DELETE } from 'flavours/glitch/actions/local_settings';\n\nconst initialState = ImmutableMap({\n  layout    : 'auto',\n  stretch   : true,\n  navbar_under : false,\n  side_arm  : 'none',\n  side_arm_reply_mode : 'keep',\n  show_reply_count : false,\n  always_show_spoilers_field: false,\n  confirm_missing_media_description: false,\n  confirm_boost_missing_media_description: false,\n  confirm_before_clearing_draft: true,\n  prepend_cw_re: true,\n  preselect_on_reply: true,\n  inline_preview_cards: true,\n  hicolor_privacy_icons: false,\n  show_content_type_choice: false,\n  filtering_behavior: 'hide',\n  tag_misleading_links: true,\n  rewrite_mentions: 'no',\n  content_warnings : ImmutableMap({\n    filter       : null,\n    media_outside: false,\n    shared_state : false,\n  }),\n  collapsed : ImmutableMap({\n    enabled     : true,\n    auto        : ImmutableMap({\n      all              : false,\n      notifications    : true,\n      lengthy          : true,\n      reblogs          : false,\n      replies          : false,\n      media            : false,\n    }),\n    backgrounds : ImmutableMap({\n      user_backgrounds : false,\n      preview_images   : false,\n    }),\n    show_action_bar : true,\n  }),\n  media     : ImmutableMap({\n    letterbox        : true,\n    fullwidth        : true,\n    reveal_behind_cw : false,\n    pop_in_player    : true,\n    pop_in_position  : 'right',\n  }),\n  notifications : ImmutableMap({\n    favicon_badge : false,\n    tab_badge     : true,\n  }),\n  status_icons : ImmutableMap({\n    language:   true,\n    reply:      true,\n    local_only: true,\n    media:      true,\n    visibility: true,\n  }),\n});\n\nconst hydrate = (state, localSettings) => state.mergeDeep(localSettings);\n\nexport default function localSettings(state = initialState, action) {\n  switch(action.type) {\n  case STORE_HYDRATE:\n    return hydrate(state, action.state.get('local_settings'));\n  case LOCAL_SETTING_CHANGE:\n    return state.setIn(action.key, action.value);\n  case LOCAL_SETTING_DELETE:\n    return state.deleteIn(action.key);\n  default:\n    return state;\n  }\n};\n","import { STORE_HYDRATE } from 'flavours/glitch/actions/store';\nimport { SET_BROWSER_SUPPORT, SET_SUBSCRIPTION, CLEAR_SUBSCRIPTION, SET_ALERTS } from 'flavours/glitch/actions/push_notifications';\nimport Immutable from 'immutable';\n\nconst initialState = Immutable.Map({\n  subscription: null,\n  alerts: new Immutable.Map({\n    follow: false,\n    follow_request: false,\n    favourite: false,\n    reblog: false,\n    mention: false,\n    poll: false,\n  }),\n  isSubscribed: false,\n  browserSupport: false,\n});\n\nexport default function push_subscriptions(state = initialState, action) {\n  switch(action.type) {\n  case STORE_HYDRATE: {\n    const push_subscription = action.state.get('push_subscription');\n\n    if (push_subscription) {\n      return state\n        .set('subscription', new Immutable.Map({\n          id: push_subscription.get('id'),\n          endpoint: push_subscription.get('endpoint'),\n        }))\n        .set('alerts', push_subscription.get('alerts') || initialState.get('alerts'))\n        .set('isSubscribed', true);\n    }\n\n    return state;\n  }\n  case SET_SUBSCRIPTION:\n    return state\n      .set('subscription', new Immutable.Map({\n        id: action.subscription.id,\n        endpoint: action.subscription.endpoint,\n      }))\n      .set('alerts', new Immutable.Map(action.subscription.alerts))\n      .set('isSubscribed', true);\n  case SET_BROWSER_SUPPORT:\n    return state.set('browserSupport', action.value);\n  case CLEAR_SUBSCRIPTION:\n    return initialState;\n  case SET_ALERTS:\n    return state.setIn(action.path, action.value);\n  default:\n    return state;\n  }\n};\n","import {\n  FAVOURITED_STATUSES_FETCH_REQUEST,\n  FAVOURITED_STATUSES_FETCH_SUCCESS,\n  FAVOURITED_STATUSES_FETCH_FAIL,\n  FAVOURITED_STATUSES_EXPAND_REQUEST,\n  FAVOURITED_STATUSES_EXPAND_SUCCESS,\n  FAVOURITED_STATUSES_EXPAND_FAIL,\n} from 'flavours/glitch/actions/favourites';\nimport {\n  BOOKMARKED_STATUSES_FETCH_REQUEST,\n  BOOKMARKED_STATUSES_FETCH_SUCCESS,\n  BOOKMARKED_STATUSES_FETCH_FAIL,\n  BOOKMARKED_STATUSES_EXPAND_REQUEST,\n  BOOKMARKED_STATUSES_EXPAND_SUCCESS,\n  BOOKMARKED_STATUSES_EXPAND_FAIL,\n} from 'flavours/glitch/actions/bookmarks';\nimport {\n  PINNED_STATUSES_FETCH_SUCCESS,\n} from 'flavours/glitch/actions/pin_statuses';\nimport { Map as ImmutableMap, List as ImmutableList } from 'immutable';\nimport {\n  FAVOURITE_SUCCESS,\n  UNFAVOURITE_SUCCESS,\n  BOOKMARK_SUCCESS,\n  UNBOOKMARK_SUCCESS,\n  PIN_SUCCESS,\n  UNPIN_SUCCESS,\n} from 'flavours/glitch/actions/interactions';\n\nconst initialState = ImmutableMap({\n  favourites: ImmutableMap({\n    next: null,\n    loaded: false,\n    items: ImmutableList(),\n  }),\n  bookmarks: ImmutableMap({\n    next: null,\n    loaded: false,\n    items: ImmutableList(),\n  }),\n  pins: ImmutableMap({\n    next: null,\n    loaded: false,\n    items: ImmutableList(),\n  }),\n});\n\nconst normalizeList = (state, listType, statuses, next) => {\n  return state.update(listType, listMap => listMap.withMutations(map => {\n    map.set('next', next);\n    map.set('loaded', true);\n    map.set('isLoading', false);\n    map.set('items', ImmutableList(statuses.map(item => item.id)));\n  }));\n};\n\nconst appendToList = (state, listType, statuses, next) => {\n  return state.update(listType, listMap => listMap.withMutations(map => {\n    map.set('next', next);\n    map.set('isLoading', false);\n    map.set('items', map.get('items').concat(statuses.map(item => item.id)));\n  }));\n};\n\nconst prependOneToList = (state, listType, status) => {\n  return state.update(listType, listMap => listMap.withMutations(map => {\n    map.set('items', map.get('items').unshift(status.get('id')));\n  }));\n};\n\nconst removeOneFromList = (state, listType, status) => {\n  return state.update(listType, listMap => listMap.withMutations(map => {\n    map.set('items', map.get('items').filter(item => item !== status.get('id')));\n  }));\n};\n\nexport default function statusLists(state = initialState, action) {\n  switch(action.type) {\n  case FAVOURITED_STATUSES_FETCH_REQUEST:\n  case FAVOURITED_STATUSES_EXPAND_REQUEST:\n    return state.setIn(['favourites', 'isLoading'], true);\n  case FAVOURITED_STATUSES_FETCH_FAIL:\n  case FAVOURITED_STATUSES_EXPAND_FAIL:\n    return state.setIn(['favourites', 'isLoading'], false);\n  case FAVOURITED_STATUSES_FETCH_SUCCESS:\n    return normalizeList(state, 'favourites', action.statuses, action.next);\n  case FAVOURITED_STATUSES_EXPAND_SUCCESS:\n    return appendToList(state, 'favourites', action.statuses, action.next);\n  case BOOKMARKED_STATUSES_FETCH_REQUEST:\n  case BOOKMARKED_STATUSES_EXPAND_REQUEST:\n    return state.setIn(['bookmarks', 'isLoading'], true);\n  case BOOKMARKED_STATUSES_FETCH_FAIL:\n  case BOOKMARKED_STATUSES_EXPAND_FAIL:\n    return state.setIn(['bookmarks', 'isLoading'], false);\n  case BOOKMARKED_STATUSES_FETCH_SUCCESS:\n    return normalizeList(state, 'bookmarks', action.statuses, action.next);\n  case BOOKMARKED_STATUSES_EXPAND_SUCCESS:\n    return appendToList(state, 'bookmarks', action.statuses, action.next);\n  case FAVOURITE_SUCCESS:\n    return prependOneToList(state, 'favourites', action.status);\n  case UNFAVOURITE_SUCCESS:\n    return removeOneFromList(state, 'favourites', action.status);\n  case BOOKMARK_SUCCESS:\n    return prependOneToList(state, 'bookmarks', action.status);\n  case UNBOOKMARK_SUCCESS:\n    return removeOneFromList(state, 'bookmarks', action.status);\n  case PINNED_STATUSES_FETCH_SUCCESS:\n    return normalizeList(state, 'pins', action.statuses, action.next);\n  case PIN_SUCCESS:\n    return prependOneToList(state, 'pins', action.status);\n  case UNPIN_SUCCESS:\n    return removeOneFromList(state, 'pins', action.status);\n  default:\n    return state;\n  }\n};\n","import Immutable from 'immutable';\n\nimport {\n  MUTES_INIT_MODAL,\n  MUTES_TOGGLE_HIDE_NOTIFICATIONS,\n  MUTES_CHANGE_DURATION,\n} from 'flavours/glitch/actions/mutes';\n\nconst initialState = Immutable.Map({\n  new: Immutable.Map({\n    account: null,\n    notifications: true,\n    duration: 0,\n  }),\n});\n\nexport default function mutes(state = initialState, action) {\n  switch (action.type) {\n  case MUTES_INIT_MODAL:\n    return state.withMutations((state) => {\n      state.setIn(['new', 'account'], action.account);\n      state.setIn(['new', 'notifications'], true);\n    });\n  case MUTES_TOGGLE_HIDE_NOTIFICATIONS:\n    return state.updateIn(['new', 'notifications'], (old) => !old);\n  case MUTES_CHANGE_DURATION:\n    return state.setIn(['new', 'duration'], Number(action.duration));\n  default:\n    return state;\n  }\n}\n","import Immutable from 'immutable';\n\nimport {\n  BLOCKS_INIT_MODAL,\n} from '../actions/blocks';\n\nconst initialState = Immutable.Map({\n  new: Immutable.Map({\n    account_id: null,\n  }),\n});\n\nexport default function mutes(state = initialState, action) {\n  switch (action.type) {\n  case BLOCKS_INIT_MODAL:\n    return state.withMutations((state) => {\n      state.setIn(['new', 'account_id'], action.account.get('id'));\n    });\n  default:\n    return state;\n  }\n}\n","import { RULES_FETCH_SUCCESS } from 'flavours/glitch/actions/rules';\nimport { List as ImmutableList, fromJS } from 'immutable';\n\nconst initialState = ImmutableList();\n\nexport default function rules(state = initialState, action) {\n  switch (action.type) {\n  case RULES_FETCH_SUCCESS:\n    return fromJS(action.rules);\n  default:\n    return state;\n  }\n}\n","import Immutable from 'immutable';\n\nimport {\n  BOOSTS_INIT_MODAL,\n  BOOSTS_CHANGE_PRIVACY,\n} from 'flavours/glitch/actions/boosts';\n\nconst initialState = Immutable.Map({\n  new: Immutable.Map({\n    privacy: 'public',\n  }),\n});\n\nexport default function mutes(state = initialState, action) {\n  switch (action.type) {\n  case BOOSTS_INIT_MODAL:\n    return state.withMutations((state) => {\n      state.setIn(['new', 'privacy'], action.privacy);\n    });\n  case BOOSTS_CHANGE_PRIVACY:\n    return state.setIn(['new', 'privacy'], action.privacy);\n  default:\n    return state;\n  }\n}\n","import {\n  ACCOUNT_BLOCK_SUCCESS,\n  ACCOUNT_MUTE_SUCCESS,\n} from 'flavours/glitch/actions/accounts';\nimport { CONTEXT_FETCH_SUCCESS } from 'flavours/glitch/actions/statuses';\nimport { TIMELINE_DELETE, TIMELINE_UPDATE } from 'flavours/glitch/actions/timelines';\nimport { Map as ImmutableMap, List as ImmutableList } from 'immutable';\nimport compareId from 'flavours/glitch/util/compare_id';\n\nconst initialState = ImmutableMap({\n  inReplyTos: ImmutableMap(),\n  replies: ImmutableMap(),\n});\n\nconst normalizeContext = (immutableState, id, ancestors, descendants) => immutableState.withMutations(state => {\n  state.update('inReplyTos', immutableAncestors => immutableAncestors.withMutations(inReplyTos => {\n    state.update('replies', immutableDescendants => immutableDescendants.withMutations(replies => {\n      function addReply({ id, in_reply_to_id }) {\n        if (in_reply_to_id && !inReplyTos.has(id)) {\n\n          replies.update(in_reply_to_id, ImmutableList(), siblings => {\n            const index = siblings.findLastIndex(sibling => compareId(sibling, id) < 0);\n            return siblings.insert(index + 1, id);\n          });\n\n          inReplyTos.set(id, in_reply_to_id);\n        }\n      }\n\n      // We know in_reply_to_id of statuses but `id` itself.\n      // So we assume that the status of the id replies to last ancestors.\n\n      ancestors.forEach(addReply);\n\n      if (ancestors[0]) {\n        addReply({ id, in_reply_to_id: ancestors[ancestors.length - 1].id });\n      }\n\n      descendants.forEach(addReply);\n    }));\n  }));\n});\n\nconst deleteFromContexts = (immutableState, ids) => immutableState.withMutations(state => {\n  state.update('inReplyTos', immutableAncestors => immutableAncestors.withMutations(inReplyTos => {\n    state.update('replies', immutableDescendants => immutableDescendants.withMutations(replies => {\n      ids.forEach(id => {\n        const inReplyToIdOfId = inReplyTos.get(id);\n        const repliesOfId = replies.get(id);\n        const siblings = replies.get(inReplyToIdOfId);\n\n        if (siblings) {\n          replies.set(inReplyToIdOfId, siblings.filterNot(sibling => sibling === id));\n        }\n\n\n        if (repliesOfId) {\n          repliesOfId.forEach(reply => inReplyTos.delete(reply));\n        }\n\n        inReplyTos.delete(id);\n        replies.delete(id);\n      });\n    }));\n  }));\n});\n\nconst filterContexts = (state, relationship, statuses) => {\n  const ownedStatusIds = statuses.filter(status => status.get('account') === relationship.id)\n                                 .map(status => status.get('id'));\n\n  return deleteFromContexts(state, ownedStatusIds);\n};\n\nconst updateContext = (state, status) => {\n  if (status.in_reply_to_id) {\n    return state.withMutations(mutable => {\n      const replies = mutable.getIn(['replies', status.in_reply_to_id], ImmutableList());\n\n      mutable.setIn(['inReplyTos', status.id], status.in_reply_to_id);\n\n      if (!replies.includes(status.id)) {\n        mutable.setIn(['replies', status.in_reply_to_id], replies.push(status.id));\n      }\n    });\n  }\n\n  return state;\n};\n\nexport default function replies(state = initialState, action) {\n  switch(action.type) {\n  case ACCOUNT_BLOCK_SUCCESS:\n  case ACCOUNT_MUTE_SUCCESS:\n    return filterContexts(state, action.relationship, action.statuses);\n  case CONTEXT_FETCH_SUCCESS:\n    return normalizeContext(state, action.id, action.ancestors, action.descendants);\n  case TIMELINE_DELETE:\n    return deleteFromContexts(state, [action.id]);\n  case TIMELINE_UPDATE:\n    return updateContext(state, action.status);\n  default:\n    return state;\n  }\n};\n","//  This function returns the new value unless it is `null` or\n//  `undefined`, in which case it returns the old one.\nexport function overwrite (oldVal, newVal) {\n  return newVal === null || typeof newVal === 'undefined' ? oldVal : newVal;\n}\n","import {\n  COMPOSE_MOUNT,\n  COMPOSE_UNMOUNT,\n  COMPOSE_CHANGE,\n  COMPOSE_CYCLE_ELEFRIEND,\n  COMPOSE_REPLY,\n  COMPOSE_REPLY_CANCEL,\n  COMPOSE_DIRECT,\n  COMPOSE_MENTION,\n  COMPOSE_SUBMIT_REQUEST,\n  COMPOSE_SUBMIT_SUCCESS,\n  COMPOSE_SUBMIT_FAIL,\n  COMPOSE_UPLOAD_REQUEST,\n  COMPOSE_UPLOAD_SUCCESS,\n  COMPOSE_UPLOAD_FAIL,\n  COMPOSE_UPLOAD_UNDO,\n  COMPOSE_UPLOAD_PROGRESS,\n  THUMBNAIL_UPLOAD_REQUEST,\n  THUMBNAIL_UPLOAD_SUCCESS,\n  THUMBNAIL_UPLOAD_FAIL,\n  THUMBNAIL_UPLOAD_PROGRESS,\n  COMPOSE_SUGGESTIONS_CLEAR,\n  COMPOSE_SUGGESTIONS_READY,\n  COMPOSE_SUGGESTION_SELECT,\n  COMPOSE_SUGGESTION_IGNORE,\n  COMPOSE_SUGGESTION_TAGS_UPDATE,\n  COMPOSE_TAG_HISTORY_UPDATE,\n  COMPOSE_ADVANCED_OPTIONS_CHANGE,\n  COMPOSE_SENSITIVITY_CHANGE,\n  COMPOSE_SPOILERNESS_CHANGE,\n  COMPOSE_SPOILER_TEXT_CHANGE,\n  COMPOSE_VISIBILITY_CHANGE,\n  COMPOSE_LANGUAGE_CHANGE,\n  COMPOSE_CONTENT_TYPE_CHANGE,\n  COMPOSE_EMOJI_INSERT,\n  COMPOSE_UPLOAD_CHANGE_REQUEST,\n  COMPOSE_UPLOAD_CHANGE_SUCCESS,\n  COMPOSE_UPLOAD_CHANGE_FAIL,\n  COMPOSE_DOODLE_SET,\n  COMPOSE_RESET,\n  COMPOSE_POLL_ADD,\n  COMPOSE_POLL_REMOVE,\n  COMPOSE_POLL_OPTION_ADD,\n  COMPOSE_POLL_OPTION_CHANGE,\n  COMPOSE_POLL_OPTION_REMOVE,\n  COMPOSE_POLL_SETTINGS_CHANGE,\n  INIT_MEDIA_EDIT_MODAL,\n  COMPOSE_CHANGE_MEDIA_DESCRIPTION,\n  COMPOSE_CHANGE_MEDIA_FOCUS,\n  COMPOSE_SET_STATUS,\n} from 'flavours/glitch/actions/compose';\nimport { TIMELINE_DELETE } from 'flavours/glitch/actions/timelines';\nimport { STORE_HYDRATE } from 'flavours/glitch/actions/store';\nimport { REDRAFT } from 'flavours/glitch/actions/statuses';\nimport { Map as ImmutableMap, List as ImmutableList, OrderedSet as ImmutableOrderedSet, fromJS } from 'immutable';\nimport uuid from 'flavours/glitch/util/uuid';\nimport { privacyPreference } from 'flavours/glitch/util/privacy_preference';\nimport { me, defaultContentType } from 'flavours/glitch/util/initial_state';\nimport { overwrite } from 'flavours/glitch/util/js_helpers';\nimport { unescapeHTML } from 'flavours/glitch/util/html';\nimport { recoverHashtags } from 'flavours/glitch/util/hashtag';\n\nconst totalElefriends = 3;\n\n// ~4% chance you'll end up with an unexpected friend\n// glitch-soc/mastodon repo created_at date: 2017-04-20T21:55:28Z\nconst glitchProbability = 1 - 0.0420215528;\n\nconst initialState = ImmutableMap({\n  mounted: 0,\n  advanced_options: ImmutableMap({\n    do_not_federate: false,\n    threaded_mode: false,\n  }),\n  sensitive: false,\n  elefriend: Math.random() < glitchProbability ? Math.floor(Math.random() * totalElefriends) : totalElefriends,\n  spoiler: false,\n  spoiler_text: '',\n  privacy: null,\n  id: null,\n  content_type: defaultContentType || 'text/plain',\n  text: '',\n  focusDate: null,\n  caretPosition: null,\n  preselectDate: null,\n  in_reply_to: null,\n  is_submitting: false,\n  is_uploading: false,\n  is_changing_upload: false,\n  progress: 0,\n  isUploadingThumbnail: false,\n  thumbnailProgress: 0,\n  media_attachments: ImmutableList(),\n  pending_media_attachments: 0,\n  poll: null,\n  suggestion_token: null,\n  suggestions: ImmutableList(),\n  default_advanced_options: ImmutableMap({\n    do_not_federate: false,\n    threaded_mode: null,  //  Do not reset\n  }),\n  default_privacy: 'public',\n  default_sensitive: false,\n  default_language: 'en',\n  resetFileKey: Math.floor((Math.random() * 0x10000)),\n  idempotencyKey: null,\n  tagHistory: ImmutableList(),\n  media_modal: ImmutableMap({\n    id: null,\n    description: '',\n    focusX: 0,\n    focusY: 0,\n    dirty: false,\n  }),\n  doodle: ImmutableMap({\n    fg: 'rgb(  0,    0,    0)',\n    bg: 'rgb(255,  255,  255)',\n    swapped: false,\n    mode: 'draw',\n    size: 'normal',\n    weight: 2,\n    opacity: 1,\n    adaptiveStroke: true,\n    smoothing: false,\n  }),\n});\n\nconst initialPoll = ImmutableMap({\n  options: ImmutableList(['', '']),\n  expires_in: 24 * 3600,\n  multiple: false,\n});\n\nfunction statusToTextMentions(state, status) {\n  let set = ImmutableOrderedSet([]);\n\n  if (status.getIn(['account', 'id']) !== me) {\n    set = set.add(`@${status.getIn(['account', 'acct'])} `);\n  }\n\n  return set.union(status.get('mentions').filterNot(mention => mention.get('id') === me).map(mention => `@${mention.get('acct')} `)).join('');\n};\n\nfunction apiStatusToTextMentions (state, status) {\n  let set = ImmutableOrderedSet([]);\n\n  if (status.account.id !== me) {\n    set = set.add(`@${status.account.acct} `);\n  }\n\n  return set.union(status.mentions.filter(\n    mention => mention.id !== me\n  ).map(\n    mention => `@${mention.acct} `\n  )).join('');\n}\n\nfunction apiStatusToTextHashtags (state, status) {\n  const text = unescapeHTML(status.content);\n  return ImmutableOrderedSet([]).union(recoverHashtags(status.tags, text).map(\n    (name) => `#${name} `\n  )).join('');\n}\n\nfunction clearAll(state) {\n  return state.withMutations(map => {\n    map.set('id', null);\n    map.set('text', '');\n    if (defaultContentType) map.set('content_type', defaultContentType);\n    map.set('spoiler', false);\n    map.set('spoiler_text', '');\n    map.set('is_submitting', false);\n    map.set('is_changing_upload', false);\n    map.set('in_reply_to', null);\n    map.update(\n      'advanced_options',\n      map => map.mergeWith(overwrite, state.get('default_advanced_options'))\n    );\n    map.set('privacy', state.get('default_privacy'));\n    map.set('sensitive', state.get('default_sensitive'));\n    map.set('language', state.get('default_language'));\n    map.update('media_attachments', list => list.clear());\n    map.set('poll', null);\n    map.set('idempotencyKey', uuid());\n  });\n};\n\nfunction continueThread (state, status) {\n  return state.withMutations(function (map) {\n    let text = apiStatusToTextMentions(state, status);\n    text = text + apiStatusToTextHashtags(state, status);\n    map.set('text', text);\n    if (status.spoiler_text) {\n      map.set('spoiler', true);\n      map.set('spoiler_text', status.spoiler_text);\n    } else {\n      map.set('spoiler', false);\n      map.set('spoiler_text', '');\n    }\n    map.set('is_submitting', false);\n    map.set('in_reply_to', status.id);\n    map.update(\n      'advanced_options',\n      map => map.merge(new ImmutableMap({ do_not_federate: status.local_only }))\n    );\n    map.set('privacy', status.visibility);\n    map.set('sensitive', false);\n    map.update('media_attachments', list => list.clear());\n    map.set('poll', null);\n    map.set('idempotencyKey', uuid());\n    map.set('focusDate', new Date());\n    map.set('caretPosition', null);\n    map.set('preselectDate', new Date());\n  });\n}\n\nfunction appendMedia(state, media, file) {\n  const prevSize = state.get('media_attachments').size;\n\n  return state.withMutations(map => {\n    if (media.get('type') === 'image') {\n      media = media.set('file', file);\n    }\n    map.update('media_attachments', list => list.push(media));\n    map.set('is_uploading', false);\n    map.set('resetFileKey', Math.floor((Math.random() * 0x10000)));\n    map.set('idempotencyKey', uuid());\n    map.update('pending_media_attachments', n => n - 1);\n\n    if (prevSize === 0 && (state.get('default_sensitive') || state.get('spoiler'))) {\n      map.set('sensitive', true);\n    }\n  });\n};\n\nfunction removeMedia(state, mediaId) {\n  const prevSize = state.get('media_attachments').size;\n\n  return state.withMutations(map => {\n    map.update('media_attachments', list => list.filterNot(item => item.get('id') === mediaId));\n    map.set('idempotencyKey', uuid());\n\n    if (prevSize === 1) {\n      map.set('sensitive', false);\n    }\n  });\n};\n\nconst insertSuggestion = (state, position, token, completion, path) => {\n  return state.withMutations(map => {\n    map.updateIn(path, oldText => `${oldText.slice(0, position)}${completion}${completion[0] === ':' ? '\\u200B' : ' '}${oldText.slice(position + token.length)}`);\n    map.set('suggestion_token', null);\n    map.set('suggestions', ImmutableList());\n    if (path.length === 1 && path[0] === 'text') {\n      map.set('focusDate', new Date());\n      map.set('caretPosition', position + completion.length + 1);\n    }\n    map.set('idempotencyKey', uuid());\n  });\n};\n\nconst ignoreSuggestion = (state, position, token, completion, path) => {\n  return state.withMutations(map => {\n    map.updateIn(path, oldText => `${oldText.slice(0, position + token.length)} ${oldText.slice(position + token.length)}`);\n    map.set('suggestion_token', null);\n    map.set('suggestions', ImmutableList());\n    map.set('focusDate', new Date());\n    map.set('caretPosition', position + token.length + 1);\n    map.set('idempotencyKey', uuid());\n  });\n};\n\nconst sortHashtagsByUse = (state, tags) => {\n  const personalHistory = state.get('tagHistory');\n\n  return tags.sort((a, b) => {\n    const usedA = personalHistory.includes(a.name);\n    const usedB = personalHistory.includes(b.name);\n\n    if (usedA === usedB) {\n      return 0;\n    } else if (usedA && !usedB) {\n      return 1;\n    } else {\n      return -1;\n    }\n  });\n};\n\nconst insertEmoji = (state, position, emojiData) => {\n  const emoji = emojiData.native;\n\n  return state.withMutations(map => {\n    map.update('text', oldText => `${oldText.slice(0, position)}${emoji}\\u200B${oldText.slice(position)}`);\n    map.set('focusDate', new Date());\n    map.set('caretPosition', position + emoji.length + 1);\n    map.set('idempotencyKey', uuid());\n  });\n};\n\nconst hydrate = (state, hydratedState) => {\n  state = clearAll(state.merge(hydratedState));\n\n  if (hydratedState.has('text')) {\n    state = state.set('text', hydratedState.get('text'));\n  }\n\n  return state;\n};\n\nconst domParser = new DOMParser();\n\nconst expandMentions = status => {\n  const fragment = domParser.parseFromString(status.get('content'), 'text/html').documentElement;\n\n  status.get('mentions').forEach(mention => {\n    fragment.querySelector(`a[href=\"${mention.get('url')}\"]`).textContent = `@${mention.get('acct')}`;\n  });\n\n  return fragment.innerHTML;\n};\n\nconst expiresInFromExpiresAt = expires_at => {\n  if (!expires_at) return 24 * 3600;\n  const delta = (new Date(expires_at).getTime() - Date.now()) / 1000;\n  return [300, 1800, 3600, 21600, 86400, 259200, 604800].find(expires_in => expires_in >= delta) || 24 * 3600;\n};\n\nconst mergeLocalHashtagResults = (suggestions, prefix, tagHistory) => {\n  prefix = prefix.toLowerCase();\n  if (suggestions.length < 4) {\n    const localTags = tagHistory.filter(tag => tag.toLowerCase().startsWith(prefix) && !suggestions.some(suggestion => suggestion.type === 'hashtag' && suggestion.name.toLowerCase() === tag.toLowerCase()));\n    return suggestions.concat(localTags.slice(0, 4 - suggestions.length).toJS().map(tag => ({ type: 'hashtag', name: tag })));\n  } else {\n    return suggestions;\n  }\n};\n\nconst normalizeSuggestions = (state, { accounts, emojis, tags, token }) => {\n  if (accounts) {\n    return accounts.map(item => ({ id: item.id, type: 'account' }));\n  } else if (emojis) {\n    return emojis.map(item => ({ ...item, type: 'emoji' }));\n  } else {\n    return mergeLocalHashtagResults(sortHashtagsByUse(state, tags.map(item => ({ ...item, type: 'hashtag' }))), token.slice(1), state.get('tagHistory'));\n  }\n};\n\nconst updateSuggestionTags = (state, token) => {\n  const prefix = token.slice(1);\n\n  const suggestions = state.get('suggestions').toJS();\n  return state.merge({\n    suggestions: ImmutableList(mergeLocalHashtagResults(suggestions, prefix, state.get('tagHistory'))),\n    suggestion_token: token,\n  });\n};\n\nexport default function compose(state = initialState, action) {\n  switch(action.type) {\n  case STORE_HYDRATE:\n    return hydrate(state, action.state.get('compose'));\n  case COMPOSE_MOUNT:\n    return state.set('mounted', state.get('mounted') + 1);\n  case COMPOSE_UNMOUNT:\n    return state.set('mounted', Math.max(state.get('mounted') - 1, 0));\n  case COMPOSE_ADVANCED_OPTIONS_CHANGE:\n    return state\n      .set('advanced_options', state.get('advanced_options').set(action.option, !!overwrite(!state.getIn(['advanced_options', action.option]), action.value)))\n      .set('idempotencyKey', uuid());\n  case COMPOSE_SENSITIVITY_CHANGE:\n    return state.withMutations(map => {\n      if (!state.get('spoiler')) {\n        map.set('sensitive', !state.get('sensitive'));\n      }\n\n      map.set('idempotencyKey', uuid());\n    });\n  case COMPOSE_SPOILERNESS_CHANGE:\n    return state.withMutations(map => {\n      map.set('spoiler', !state.get('spoiler'));\n      map.set('idempotencyKey', uuid());\n\n      if (!state.get('sensitive') && state.get('media_attachments').size >= 1) {\n        map.set('sensitive', true);\n      }\n    });\n  case COMPOSE_SPOILER_TEXT_CHANGE:\n    return state\n      .set('spoiler_text', action.text)\n      .set('idempotencyKey', uuid());\n  case COMPOSE_VISIBILITY_CHANGE:\n    return state\n      .set('privacy', action.value)\n      .set('idempotencyKey', uuid());\n  case COMPOSE_CONTENT_TYPE_CHANGE:\n    return state\n      .set('content_type', action.value)\n      .set('idempotencyKey', uuid());\n  case COMPOSE_CHANGE:\n    return state\n      .set('text', action.text)\n      .set('idempotencyKey', uuid());\n  case COMPOSE_CYCLE_ELEFRIEND:\n    return state\n      .set('elefriend', (state.get('elefriend') + 1) % totalElefriends);\n  case COMPOSE_REPLY:\n    return state.withMutations(map => {\n      map.set('id', null);\n      map.set('in_reply_to', action.status.get('id'));\n      map.set('text', statusToTextMentions(state, action.status));\n      map.set('privacy', privacyPreference(action.status.get('visibility'), state.get('default_privacy')));\n      map.update(\n        'advanced_options',\n        map => map.merge(new ImmutableMap({ do_not_federate: !!action.status.get('local_only') }))\n      );\n      map.set('focusDate', new Date());\n      map.set('caretPosition', null);\n      map.set('preselectDate', new Date());\n      map.set('idempotencyKey', uuid());\n\n      if (action.status.get('language')) {\n        map.set('language', action.status.get('language'));\n      }\n\n      if (action.status.get('spoiler_text').length > 0) {\n        let spoiler_text = action.status.get('spoiler_text');\n        if (action.prependCWRe && !spoiler_text.match(/^re[: ]/i)) {\n          spoiler_text = 're: '.concat(spoiler_text);\n        }\n        map.set('spoiler', true);\n        map.set('spoiler_text', spoiler_text);\n      } else {\n        map.set('spoiler', false);\n        map.set('spoiler_text', '');\n      }\n    });\n  case COMPOSE_REPLY_CANCEL:\n    state = state.setIn(['advanced_options', 'threaded_mode'], false);\n  case COMPOSE_RESET:\n    return state.withMutations(map => {\n      map.set('in_reply_to', null);\n      if (defaultContentType) map.set('content_type', defaultContentType);\n      map.set('text', '');\n      map.set('spoiler', false);\n      map.set('spoiler_text', '');\n      map.set('privacy', state.get('default_privacy'));\n      map.set('id', null);\n      map.set('poll', null);\n      map.update(\n        'advanced_options',\n        map => map.mergeWith(overwrite, state.get('default_advanced_options'))\n      );\n      map.set('idempotencyKey', uuid());\n    });\n  case COMPOSE_SUBMIT_REQUEST:\n    return state.set('is_submitting', true);\n  case COMPOSE_UPLOAD_CHANGE_REQUEST:\n    return state.set('is_changing_upload', true);\n  case COMPOSE_SUBMIT_SUCCESS:\n    return action.status && state.getIn(['advanced_options', 'threaded_mode']) ? continueThread(state, action.status) : clearAll(state);\n  case COMPOSE_SUBMIT_FAIL:\n    return state.set('is_submitting', false);\n  case COMPOSE_UPLOAD_CHANGE_FAIL:\n    return state.set('is_changing_upload', false);\n  case COMPOSE_UPLOAD_REQUEST:\n    return state.set('is_uploading', true).update('pending_media_attachments', n => n + 1);\n  case COMPOSE_UPLOAD_SUCCESS:\n    return appendMedia(state, fromJS(action.media), action.file);\n  case COMPOSE_UPLOAD_FAIL:\n    return state.set('is_uploading', false).update('pending_media_attachments', n => n - 1);\n  case COMPOSE_UPLOAD_UNDO:\n    return removeMedia(state, action.media_id);\n  case COMPOSE_UPLOAD_PROGRESS:\n    return state.set('progress', Math.round((action.loaded / action.total) * 100));\n  case THUMBNAIL_UPLOAD_REQUEST:\n    return state.set('isUploadingThumbnail', true);\n  case THUMBNAIL_UPLOAD_PROGRESS:\n    return state.set('thumbnailProgress', Math.round((action.loaded / action.total) * 100));\n  case THUMBNAIL_UPLOAD_FAIL:\n    return state.set('isUploadingThumbnail', false);\n  case THUMBNAIL_UPLOAD_SUCCESS:\n    return state\n      .set('isUploadingThumbnail', false)\n      .update('media_attachments', list => list.map(item => {\n        if (item.get('id') === action.media.id) {\n          return fromJS(action.media);\n        }\n\n        return item;\n      }));\n  case INIT_MEDIA_EDIT_MODAL:\n    const media =  state.get('media_attachments').find(item => item.get('id') === action.id);\n    return state.set('media_modal', ImmutableMap({\n      id: action.id,\n      description: media.get('description') || '',\n      focusX: media.getIn(['meta', 'focus', 'x'], 0),\n      focusY: media.getIn(['meta', 'focus', 'y'], 0),\n      dirty: false,\n    }));\n  case COMPOSE_CHANGE_MEDIA_DESCRIPTION:\n    return state.setIn(['media_modal', 'description'], action.description).setIn(['media_modal', 'dirty'], true);\n  case COMPOSE_CHANGE_MEDIA_FOCUS:\n    return state.setIn(['media_modal', 'focusX'], action.focusX).setIn(['media_modal', 'focusY'], action.focusY).setIn(['media_modal', 'dirty'], true);\n  case COMPOSE_MENTION:\n    return state.withMutations(map => {\n      map.update('text', text => [text.trim(), `@${action.account.get('acct')} `].filter((str) => str.length !== 0).join(' '));\n      map.set('focusDate', new Date());\n      map.set('caretPosition', null);\n      map.set('idempotencyKey', uuid());\n    });\n  case COMPOSE_DIRECT:\n    return state.withMutations(map => {\n      map.update('text', text => [text.trim(), `@${action.account.get('acct')} `].filter((str) => str.length !== 0).join(' '));\n      map.set('privacy', 'direct');\n      map.set('focusDate', new Date());\n      map.set('caretPosition', null);\n      map.set('idempotencyKey', uuid());\n    });\n  case COMPOSE_SUGGESTIONS_CLEAR:\n    return state.update('suggestions', ImmutableList(), list => list.clear()).set('suggestion_token', null);\n  case COMPOSE_SUGGESTIONS_READY:\n    return state.set('suggestions', ImmutableList(normalizeSuggestions(state, action))).set('suggestion_token', action.token);\n  case COMPOSE_SUGGESTION_SELECT:\n    return insertSuggestion(state, action.position, action.token, action.completion, action.path);\n  case COMPOSE_SUGGESTION_IGNORE:\n    return ignoreSuggestion(state, action.position, action.token, action.completion, action.path);\n  case COMPOSE_SUGGESTION_TAGS_UPDATE:\n    return updateSuggestionTags(state, action.token);\n  case COMPOSE_TAG_HISTORY_UPDATE:\n    return state.set('tagHistory', fromJS(action.tags));\n  case TIMELINE_DELETE:\n    if (action.id === state.get('in_reply_to')) {\n      return state.set('in_reply_to', null);\n    } else {\n      return state;\n    }\n  case COMPOSE_EMOJI_INSERT:\n    return insertEmoji(state, action.position, action.emoji);\n  case COMPOSE_UPLOAD_CHANGE_SUCCESS:\n    return state\n      .set('is_changing_upload', false)\n      .setIn(['media_modal', 'dirty'], false)\n      .update('media_attachments', list => list.map(item => {\n        if (item.get('id') === action.media.id) {\n          return fromJS(action.media);\n        }\n\n        return item;\n      }));\n  case COMPOSE_DOODLE_SET:\n    return state.mergeIn(['doodle'], action.options);\n  case REDRAFT:\n    const do_not_federate = !!action.status.get('local_only');\n    let text = action.raw_text || unescapeHTML(expandMentions(action.status));\n    if (do_not_federate) text = text.replace(/ ?\\ufe0f?\\u200b?$/, '');\n    return state.withMutations(map => {\n      map.set('text', text);\n      map.set('content_type', action.content_type || 'text/plain');\n      map.set('in_reply_to', action.status.get('in_reply_to_id'));\n      map.set('privacy', action.status.get('visibility'));\n      map.set('media_attachments', action.status.get('media_attachments'));\n      map.set('focusDate', new Date());\n      map.set('caretPosition', null);\n      map.set('idempotencyKey', uuid());\n      map.set('sensitive', action.status.get('sensitive'));\n      map.set('language', action.status.get('language'));\n      map.update(\n        'advanced_options',\n        map => map.merge(new ImmutableMap({ do_not_federate }))\n      );\n\n      if (action.status.get('spoiler_text').length > 0) {\n        map.set('spoiler', true);\n        map.set('spoiler_text', action.status.get('spoiler_text'));\n      } else {\n        map.set('spoiler', false);\n        map.set('spoiler_text', '');\n      }\n\n      if (action.status.get('poll')) {\n        map.set('poll', ImmutableMap({\n          options: action.status.getIn(['poll', 'options']).map(x => x.get('title')),\n          multiple: action.status.getIn(['poll', 'multiple']),\n          expires_in: expiresInFromExpiresAt(action.status.getIn(['poll', 'expires_at'])),\n        }));\n      }\n    });\n  case COMPOSE_SET_STATUS:\n    return state.withMutations(map => {\n      map.set('id', action.status.get('id'));\n      map.set('text', action.text);\n      map.set('in_reply_to', action.status.get('in_reply_to_id'));\n      map.set('privacy', action.status.get('visibility'));\n      map.set('media_attachments', action.status.get('media_attachments'));\n      map.set('focusDate', new Date());\n      map.set('caretPosition', null);\n      map.set('idempotencyKey', uuid());\n      map.set('sensitive', action.status.get('sensitive'));\n      map.set('language', action.status.get('language'));\n\n      if (action.spoiler_text.length > 0) {\n        map.set('spoiler', true);\n        map.set('spoiler_text', action.spoiler_text);\n      } else {\n        map.set('spoiler', false);\n        map.set('spoiler_text', '');\n      }\n\n      if (action.status.get('poll')) {\n        map.set('poll', ImmutableMap({\n          options: action.status.getIn(['poll', 'options']).map(x => x.get('title')),\n          multiple: action.status.getIn(['poll', 'multiple']),\n          expires_in: expiresInFromExpiresAt(action.status.getIn(['poll', 'expires_at'])),\n        }));\n      }\n    });\n  case COMPOSE_POLL_ADD:\n    return state.set('poll', initialPoll);\n  case COMPOSE_POLL_REMOVE:\n    return state.set('poll', null);\n  case COMPOSE_POLL_OPTION_ADD:\n    return state.updateIn(['poll', 'options'], options => options.push(action.title));\n  case COMPOSE_POLL_OPTION_CHANGE:\n    return state.setIn(['poll', 'options', action.index], action.title);\n  case COMPOSE_POLL_OPTION_REMOVE:\n    return state.updateIn(['poll', 'options'], options => options.delete(action.index));\n  case COMPOSE_POLL_SETTINGS_CHANGE:\n    return state.update('poll', poll => poll.set('expires_in', action.expiresIn).set('multiple', action.isMultiple));\n  case COMPOSE_LANGUAGE_CHANGE:\n    return state.set('language', action.language);\n  default:\n    return state;\n  }\n};\n","import {\n  SEARCH_CHANGE,\n  SEARCH_CLEAR,\n  SEARCH_FETCH_SUCCESS,\n  SEARCH_SHOW,\n  SEARCH_EXPAND_SUCCESS,\n} from 'flavours/glitch/actions/search';\nimport {\n  COMPOSE_MENTION,\n  COMPOSE_REPLY,\n  COMPOSE_DIRECT,\n} from 'flavours/glitch/actions/compose';\nimport { Map as ImmutableMap, List as ImmutableList, fromJS } from 'immutable';\n\nconst initialState = ImmutableMap({\n  value: '',\n  submitted: false,\n  hidden: false,\n  results: ImmutableMap(),\n  searchTerm: '',\n});\n\nexport default function search(state = initialState, action) {\n  switch(action.type) {\n  case SEARCH_CHANGE:\n    return state.set('value', action.value);\n  case SEARCH_CLEAR:\n    return state.withMutations(map => {\n      map.set('value', '');\n      map.set('results', ImmutableMap());\n      map.set('submitted', false);\n      map.set('hidden', false);\n    });\n  case SEARCH_SHOW:\n    return state.set('hidden', false);\n  case COMPOSE_REPLY:\n  case COMPOSE_MENTION:\n  case COMPOSE_DIRECT:\n    return state.set('hidden', true);\n  case SEARCH_FETCH_SUCCESS:\n    return state.set('results', ImmutableMap({\n      accounts: ImmutableList(action.results.accounts.map(item => item.id)),\n      statuses: ImmutableList(action.results.statuses.map(item => item.id)),\n      hashtags: fromJS(action.results.hashtags),\n    })).set('submitted', true).set('searchTerm', action.searchTerm);\n  case SEARCH_EXPAND_SUCCESS:\n    const results = action.searchType === 'hashtags' ? fromJS(action.results.hashtags) : action.results[action.searchType].map(item => item.id);\n    return state.updateIn(['results', action.searchType], list => list.concat(results));\n  default:\n    return state;\n  }\n};\n","import { STORE_HYDRATE } from 'flavours/glitch/actions/store';\nimport { Map as ImmutableMap } from 'immutable';\n\nconst initialState = ImmutableMap({\n  accept_content_types: [],\n});\n\nexport default function meta(state = initialState, action) {\n  switch(action.type) {\n  case STORE_HYDRATE:\n    return state.merge(action.state.get('media_attachments'));\n  default:\n    return state;\n  }\n};\n","import {\n  NOTIFICATIONS_MOUNT,\n  NOTIFICATIONS_UNMOUNT,\n  NOTIFICATIONS_SET_VISIBILITY,\n  NOTIFICATIONS_UPDATE,\n  NOTIFICATIONS_EXPAND_SUCCESS,\n  NOTIFICATIONS_EXPAND_REQUEST,\n  NOTIFICATIONS_EXPAND_FAIL,\n  NOTIFICATIONS_FILTER_SET,\n  NOTIFICATIONS_CLEAR,\n  NOTIFICATIONS_SCROLL_TOP,\n  NOTIFICATIONS_LOAD_PENDING,\n  NOTIFICATIONS_DELETE_MARKED_REQUEST,\n  NOTIFICATIONS_DELETE_MARKED_SUCCESS,\n  NOTIFICATION_MARK_FOR_DELETE,\n  NOTIFICATIONS_DELETE_MARKED_FAIL,\n  NOTIFICATIONS_ENTER_CLEARING_MODE,\n  NOTIFICATIONS_MARK_ALL_FOR_DELETE,\n  NOTIFICATIONS_MARK_AS_READ,\n  NOTIFICATIONS_SET_BROWSER_SUPPORT,\n  NOTIFICATIONS_SET_BROWSER_PERMISSION,\n} from 'flavours/glitch/actions/notifications';\nimport {\n  ACCOUNT_BLOCK_SUCCESS,\n  ACCOUNT_MUTE_SUCCESS,\n  FOLLOW_REQUEST_AUTHORIZE_SUCCESS,\n  FOLLOW_REQUEST_REJECT_SUCCESS,\n} from 'flavours/glitch/actions/accounts';\nimport {\n  MARKERS_FETCH_SUCCESS,\n} from 'flavours/glitch/actions/markers';\nimport { DOMAIN_BLOCK_SUCCESS } from 'flavours/glitch/actions/domain_blocks';\nimport { TIMELINE_DELETE, TIMELINE_DISCONNECT } from 'flavours/glitch/actions/timelines';\nimport { fromJS, Map as ImmutableMap, List as ImmutableList } from 'immutable';\nimport compareId from 'flavours/glitch/util/compare_id';\n\nconst initialState = ImmutableMap({\n  pendingItems: ImmutableList(),\n  items: ImmutableList(),\n  hasMore: true,\n  top: false,\n  mounted: 0,\n  unread: 0,\n  lastReadId: '0',\n  readMarkerId: '0',\n  isLoading: false,\n  cleaningMode: false,\n  isTabVisible: true,\n  browserSupport: false,\n  browserPermission: 'default',\n  // notification removal mark of new notifs loaded whilst cleaningMode is true.\n  markNewForDelete: false,\n});\n\nconst notificationToMap = (state, notification) => ImmutableMap({\n  id: notification.id,\n  type: notification.type,\n  account: notification.account.id,\n  markedForDelete: state.get('markNewForDelete'),\n  status: notification.status ? notification.status.id : null,\n  report: notification.report ? fromJS(notification.report) : null,\n});\n\nconst normalizeNotification = (state, notification, usePendingItems) => {\n  const top = state.get('top');\n\n  if (usePendingItems || !state.get('pendingItems').isEmpty()) {\n    return state.update('pendingItems', list => list.unshift(notificationToMap(state, notification))).update('unread', unread => unread + 1);\n  }\n\n  if (shouldCountUnreadNotifications(state)) {\n    state = state.update('unread', unread => unread + 1);\n  } else {\n    state = state.set('lastReadId', notification.id);\n  }\n\n  return state.update('items', list => {\n    if (top && list.size > 40) {\n      list = list.take(20);\n    }\n\n    return list.unshift(notificationToMap(state, notification));\n  });\n};\n\nconst expandNormalizedNotifications = (state, notifications, next, isLoadingRecent, usePendingItems) => {\n  const lastReadId = state.get('lastReadId');\n  let items = ImmutableList();\n\n  notifications.forEach((n, i) => {\n    items = items.set(i, notificationToMap(state, n));\n  });\n\n  return state.withMutations(mutable => {\n    if (!items.isEmpty()) {\n      usePendingItems = isLoadingRecent && (usePendingItems || !mutable.get('pendingItems').isEmpty());\n\n      mutable.update(usePendingItems ? 'pendingItems' : 'items', list => {\n        const lastIndex = 1 + list.findLastIndex(\n          item => item !== null && (compareId(item.get('id'), items.last().get('id')) > 0 || item.get('id') === items.last().get('id')),\n        );\n\n        const firstIndex = 1 + list.take(lastIndex).findLastIndex(\n          item => item !== null && compareId(item.get('id'), items.first().get('id')) > 0,\n        );\n\n        return list.take(firstIndex).concat(items, list.skip(lastIndex));\n      });\n    }\n\n    if (!next) {\n      mutable.set('hasMore', false);\n    }\n\n    if (shouldCountUnreadNotifications(state)) {\n      mutable.set('unread', mutable.get('pendingItems').count(item => item !== null) + mutable.get('items').count(item => item && compareId(item.get('id'), lastReadId) > 0));\n    } else {\n      const mostRecent = items.find(item => item !== null);\n      if (mostRecent && compareId(lastReadId, mostRecent.get('id')) < 0) {\n        mutable.set('lastReadId', mostRecent.get('id'));\n      }\n    }\n\n    mutable.set('isLoading', false);\n  });\n};\n\nconst filterNotifications = (state, accountIds, type) => {\n  const helper = list => list.filterNot(item => item !== null && accountIds.includes(item.get('account')) && (type === undefined || type === item.get('type')));\n  return state.update('items', helper).update('pendingItems', helper);\n};\n\nconst clearUnread = (state) => {\n  state = state.set('unread', state.get('pendingItems').size);\n  const lastNotification = state.get('items').find(item => item !== null);\n  return state.set('lastReadId', lastNotification ? lastNotification.get('id') : '0');\n};\n\nconst updateTop = (state, top) => {\n  state = state.set('top', top);\n\n  if (!shouldCountUnreadNotifications(state)) {\n    state = clearUnread(state);\n  }\n\n  return state;\n};\n\nconst deleteByStatus = (state, statusId) => {\n  const lastReadId = state.get('lastReadId');\n\n  if (shouldCountUnreadNotifications(state)) {\n    const deletedUnread = state.get('items').filter(item => item !== null && item.get('status') === statusId && compareId(item.get('id'), lastReadId) > 0);\n    state = state.update('unread', unread => unread - deletedUnread.size);\n  }\n\n  const helper = list => list.filterNot(item => item !== null && item.get('status') === statusId);\n  const deletedUnread = state.get('pendingItems').filter(item => item !== null && item.get('status') === statusId && compareId(item.get('id'), lastReadId) > 0);\n  state = state.update('unread', unread => unread - deletedUnread.size);\n  return state.update('items', helper).update('pendingItems', helper);\n};\n\nconst markForDelete = (state, notificationId, yes) => {\n  return state.update('items', list => list.map(item => {\n    if(item.get('id') === notificationId) {\n      return item.set('markedForDelete', yes);\n    } else {\n      return item;\n    }\n  }));\n};\n\nconst markAllForDelete = (state, yes) => {\n  return state.update('items', list => list.map(item => {\n    if(yes !== null) {\n      return item.set('markedForDelete', yes);\n    } else {\n      return item.set('markedForDelete', !item.get('markedForDelete'));\n    }\n  }));\n};\n\nconst unmarkAllForDelete = (state) => {\n  return state.update('items', list => list.map(item => item.set('markedForDelete', false)));\n};\n\nconst deleteMarkedNotifs = (state) => {\n  return state.update('items', list => list.filterNot(item => item.get('markedForDelete')));\n};\n\nconst updateMounted = (state) => {\n  state = state.update('mounted', count => count + 1);\n  if (!shouldCountUnreadNotifications(state, state.get('mounted') === 1)) {\n    state = state.set('readMarkerId', state.get('lastReadId'));\n    state = clearUnread(state);\n  }\n  return state;\n};\n\nconst updateVisibility = (state, visibility) => {\n  state = state.set('isTabVisible', visibility);\n  if (!shouldCountUnreadNotifications(state)) {\n    state = state.set('readMarkerId', state.get('lastReadId'));\n    state = clearUnread(state);\n  }\n  return state;\n};\n\nconst shouldCountUnreadNotifications = (state, ignoreScroll = false) => {\n  const isTabVisible   = state.get('isTabVisible');\n  const isOnTop        = state.get('top');\n  const isMounted      = state.get('mounted') > 0;\n  const lastReadId     = state.get('lastReadId');\n  const lastItem       = state.get('items').findLast(item => item !== null);\n  const lastItemReached = !state.get('hasMore') || lastReadId === '0' || (lastItem && compareId(lastItem.get('id'), lastReadId) <= 0);\n\n  return !(isTabVisible && (ignoreScroll || isOnTop) && isMounted && lastItemReached);\n};\n\nconst recountUnread = (state, last_read_id) => {\n  return state.withMutations(mutable => {\n    if (compareId(last_read_id, mutable.get('lastReadId')) > 0) {\n      mutable.set('lastReadId', last_read_id);\n    }\n\n    if (compareId(last_read_id, mutable.get('readMarkerId')) > 0) {\n      mutable.set('readMarkerId', last_read_id);\n    }\n\n    if (state.get('unread') > 0 || shouldCountUnreadNotifications(state)) {\n      mutable.set('unread', mutable.get('pendingItems').count(item => item !== null) + mutable.get('items').count(item => item && compareId(item.get('id'), last_read_id) > 0));\n    }\n  });\n};\n\nexport default function notifications(state = initialState, action) {\n  let st;\n\n  switch(action.type) {\n  case MARKERS_FETCH_SUCCESS:\n    return action.markers.notifications ? recountUnread(state, action.markers.notifications.last_read_id) : state;\n  case NOTIFICATIONS_MOUNT:\n    return updateMounted(state);\n  case NOTIFICATIONS_UNMOUNT:\n    return state.update('mounted', count => count - 1);\n  case NOTIFICATIONS_SET_VISIBILITY:\n    return updateVisibility(state, action.visibility);\n  case NOTIFICATIONS_LOAD_PENDING:\n    return state.update('items', list => state.get('pendingItems').concat(list.take(40))).set('pendingItems', ImmutableList()).set('unread', 0);\n  case NOTIFICATIONS_EXPAND_REQUEST:\n  case NOTIFICATIONS_DELETE_MARKED_REQUEST:\n    return state.set('isLoading', true);\n  case NOTIFICATIONS_DELETE_MARKED_FAIL:\n  case NOTIFICATIONS_EXPAND_FAIL:\n    return state.set('isLoading', false);\n  case NOTIFICATIONS_FILTER_SET:\n    return state.set('items', ImmutableList()).set('hasMore', true);\n  case NOTIFICATIONS_SCROLL_TOP:\n    return updateTop(state, action.top);\n  case NOTIFICATIONS_UPDATE:\n    return normalizeNotification(state, action.notification, action.usePendingItems);\n  case NOTIFICATIONS_EXPAND_SUCCESS:\n    return expandNormalizedNotifications(state, action.notifications, action.next, action.isLoadingRecent, action.usePendingItems);\n  case ACCOUNT_BLOCK_SUCCESS:\n    return filterNotifications(state, [action.relationship.id]);\n  case ACCOUNT_MUTE_SUCCESS:\n    return action.relationship.muting_notifications ? filterNotifications(state, [action.relationship.id]) : state;\n  case DOMAIN_BLOCK_SUCCESS:\n    return filterNotifications(state, action.accounts);\n  case FOLLOW_REQUEST_AUTHORIZE_SUCCESS:\n  case FOLLOW_REQUEST_REJECT_SUCCESS:\n    return filterNotifications(state, [action.id], 'follow_request');\n  case NOTIFICATIONS_CLEAR:\n    return state.set('items', ImmutableList()).set('pendingItems', ImmutableList()).set('hasMore', false);\n  case TIMELINE_DELETE:\n    return deleteByStatus(state, action.id);\n  case TIMELINE_DISCONNECT:\n    return action.timeline === 'home' ?\n      state.update(action.usePendingItems ? 'pendingItems' : 'items', items => items.first() ? items.unshift(null) : items) :\n      state;\n  case NOTIFICATIONS_SET_BROWSER_SUPPORT:\n    return state.set('browserSupport', action.value);\n  case NOTIFICATIONS_SET_BROWSER_PERMISSION:\n    return state.set('browserPermission', action.value);\n\n  case NOTIFICATION_MARK_FOR_DELETE:\n    return markForDelete(state, action.id, action.yes);\n\n  case NOTIFICATIONS_DELETE_MARKED_SUCCESS:\n    return deleteMarkedNotifs(state).set('isLoading', false);\n\n  case NOTIFICATIONS_ENTER_CLEARING_MODE:\n    st = state.set('cleaningMode', action.yes);\n    if (!action.yes) {\n      return unmarkAllForDelete(st).set('markNewForDelete', false);\n    } else {\n      return st;\n    }\n\n  case NOTIFICATIONS_MARK_ALL_FOR_DELETE:\n    st = state;\n    if (action.yes === null) {\n      // Toggle - this is a bit confusing, as it toggles the all-none mode\n      //st = st.set('markNewForDelete', !st.get('markNewForDelete'));\n    } else {\n      st = st.set('markNewForDelete', action.yes);\n    }\n    return markAllForDelete(st, action.yes);\n\n  case NOTIFICATIONS_MARK_AS_READ:\n    const lastNotification = state.get('items').find(item => item !== null);\n    return lastNotification ? recountUnread(state, lastNotification.get('id')) : state;\n\n  default:\n    return state;\n  }\n};\n","import { Map as ImmutableMap } from 'immutable';\nimport { HEIGHT_CACHE_SET, HEIGHT_CACHE_CLEAR } from 'flavours/glitch/actions/height_cache';\n\nconst initialState = ImmutableMap();\n\nconst setHeight = (state, key, id, height) => {\n  return state.update(key, ImmutableMap(), map => map.set(id, height));\n};\n\nconst clearHeights = () => {\n  return ImmutableMap();\n};\n\nexport default function statuses(state = initialState, action) {\n  switch(action.type) {\n  case HEIGHT_CACHE_SET:\n    return setHeight(state, action.key, action.id, action.height);\n  case HEIGHT_CACHE_CLEAR:\n    return clearHeights();\n  default:\n    return state;\n  }\n};\n","import { List as ImmutableList, fromJS as ConvertToImmutable } from 'immutable';\nimport { CUSTOM_EMOJIS_FETCH_SUCCESS } from 'flavours/glitch/actions/custom_emojis';\nimport { search as emojiSearch } from 'flavours/glitch/util/emoji/emoji_mart_search_light';\nimport { buildCustomEmojis } from 'flavours/glitch/util/emoji';\n\nconst initialState = ImmutableList([]);\n\nexport default function custom_emojis(state = initialState, action) {\n  if(action.type === CUSTOM_EMOJIS_FETCH_SUCCESS) {\n    state = ConvertToImmutable(action.custom_emojis);\n    emojiSearch('', { custom: buildCustomEmojis(state) });\n  }\n\n  return state;\n};\n","import {\n  LIST_FETCH_SUCCESS,\n  LIST_FETCH_FAIL,\n  LISTS_FETCH_SUCCESS,\n  LIST_CREATE_SUCCESS,\n  LIST_UPDATE_SUCCESS,\n  LIST_DELETE_SUCCESS,\n} from '../actions/lists';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst initialState = ImmutableMap();\n\nconst normalizeList = (state, list) => state.set(list.id, fromJS(list));\n\nconst normalizeLists = (state, lists) => {\n  lists.forEach(list => {\n    state = normalizeList(state, list);\n  });\n\n  return state;\n};\n\nexport default function lists(state = initialState, action) {\n  switch(action.type) {\n  case LIST_FETCH_SUCCESS:\n  case LIST_CREATE_SUCCESS:\n  case LIST_UPDATE_SUCCESS:\n    return normalizeList(state, action.list);\n  case LISTS_FETCH_SUCCESS:\n    return normalizeLists(state, action.lists);\n  case LIST_DELETE_SUCCESS:\n  case LIST_FETCH_FAIL:\n    return state.set(action.id, false);\n  default:\n    return state;\n  }\n};\n","import { Map as ImmutableMap, List as ImmutableList } from 'immutable';\nimport {\n  LIST_CREATE_REQUEST,\n  LIST_CREATE_FAIL,\n  LIST_CREATE_SUCCESS,\n  LIST_UPDATE_REQUEST,\n  LIST_UPDATE_FAIL,\n  LIST_UPDATE_SUCCESS,\n  LIST_EDITOR_RESET,\n  LIST_EDITOR_SETUP,\n  LIST_EDITOR_TITLE_CHANGE,\n  LIST_ACCOUNTS_FETCH_REQUEST,\n  LIST_ACCOUNTS_FETCH_SUCCESS,\n  LIST_ACCOUNTS_FETCH_FAIL,\n  LIST_EDITOR_SUGGESTIONS_READY,\n  LIST_EDITOR_SUGGESTIONS_CLEAR,\n  LIST_EDITOR_SUGGESTIONS_CHANGE,\n  LIST_EDITOR_ADD_SUCCESS,\n  LIST_EDITOR_REMOVE_SUCCESS,\n} from '../actions/lists';\n\nconst initialState = ImmutableMap({\n  listId: null,\n  isSubmitting: false,\n  isChanged: false,\n  title: '',\n\n  accounts: ImmutableMap({\n    items: ImmutableList(),\n    loaded: false,\n    isLoading: false,\n  }),\n\n  suggestions: ImmutableMap({\n    value: '',\n    items: ImmutableList(),\n  }),\n});\n\nexport default function listEditorReducer(state = initialState, action) {\n  switch(action.type) {\n  case LIST_EDITOR_RESET:\n    return initialState;\n  case LIST_EDITOR_SETUP:\n    return state.withMutations(map => {\n      map.set('listId', action.list.get('id'));\n      map.set('title', action.list.get('title'));\n      map.set('isSubmitting', false);\n    });\n  case LIST_EDITOR_TITLE_CHANGE:\n    return state.withMutations(map => {\n      map.set('title', action.value);\n      map.set('isChanged', true);\n    });\n  case LIST_CREATE_REQUEST:\n  case LIST_UPDATE_REQUEST:\n      return state.withMutations(map => {\n        map.set('isSubmitting', true);\n        map.set('isChanged', false);\n      });\n  case LIST_CREATE_FAIL:\n  case LIST_UPDATE_FAIL:\n    return state.set('isSubmitting', false);\n  case LIST_CREATE_SUCCESS:\n  case LIST_UPDATE_SUCCESS:\n    return state.withMutations(map => {\n      map.set('isSubmitting', false);\n      map.set('listId', action.list.id);\n    });\n  case LIST_ACCOUNTS_FETCH_REQUEST:\n    return state.setIn(['accounts', 'isLoading'], true);\n  case LIST_ACCOUNTS_FETCH_FAIL:\n    return state.setIn(['accounts', 'isLoading'], false);\n  case LIST_ACCOUNTS_FETCH_SUCCESS:\n    return state.update('accounts', accounts => accounts.withMutations(map => {\n      map.set('isLoading', false);\n      map.set('loaded', true);\n      map.set('items', ImmutableList(action.accounts.map(item => item.id)));\n    }));\n  case LIST_EDITOR_SUGGESTIONS_CHANGE:\n    return state.setIn(['suggestions', 'value'], action.value);\n  case LIST_EDITOR_SUGGESTIONS_READY:\n    return state.setIn(['suggestions', 'items'], ImmutableList(action.accounts.map(item => item.id)));\n  case LIST_EDITOR_SUGGESTIONS_CLEAR:\n    return state.update('suggestions', suggestions => suggestions.withMutations(map => {\n      map.set('items', ImmutableList());\n      map.set('value', '');\n    }));\n  case LIST_EDITOR_ADD_SUCCESS:\n    return state.updateIn(['accounts', 'items'], list => list.unshift(action.accountId));\n  case LIST_EDITOR_REMOVE_SUCCESS:\n    return state.updateIn(['accounts', 'items'], list => list.filterNot(item => item === action.accountId));\n  default:\n    return state;\n  }\n};\n","import { Map as ImmutableMap, List as ImmutableList } from 'immutable';\nimport {\n  LIST_ADDER_RESET,\n  LIST_ADDER_SETUP,\n  LIST_ADDER_LISTS_FETCH_REQUEST,\n  LIST_ADDER_LISTS_FETCH_SUCCESS,\n  LIST_ADDER_LISTS_FETCH_FAIL,\n  LIST_EDITOR_ADD_SUCCESS,\n  LIST_EDITOR_REMOVE_SUCCESS,\n} from '../actions/lists';\n\nconst initialState = ImmutableMap({\n  accountId: null,\n\n  lists: ImmutableMap({\n    items: ImmutableList(),\n    loaded: false,\n    isLoading: false,\n  }),\n});\n\nexport default function listAdderReducer(state = initialState, action) {\n  switch(action.type) {\n  case LIST_ADDER_RESET:\n    return initialState;\n  case LIST_ADDER_SETUP:\n    return state.withMutations(map => {\n      map.set('accountId', action.account.get('id'));\n    });\n  case LIST_ADDER_LISTS_FETCH_REQUEST:\n    return state.setIn(['lists', 'isLoading'], true);\n  case LIST_ADDER_LISTS_FETCH_FAIL:\n    return state.setIn(['lists', 'isLoading'], false);\n  case LIST_ADDER_LISTS_FETCH_SUCCESS:\n    return state.update('lists', lists => lists.withMutations(map => {\n      map.set('isLoading', false);\n      map.set('loaded', true);\n      map.set('items', ImmutableList(action.lists.map(item => item.id)));\n    }));\n  case LIST_EDITOR_ADD_SUCCESS:\n    return state.updateIn(['lists', 'items'], list => list.unshift(action.listId));\n  case LIST_EDITOR_REMOVE_SUCCESS:\n    return state.updateIn(['lists', 'items'], list => list.filterNot(item => item === action.listId));\n  default:\n    return state;\n  }\n};\n","import { Map as ImmutableMap, List as ImmutableList } from 'immutable';\nimport {\n  CONVERSATIONS_MOUNT,\n  CONVERSATIONS_UNMOUNT,\n  CONVERSATIONS_FETCH_REQUEST,\n  CONVERSATIONS_FETCH_SUCCESS,\n  CONVERSATIONS_FETCH_FAIL,\n  CONVERSATIONS_UPDATE,\n  CONVERSATIONS_READ,\n  CONVERSATIONS_DELETE_SUCCESS,\n} from '../actions/conversations';\nimport { ACCOUNT_BLOCK_SUCCESS, ACCOUNT_MUTE_SUCCESS } from 'flavours/glitch/actions/accounts';\nimport { DOMAIN_BLOCK_SUCCESS } from 'flavours/glitch/actions/domain_blocks';\nimport compareId from 'flavours/glitch/util/compare_id';\n\nconst initialState = ImmutableMap({\n  items: ImmutableList(),\n  isLoading: false,\n  hasMore: true,\n  mounted: 0,\n});\n\nconst conversationToMap = item => ImmutableMap({\n  id: item.id,\n  unread: item.unread,\n  accounts: ImmutableList(item.accounts.map(a => a.id)),\n  last_status: item.last_status ? item.last_status.id : null,\n});\n\nconst updateConversation = (state, item) => state.update('items', list => {\n  const index   = list.findIndex(x => x.get('id') === item.id);\n  const newItem = conversationToMap(item);\n\n  if (index === -1) {\n    return list.unshift(newItem);\n  } else {\n    return list.set(index, newItem);\n  }\n});\n\nconst expandNormalizedConversations = (state, conversations, next, isLoadingRecent) => {\n  let items = ImmutableList(conversations.map(conversationToMap));\n\n  return state.withMutations(mutable => {\n    if (!items.isEmpty()) {\n      mutable.update('items', list => {\n        list = list.map(oldItem => {\n          const newItemIndex = items.findIndex(x => x.get('id') === oldItem.get('id'));\n\n          if (newItemIndex === -1) {\n            return oldItem;\n          }\n\n          const newItem = items.get(newItemIndex);\n          items = items.delete(newItemIndex);\n\n          return newItem;\n        });\n\n        list = list.concat(items);\n\n        return list.sortBy(x => x.get('last_status'), (a, b) => {\n          if(a === null || b === null) {\n            return -1;\n          }\n\n          return compareId(a, b) * -1;\n        });\n      });\n    }\n\n    if (!next && !isLoadingRecent) {\n      mutable.set('hasMore', false);\n    }\n\n    mutable.set('isLoading', false);\n  });\n};\n\nconst filterConversations = (state, accountIds) => {\n  return state.update('items', list => list.filterNot(item => item.get('accounts').some(accountId => accountIds.includes(accountId))));\n};\n\nexport default function conversations(state = initialState, action) {\n  switch (action.type) {\n  case CONVERSATIONS_FETCH_REQUEST:\n    return state.set('isLoading', true);\n  case CONVERSATIONS_FETCH_FAIL:\n    return state.set('isLoading', false);\n  case CONVERSATIONS_FETCH_SUCCESS:\n    return expandNormalizedConversations(state, action.conversations, action.next, action.isLoadingRecent);\n  case CONVERSATIONS_UPDATE:\n    return updateConversation(state, action.conversation);\n  case CONVERSATIONS_MOUNT:\n    return state.update('mounted', count => count + 1);\n  case CONVERSATIONS_UNMOUNT:\n    return state.update('mounted', count => count - 1);\n  case CONVERSATIONS_READ:\n    return state.update('items', list => list.map(item => {\n      if (item.get('id') === action.id) {\n        return item.set('unread', false);\n      }\n\n      return item;\n    }));\n  case ACCOUNT_BLOCK_SUCCESS:\n  case ACCOUNT_MUTE_SUCCESS:\n    return filterConversations(state, [action.relationship.id]);\n  case DOMAIN_BLOCK_SUCCESS:\n    return filterConversations(state, action.accounts);\n  case CONVERSATIONS_DELETE_SUCCESS:\n    return state.update('items', list => list.filterNot(item => item.get('id') === action.id));\n  default:\n    return state;\n  }\n};\n","import {\n  SUGGESTIONS_FETCH_REQUEST,\n  SUGGESTIONS_FETCH_SUCCESS,\n  SUGGESTIONS_FETCH_FAIL,\n  SUGGESTIONS_DISMISS,\n} from '../actions/suggestions';\nimport { ACCOUNT_BLOCK_SUCCESS, ACCOUNT_MUTE_SUCCESS } from 'flavours/glitch/actions/accounts';\nimport { DOMAIN_BLOCK_SUCCESS } from 'flavours/glitch/actions/domain_blocks';\nimport { Map as ImmutableMap, List as ImmutableList, fromJS } from 'immutable';\n\nconst initialState = ImmutableMap({\n  items: ImmutableList(),\n  isLoading: false,\n});\n\nexport default function suggestionsReducer(state = initialState, action) {\n  switch(action.type) {\n  case SUGGESTIONS_FETCH_REQUEST:\n    return state.set('isLoading', true);\n  case SUGGESTIONS_FETCH_SUCCESS:\n    return state.withMutations(map => {\n      map.set('items', fromJS(action.suggestions.map(x => ({ ...x, account: x.account.id }))));\n      map.set('isLoading', false);\n    });\n  case SUGGESTIONS_FETCH_FAIL:\n    return state.set('isLoading', false);\n  case SUGGESTIONS_DISMISS:\n    return state.update('items', list => list.filterNot(x => x.account === action.id));\n  case ACCOUNT_BLOCK_SUCCESS:\n  case ACCOUNT_MUTE_SUCCESS:\n    return state.update('items', list => list.filterNot(x => x.account === action.relationship.id));\n  case DOMAIN_BLOCK_SUCCESS:\n    return state.update('items', list => list.filterNot(x => action.accounts.includes(x.account)));\n  default:\n    return state;\n  }\n};\n","import { Map as ImmutableMap, List as ImmutableList } from 'immutable';\nimport {\n  PINNED_ACCOUNTS_EDITOR_RESET,\n  PINNED_ACCOUNTS_FETCH_REQUEST,\n  PINNED_ACCOUNTS_FETCH_SUCCESS,\n  PINNED_ACCOUNTS_FETCH_FAIL,\n  PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_READY,\n  PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_CLEAR,\n  PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_CHANGE,\n  ACCOUNT_PIN_SUCCESS,\n  ACCOUNT_UNPIN_SUCCESS,\n} from '../actions/accounts';\n\nconst initialState = ImmutableMap({\n  accounts: ImmutableMap({\n    items: ImmutableList(),\n    loaded: false,\n    isLoading: false,\n  }),\n\n  suggestions: ImmutableMap({\n    value: '',\n    items: ImmutableList(),\n  }),\n});\n\nexport default function listEditorReducer(state = initialState, action) {\n  switch(action.type) {\n  case PINNED_ACCOUNTS_EDITOR_RESET:\n    return initialState;\n  case PINNED_ACCOUNTS_FETCH_REQUEST:\n    return state.setIn(['accounts', 'isLoading'], true);\n  case PINNED_ACCOUNTS_FETCH_FAIL:\n    return state.setIn(['accounts', 'isLoading'], false);\n  case PINNED_ACCOUNTS_FETCH_SUCCESS:\n    return state.update('accounts', accounts => accounts.withMutations(map => {\n      map.set('isLoading', false);\n      map.set('loaded', true);\n      map.set('items', ImmutableList(action.accounts.map(item => item.id)));\n    }));\n  case PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_CHANGE:\n    return state.setIn(['suggestions', 'value'], action.value);\n  case PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_READY:\n    return state.setIn(['suggestions', 'items'], ImmutableList(action.accounts.map(item => item.id)));\n  case PINNED_ACCOUNTS_EDITOR_SUGGESTIONS_CLEAR:\n    return state.update('suggestions', suggestions => suggestions.withMutations(map => {\n      map.set('items', ImmutableList());\n      map.set('value', '');\n    }));\n  case ACCOUNT_PIN_SUCCESS:\n    return state.updateIn(['accounts', 'items'], list => list.unshift(action.relationship.id));\n  case ACCOUNT_UNPIN_SUCCESS:\n    return state.updateIn(['accounts', 'items'], list => list.filterNot(item => item === action.relationship.id));\n  default:\n    return state;\n  }\n};\n","import { POLLS_IMPORT } from 'flavours/glitch/actions/importer';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst importPolls = (state, polls) => state.withMutations(map => polls.forEach(poll => map.set(poll.id, fromJS(poll))));\n\nconst initialState = ImmutableMap();\n\nexport default function polls(state = initialState, action) {\n  switch(action.type) {\n  case POLLS_IMPORT:\n    return importPolls(state, action.polls);\n  default:\n    return state;\n  }\n}\n","import { TRENDS_FETCH_REQUEST, TRENDS_FETCH_SUCCESS, TRENDS_FETCH_FAIL } from '../actions/trends';\nimport { Map as ImmutableMap, List as ImmutableList, fromJS } from 'immutable';\n\nconst initialState = ImmutableMap({\n  items: ImmutableList(),\n  isLoading: false,\n});\n\nexport default function trendsReducer(state = initialState, action) {\n  switch(action.type) {\n  case TRENDS_FETCH_REQUEST:\n    return state.set('isLoading', true);\n  case TRENDS_FETCH_SUCCESS:\n    return state.withMutations(map => {\n      map.set('items', fromJS(action.trends));\n      map.set('isLoading', false);\n    });\n  case TRENDS_FETCH_FAIL:\n    return state.set('isLoading', false);\n  default:\n    return state;\n  }\n};\n","import {\n  ANNOUNCEMENTS_FETCH_REQUEST,\n  ANNOUNCEMENTS_FETCH_SUCCESS,\n  ANNOUNCEMENTS_FETCH_FAIL,\n  ANNOUNCEMENTS_UPDATE,\n  ANNOUNCEMENTS_REACTION_UPDATE,\n  ANNOUNCEMENTS_REACTION_ADD_REQUEST,\n  ANNOUNCEMENTS_REACTION_ADD_FAIL,\n  ANNOUNCEMENTS_REACTION_REMOVE_REQUEST,\n  ANNOUNCEMENTS_REACTION_REMOVE_FAIL,\n  ANNOUNCEMENTS_TOGGLE_SHOW,\n  ANNOUNCEMENTS_DELETE,\n  ANNOUNCEMENTS_DISMISS_SUCCESS,\n} from '../actions/announcements';\nimport { Map as ImmutableMap, List as ImmutableList, fromJS } from 'immutable';\n\nconst initialState = ImmutableMap({\n  items: ImmutableList(),\n  isLoading: false,\n  show: false,\n});\n\nconst updateReaction = (state, id, name, updater) => state.update('items', list => list.map(announcement => {\n  if (announcement.get('id') === id) {\n    return announcement.update('reactions', reactions => {\n      const idx = reactions.findIndex(reaction => reaction.get('name') === name);\n\n      if (idx > -1) {\n        return reactions.update(idx, reaction => updater(reaction));\n      }\n\n      return reactions.push(updater(fromJS({ name, count: 0 })));\n    });\n  }\n\n  return announcement;\n}));\n\nconst updateReactionCount = (state, reaction) => updateReaction(state, reaction.announcement_id, reaction.name, x => x.set('count', reaction.count));\n\nconst addReaction = (state, id, name) => updateReaction(state, id, name, x => x.set('me', true).update('count', y => y + 1));\n\nconst removeReaction = (state, id, name) => updateReaction(state, id, name, x => x.set('me', false).update('count', y => y - 1));\n\nconst sortAnnouncements = list => list.sortBy(x => x.get('starts_at') || x.get('published_at'));\n\nconst updateAnnouncement = (state, announcement) => {\n  const idx = state.get('items').findIndex(x => x.get('id') === announcement.get('id'));\n\n  if (idx > -1) {\n    // Deep merge is used because announcements from the streaming API do not contain\n    // personalized data about which reactions have been selected by the given user,\n    // and that is information we want to preserve\n    return state.update('items', list => sortAnnouncements(list.update(idx, x => x.mergeDeep(announcement))));\n  }\n\n  return state.update('items', list => sortAnnouncements(list.unshift(announcement)));\n};\n\nexport default function announcementsReducer(state = initialState, action) {\n  switch(action.type) {\n  case ANNOUNCEMENTS_TOGGLE_SHOW:\n    return state.withMutations(map => {\n      map.set('show', !map.get('show'));\n    });\n  case ANNOUNCEMENTS_FETCH_REQUEST:\n    return state.set('isLoading', true);\n  case ANNOUNCEMENTS_FETCH_SUCCESS:\n    return state.withMutations(map => {\n      const items = fromJS(action.announcements);\n\n      map.set('items', items);\n      map.set('isLoading', false);\n    });\n  case ANNOUNCEMENTS_FETCH_FAIL:\n    return state.set('isLoading', false);\n  case ANNOUNCEMENTS_UPDATE:\n    return updateAnnouncement(state, fromJS(action.announcement));\n  case ANNOUNCEMENTS_REACTION_UPDATE:\n    return updateReactionCount(state, action.reaction);\n  case ANNOUNCEMENTS_REACTION_ADD_REQUEST:\n  case ANNOUNCEMENTS_REACTION_REMOVE_FAIL:\n    return addReaction(state, action.id, action.name);\n  case ANNOUNCEMENTS_REACTION_REMOVE_REQUEST:\n  case ANNOUNCEMENTS_REACTION_ADD_FAIL:\n    return removeReaction(state, action.id, action.name);\n  case ANNOUNCEMENTS_DISMISS_SUCCESS:\n    return updateAnnouncement(state, fromJS({ 'id': action.id, 'read': true }));\n  case ANNOUNCEMENTS_DELETE:\n    return state.update('items', list => {\n      const idx = list.findIndex(x => x.get('id') === action.id);\n\n      if (idx > -1) {\n        return list.delete(idx);\n      }\n\n      return list;\n    });\n  default:\n    return state;\n  }\n};\n","import {\n  MARKERS_SUBMIT_SUCCESS,\n} from '../actions/markers';\n\nconst initialState = ImmutableMap({\n  home: '0',\n  notifications: '0',\n});\n\nimport { Map as ImmutableMap } from 'immutable';\n\nexport default function markers(state = initialState, action) {\n  switch(action.type) {\n  case MARKERS_SUBMIT_SUCCESS:\n    if (action.home) {\n      state = state.set('home', action.home);\n    }\n    if (action.notifications) {\n      state = state.set('notifications', action.notifications);\n    }\n    return state;\n  default:\n    return state;\n  }\n};\n","import { Map as ImmutableMap } from 'immutable';\n\nimport {\n  ACCOUNT_NOTE_INIT_EDIT,\n  ACCOUNT_NOTE_CANCEL,\n  ACCOUNT_NOTE_CHANGE_COMMENT,\n  ACCOUNT_NOTE_SUBMIT_REQUEST,\n  ACCOUNT_NOTE_SUBMIT_FAIL,\n  ACCOUNT_NOTE_SUBMIT_SUCCESS,\n} from '../actions/account_notes';\n\nconst initialState = ImmutableMap({\n  edit: ImmutableMap({\n    isSubmitting: false,\n    account_id: null,\n    comment: null,\n  }),\n});\n\nexport default function account_notes(state = initialState, action) {\n  switch (action.type) {\n  case ACCOUNT_NOTE_INIT_EDIT:\n    return state.withMutations((state) => {\n      state.setIn(['edit', 'isSubmitting'], false);\n      state.setIn(['edit', 'account_id'], action.account.get('id'));\n      state.setIn(['edit', 'comment'], action.comment);\n    });\n  case ACCOUNT_NOTE_CHANGE_COMMENT:\n    return state.setIn(['edit', 'comment'], action.comment);\n  case ACCOUNT_NOTE_SUBMIT_REQUEST:\n    return state.setIn(['edit', 'isSubmitting'], true);\n  case ACCOUNT_NOTE_SUBMIT_FAIL:\n    return state.setIn(['edit', 'isSubmitting'], false);\n  case ACCOUNT_NOTE_SUBMIT_SUCCESS:\n  case ACCOUNT_NOTE_CANCEL:\n    return state.withMutations((state) => {\n      state.setIn(['edit', 'isSubmitting'], false);\n      state.setIn(['edit', 'account_id'], null);\n      state.setIn(['edit', 'comment'], null);\n    });\n  default:\n    return state;\n  }\n}\n","import { PICTURE_IN_PICTURE_DEPLOY, PICTURE_IN_PICTURE_REMOVE } from 'flavours/glitch/actions/picture_in_picture';\nimport { TIMELINE_DELETE } from 'flavours/glitch/actions/timelines';\n\nconst initialState = {\n  statusId: null,\n  accountId: null,\n  type: null,\n  src: null,\n  muted: false,\n  volume: 0,\n  currentTime: 0,\n};\n\nexport default function pictureInPicture(state = initialState, action) {\n  switch(action.type) {\n  case PICTURE_IN_PICTURE_DEPLOY:\n    return { statusId: action.statusId, accountId: action.accountId, type: action.playerType, ...action.props };\n  case PICTURE_IN_PICTURE_REMOVE:\n    return { ...initialState };\n  case TIMELINE_DELETE:\n    return (state.statusId === action.id) ? { ...initialState } : state;\n  default:\n    return state;\n  }\n};\n","import { ACCOUNT_IMPORT, ACCOUNTS_IMPORT } from '../actions/importer';\nimport { Map as ImmutableMap } from 'immutable';\n\nconst initialState = ImmutableMap();\n\nexport default function accountsMap(state = initialState, action) {\n  switch(action.type) {\n  case ACCOUNT_IMPORT:\n    return state.set(action.account.acct, action.account.id);\n  case ACCOUNTS_IMPORT:\n    return state.withMutations(map => action.accounts.forEach(account => map.set(account.acct, account.id)));\n  default:\n    return state;\n  }\n};\n","import { HISTORY_FETCH_REQUEST, HISTORY_FETCH_SUCCESS, HISTORY_FETCH_FAIL } from 'flavours/glitch/actions/history';\nimport { Map as ImmutableMap, List as ImmutableList, fromJS } from 'immutable';\n\nconst initialHistory = ImmutableMap({\n  loading: false,\n  items: ImmutableList(),\n});\n\nconst initialState = ImmutableMap();\n\nexport default function history(state = initialState, action) {\n  switch(action.type) {\n  case HISTORY_FETCH_REQUEST:\n    return state.update(action.statusId, initialHistory, history => history.withMutations(map => {\n      map.set('loading', true);\n      map.set('items', ImmutableList());\n    }));\n  case HISTORY_FETCH_SUCCESS:\n    return state.update(action.statusId, initialHistory, history => history.withMutations(map => {\n      map.set('loading', false);\n      map.set('items', fromJS(action.history.map((x, i) => ({ ...x, account: x.account.id, original: i === 0 })).reverse()));\n    }));\n  case HISTORY_FETCH_FAIL:\n    return state.update(action.statusId, initialHistory, history => history.set('loading', false));\n  default:\n    return state;\n  }\n}\n","import {\n  HASHTAG_FETCH_SUCCESS,\n  HASHTAG_FOLLOW_REQUEST,\n  HASHTAG_FOLLOW_FAIL,\n  HASHTAG_UNFOLLOW_REQUEST,\n  HASHTAG_UNFOLLOW_FAIL,\n} from 'mastodon/actions/tags';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst initialState = ImmutableMap();\n\nexport default function tags(state = initialState, action) {\n  switch(action.type) {\n  case HASHTAG_FETCH_SUCCESS:\n    return state.set(action.name, fromJS(action.tag));\n  case HASHTAG_FOLLOW_REQUEST:\n  case HASHTAG_UNFOLLOW_FAIL:\n    return state.setIn([action.name, 'following'], true);\n  case HASHTAG_FOLLOW_FAIL:\n  case HASHTAG_UNFOLLOW_REQUEST:\n    return state.setIn([action.name, 'following'], false);\n  default:\n    return state;\n  }\n};\n","import { combineReducers } from 'redux-immutable';\nimport dropdown_menu from './dropdown_menu';\nimport timelines from './timelines';\nimport meta from './meta';\nimport alerts from './alerts';\nimport { loadingBarReducer } from 'react-redux-loading-bar';\nimport modal from './modal';\nimport user_lists from './user_lists';\nimport domain_lists from './domain_lists';\nimport accounts from './accounts';\nimport accounts_counters from './accounts_counters';\nimport statuses from './statuses';\nimport relationships from './relationships';\nimport settings from './settings';\nimport local_settings from './local_settings';\nimport push_notifications from './push_notifications';\nimport status_lists from './status_lists';\nimport mutes from './mutes';\nimport blocks from './blocks';\nimport rules from './rules';\nimport boosts from './boosts';\nimport contexts from './contexts';\nimport compose from './compose';\nimport search from './search';\nimport media_attachments from './media_attachments';\nimport notifications from './notifications';\nimport height_cache from './height_cache';\nimport custom_emojis from './custom_emojis';\nimport lists from './lists';\nimport listEditor from './list_editor';\nimport listAdder from './list_adder';\nimport filters from './filters';\nimport conversations from './conversations';\nimport suggestions from './suggestions';\nimport pinnedAccountsEditor from './pinned_accounts_editor';\nimport polls from './polls';\nimport trends from './trends';\nimport announcements from './announcements';\nimport markers from './markers';\nimport account_notes from './account_notes';\nimport picture_in_picture from './picture_in_picture';\nimport accounts_map from './accounts_map';\nimport history from './history';\nimport tags from './tags';\n\nconst reducers = {\n  announcements,\n  dropdown_menu,\n  timelines,\n  meta,\n  alerts,\n  loadingBar: loadingBarReducer,\n  modal,\n  user_lists,\n  domain_lists,\n  status_lists,\n  accounts,\n  accounts_counters,\n  accounts_map,\n  statuses,\n  relationships,\n  settings,\n  local_settings,\n  push_notifications,\n  mutes,\n  blocks,\n  rules,\n  boosts,\n  contexts,\n  compose,\n  search,\n  media_attachments,\n  notifications,\n  height_cache,\n  custom_emojis,\n  lists,\n  listEditor,\n  listAdder,\n  filters,\n  conversations,\n  suggestions,\n  pinnedAccountsEditor,\n  polls,\n  trends,\n  markers,\n  account_notes,\n  picture_in_picture,\n  history,\n  tags,\n};\n\nexport default combineReducers(reducers);\n","import { FILTERS_FETCH_SUCCESS } from '../actions/filters';\nimport { List as ImmutableList, fromJS } from 'immutable';\n\nexport default function filters(state = ImmutableList(), action) {\n  switch(action.type) {\n  case FILTERS_FETCH_SUCCESS:\n    return fromJS(action.filters);\n  default:\n    return state;\n  }\n};\n","import { showLoading, hideLoading } from 'react-redux-loading-bar';\n\nconst defaultTypeSuffixes = ['PENDING', 'FULFILLED', 'REJECTED'];\n\nexport default function loadingBarMiddleware(config = {}) {\n  const promiseTypeSuffixes = config.promiseTypeSuffixes || defaultTypeSuffixes;\n\n  return ({ dispatch }) => next => (action) => {\n    if (action.type && !action.skipLoading) {\n      const [PENDING, FULFILLED, REJECTED] = promiseTypeSuffixes;\n\n      const isPending = new RegExp(`${PENDING}$`, 'g');\n      const isFulfilled = new RegExp(`${FULFILLED}$`, 'g');\n      const isRejected = new RegExp(`${REJECTED}$`, 'g');\n\n      if (action.type.match(isPending)) {\n        dispatch(showLoading());\n      } else if (action.type.match(isFulfilled) || action.type.match(isRejected)) {\n        dispatch(hideLoading());\n      }\n    }\n\n    return next(action);\n  };\n};\n","const createAudio = sources => {\n  const audio = new Audio();\n  sources.forEach(({ type, src }) => {\n    const source = document.createElement('source');\n    source.type = type;\n    source.src = src;\n    audio.appendChild(source);\n  });\n  return audio;\n};\n\nconst play = audio => {\n  if (!audio.paused) {\n    audio.pause();\n    if (typeof audio.fastSeek === 'function') {\n      audio.fastSeek(0);\n    } else {\n      audio.currentTime = 0;\n    }\n  }\n\n  audio.play();\n};\n\nexport default function soundsMiddleware() {\n  const soundCache = {\n    boop: createAudio([\n      {\n        src: '/sounds/boop.ogg',\n        type: 'audio/ogg',\n      },\n      {\n        src: '/sounds/boop.mp3',\n        type: 'audio/mpeg',\n      },\n    ]),\n  };\n\n  return () => next => action => {\n    if (action.meta && action.meta.sound && soundCache[action.meta.sound]) {\n      play(soundCache[action.meta.sound]);\n    }\n\n    return next(action);\n  };\n};\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport appReducer from '../reducers';\nimport loadingBarMiddleware from '../middleware/loading_bar';\nimport errorsMiddleware from '../middleware/errors';\nimport soundsMiddleware from '../middleware/sounds';\n\nexport default function configureStore() {\n  return createStore(appReducer, compose(applyMiddleware(\n    thunk,\n    loadingBarMiddleware({ promiseTypeSuffixes: ['REQUEST', 'SUCCESS', 'FAIL'] }),\n    errorsMiddleware(),\n    soundsMiddleware(),\n  ), window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f));\n};\n","import { showAlertForError } from 'flavours/glitch/actions/alerts';\n\nconst defaultFailSuffix = 'FAIL';\n\nexport default function errorsMiddleware() {\n  return ({ dispatch }) => next => action => {\n    if (action.type && !action.skipAlert) {\n      const isFail = new RegExp(`${defaultFailSuffix}$`, 'g');\n\n      if (action.type.match(isFail)) {\n        dispatch(showAlertForError(action.error, action.skipNotFound));\n      }\n    }\n\n    return next(action);\n  };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl } from 'react-intl';\n\nimport IconButton from 'flavours/glitch/components/icon_button';\n\nconst messages = defineMessages({\n  error: { id: 'bundle_modal_error.message', defaultMessage: 'Something went wrong while loading this component.' },\n  retry: { id: 'bundle_modal_error.retry', defaultMessage: 'Try again' },\n  close: { id: 'bundle_modal_error.close', defaultMessage: 'Close' },\n});\n\nclass BundleModalError extends React.Component {\n\n  static propTypes = {\n    onRetry: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  }\n\n  handleRetry = () => {\n    this.props.onRetry();\n  }\n\n  render () {\n    const { onClose, intl: { formatMessage } } = this.props;\n\n    // Keep the markup in sync with <ModalLoading />\n    // (make sure they have the same dimensions)\n    return (\n      <div className='modal-root__modal error-modal'>\n        <div className='error-modal__body'>\n          <IconButton title={formatMessage(messages.retry)} icon='refresh' onClick={this.handleRetry} size={64} />\n          {formatMessage(messages.error)}\n        </div>\n\n        <div className='error-modal__footer'>\n          <div>\n            <button\n              onClick={onClose}\n              className='error-modal__nav onboarding-modal__skip'\n            >\n              {formatMessage(messages.close)}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default injectIntl(BundleModalError);\n","import React from 'react';\n\nimport LoadingIndicator from 'flavours/glitch/components/loading_indicator';\n\n// Keep the markup in sync with <BundleModalError />\n// (make sure they have the same dimensions)\nconst ModalLoading = () => (\n  <div className='modal-root__modal error-modal'>\n    <div className='error-modal__body'>\n      <LoadingIndicator />\n    </div>\n    <div className='error-modal__footer'>\n      <div>\n        <button className='error-modal__nav onboarding-modal__skip' />\n      </div>\n    </div>\n  </div>\n);\n\nexport default ModalLoading;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport StatusContent from 'flavours/glitch/components/status_content';\nimport Avatar from 'flavours/glitch/components/avatar';\nimport RelativeTimestamp from 'flavours/glitch/components/relative_timestamp';\nimport DisplayName from 'flavours/glitch/components/display_name';\nimport classNames from 'classnames';\nimport IconButton from 'flavours/glitch/components/icon_button';\n\nexport default class ActionsModal extends ImmutablePureComponent {\n\n  static propTypes = {\n    status: ImmutablePropTypes.map,\n    onClick: PropTypes.func,\n    actions: PropTypes.arrayOf(PropTypes.shape({\n      active: PropTypes.bool,\n      href: PropTypes.string,\n      icon: PropTypes.string,\n      meta: PropTypes.string,\n      name: PropTypes.string,\n      text: PropTypes.string,\n    })),\n    renderItemContents: PropTypes.func,\n  };\n\n  renderAction = (action, i) => {\n    if (action === null) {\n      return <li key={`sep-${i}`} className='dropdown-menu__separator' />;\n    }\n\n    const { icon = null, text, meta = null, active = false, href = '#' } = action;\n    let contents = this.props.renderItemContents && this.props.renderItemContents(action, i);\n\n    if (!contents) {\n      contents = (\n        <React.Fragment>\n          {icon && <IconButton title={text} icon={icon} role='presentation' tabIndex='-1' inverted />}\n          <div>\n            <div className={classNames({ 'actions-modal__item-label': !!meta })}>{text}</div>\n            <div>{meta}</div>\n          </div>\n        </React.Fragment>\n      );\n    }\n\n    return (\n      <li key={`${text}-${i}`}>\n        <a href={href} target='_blank' rel='noopener noreferrer' onClick={this.props.onClick} data-index={i} className={classNames('link', { active })}>\n          {contents}\n        </a>\n      </li>\n    );\n  }\n\n  render () {\n    const status = this.props.status && (\n      <div className='status light'>\n        <div className='boost-modal__status-header'>\n          <div className='boost-modal__status-time'>\n            <a href={this.props.status.get('url')} className='status__relative-time' target='_blank' rel='noopener noreferrer'>\n              <RelativeTimestamp timestamp={this.props.status.get('created_at')} />\n            </a>\n          </div>\n\n          <a href={this.props.status.getIn(['account', 'url'])} className='status__display-name' rel='noopener noreferrer'>\n            <div className='status__avatar'>\n              <Avatar account={this.props.status.get('account')} size={48} />\n            </div>\n\n            <DisplayName account={this.props.status.get('account')} />\n          </a>\n        </div>\n\n        <StatusContent status={this.props.status} />\n      </div>\n    );\n\n    return (\n      <div className='modal-root__modal actions-modal'>\n        {status}\n\n        <ul className={classNames({ 'with-status': !!status })}>\n          {this.props.actions.map(this.renderAction)}\n        </ul>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport Video from 'flavours/glitch/features/video';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport Footer from 'flavours/glitch/features/picture_in_picture/components/footer';\nimport { getAverageFromBlurhash } from 'flavours/glitch/blurhash';\n\nexport default class VideoModal extends ImmutablePureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object,\n  };\n\n  static propTypes = {\n    media: ImmutablePropTypes.map.isRequired,\n    statusId: PropTypes.string,\n    options: PropTypes.shape({\n      startTime: PropTypes.number,\n      autoPlay: PropTypes.bool,\n      defaultVolume: PropTypes.number,\n    }),\n    onClose: PropTypes.func.isRequired,\n    onChangeBackgroundColor: PropTypes.func.isRequired,\n  };\n\n  componentDidMount () {\n    const { media, onChangeBackgroundColor, onClose } = this.props;\n\n    const backgroundColor = getAverageFromBlurhash(media.get('blurhash'));\n\n    if (backgroundColor) {\n      onChangeBackgroundColor(backgroundColor);\n    }\n  }\n\n  render () {\n    const { media, statusId, onClose } = this.props;\n    const options = this.props.options || {};\n\n    return (\n      <div className='modal-root__modal video-modal'>\n        <div className='video-modal__container'>\n          <Video\n            preview={media.get('preview_url')}\n            frameRate={media.getIn(['meta', 'original', 'frame_rate'])}\n            blurhash={media.get('blurhash')}\n            src={media.get('url')}\n            currentTime={options.startTime}\n            autoPlay={options.autoPlay}\n            volume={options.defaultVolume}\n            onCloseVideo={onClose}\n            detailed\n            alt={media.get('description')}\n          />\n        </div>\n\n        <div className='media-modal__overlay'>\n          {statusId && <Footer statusId={statusId} withOpenButton onClose={onClose} />}\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport Button from 'flavours/glitch/components/button';\nimport StatusContent from 'flavours/glitch/components/status_content';\nimport Avatar from 'flavours/glitch/components/avatar';\nimport RelativeTimestamp from 'flavours/glitch/components/relative_timestamp';\nimport DisplayName from 'flavours/glitch/components/display_name';\nimport AttachmentList from 'flavours/glitch/components/attachment_list';\nimport Icon from 'flavours/glitch/components/icon';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport PrivacyDropdown from 'flavours/glitch/features/compose/components/privacy_dropdown';\nimport classNames from 'classnames';\nimport { changeBoostPrivacy } from 'flavours/glitch/actions/boosts';\nimport VisibilityIcon from 'flavours/glitch/components/status_visibility_icon';\n\nconst messages = defineMessages({\n  cancel_reblog: { id: 'status.cancel_reblog_private', defaultMessage: 'Unboost' },\n  reblog: { id: 'status.reblog', defaultMessage: 'Boost' },\n});\n\nconst mapStateToProps = state => {\n  return {\n    privacy: state.getIn(['boosts', 'new', 'privacy']),\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChangeBoostPrivacy(value) {\n      dispatch(changeBoostPrivacy(value));\n    },\n  };\n};\n\nexport default @connect(mapStateToProps, mapDispatchToProps)\n@injectIntl\nclass BoostModal extends ImmutablePureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object,\n  };\n\n  static propTypes = {\n    status: ImmutablePropTypes.map.isRequired,\n    onReblog: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    missingMediaDescription: PropTypes.bool,\n    intl: PropTypes.object.isRequired,\n  };\n\n  componentDidMount() {\n    this.button.focus();\n  }\n\n  handleReblog = () => {\n    this.props.onReblog(this.props.status, this.props.privacy);\n    this.props.onClose();\n  }\n\n  handleAccountClick = (e) => {\n    if (e.button === 0) {\n      e.preventDefault();\n      this.props.onClose();\n      let state = {...this.context.router.history.location.state};\n      state.mastodonBackSteps = (state.mastodonBackSteps || 0) + 1;\n      this.context.router.history.push(`/@${this.props.status.getIn(['account', 'acct'])}`, state);\n    }\n  }\n\n  _findContainer = () => {\n    return document.getElementsByClassName('modal-root__container')[0];\n  };\n\n  setRef = (c) => {\n    this.button = c;\n  }\n\n  render () {\n    const { status, missingMediaDescription, privacy, intl } = this.props;\n    const buttonText = status.get('reblogged') ? messages.cancel_reblog : messages.reblog;\n\n    return (\n      <div className='modal-root__modal boost-modal'>\n        <div className='boost-modal__container'>\n          <div className={classNames('status', `status-${status.get('visibility')}`, 'light')}>\n            <div className='boost-modal__status-header'>\n              <div className='boost-modal__status-time'>\n                <a href={status.get('url')} className='status__relative-time' target='_blank' rel='noopener noreferrer'>\n                  <VisibilityIcon visibility={status.get('visibility')} />\n                  <RelativeTimestamp timestamp={status.get('created_at')} /></a>\n              </div>\n\n              <a onClick={this.handleAccountClick} href={status.getIn(['account', 'url'])} className='status__display-name'>\n                <div className='status__avatar'>\n                  <Avatar account={status.get('account')} size={48} />\n                </div>\n\n                <DisplayName account={status.get('account')} />\n              </a>\n            </div>\n\n            <StatusContent status={status} />\n\n            {status.get('media_attachments').size > 0 && (\n              <AttachmentList\n                compact\n                media={status.get('media_attachments')}\n              />\n            )}\n          </div>\n        </div>\n\n        <div className='boost-modal__action-bar'>\n          <div>\n            { missingMediaDescription ?\n                <FormattedMessage id='boost_modal.missing_description' defaultMessage='This toot contains some media without description' />\n              :\n                <FormattedMessage id='boost_modal.combo' defaultMessage='You can press {combo} to skip this next time' values={{ combo: <span>Shift + <Icon id='retweet' /></span> }} />\n            }\n          </div>\n\n          {status.get('visibility') !== 'private' && !status.get('reblogged') && (\n            <PrivacyDropdown\n              noDirect\n              value={privacy}\n              container={this._findContainer}\n              onChange={this.props.onChangeBoostPrivacy}\n            />\n          )}\n          <Button text={intl.formatMessage(buttonText)} onClick={this.handleReblog} ref={this.setRef} />\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport Button from 'flavours/glitch/components/button';\nimport StatusContent from 'flavours/glitch/components/status_content';\nimport Avatar from 'flavours/glitch/components/avatar';\nimport RelativeTimestamp from 'flavours/glitch/components/relative_timestamp';\nimport DisplayName from 'flavours/glitch/components/display_name';\nimport AttachmentList from 'flavours/glitch/components/attachment_list';\nimport Icon from 'flavours/glitch/components/icon';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport classNames from 'classnames';\nimport VisibilityIcon from 'flavours/glitch/components/status_visibility_icon';\n\nconst messages = defineMessages({\n  favourite: { id: 'status.favourite', defaultMessage: 'Favourite' },\n});\n\nexport default @injectIntl\nclass FavouriteModal extends ImmutablePureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object,\n  };\n\n  static propTypes = {\n    status: ImmutablePropTypes.map.isRequired,\n    onFavourite: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  componentDidMount() {\n    this.button.focus();\n  }\n\n  handleFavourite = () => {\n    this.props.onFavourite(this.props.status);\n    this.props.onClose();\n  }\n\n  handleAccountClick = (e) => {\n    if (e.button === 0) {\n      e.preventDefault();\n      this.props.onClose();\n      let state = {...this.context.router.history.location.state};\n      state.mastodonBackSteps = (state.mastodonBackSteps || 0) + 1;\n      this.context.router.history.push(`/@${this.props.status.getIn(['account', 'acct'])}`, state);\n    }\n  }\n\n  setRef = (c) => {\n    this.button = c;\n  }\n\n  render () {\n    const { status, intl } = this.props;\n\n    return (\n      <div className='modal-root__modal favourite-modal'>\n        <div className='favourite-modal__container'>\n          <div className={classNames('status', `status-${status.get('visibility')}`, 'light')}>\n            <div className='favourite-modal__status-header'>\n              <div className='favourite-modal__status-time'>\n                <a href={status.get('url')} className='status__relative-time' target='_blank' rel='noopener noreferrer'>\n                  <VisibilityIcon visibility={status.get('visibility')} />\n                  <RelativeTimestamp timestamp={status.get('created_at')} />\n                </a>\n              </div>\n\n              <a onClick={this.handleAccountClick} href={status.getIn(['account', 'url'])} className='status__display-name'>\n                <div className='status__avatar'>\n                  <Avatar account={status.get('account')} size={48} />\n                </div>\n\n                <DisplayName account={status.get('account')} />\n\n              </a>\n            </div>\n\n            <StatusContent status={status} />\n\n            {status.get('media_attachments').size > 0 && (\n              <AttachmentList\n                compact\n                media={status.get('media_attachments')}\n              />\n            )}\n          </div>\n        </div>\n\n        <div className='favourite-modal__action-bar'>\n          <div><FormattedMessage id='favourite_modal.combo' defaultMessage='You can press {combo} to skip this next time' values={{ combo: <span>Shift + <Icon id='star' /></span> }} /></div>\n          <Button text={intl.formatMessage(messages.favourite)} onClick={this.handleFavourite} ref={this.setRef} />\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport Audio from 'flavours/glitch/features/audio';\nimport { connect } from 'react-redux';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport Footer from 'flavours/glitch/features/picture_in_picture/components/footer';\n\nconst mapStateToProps = (state, { statusId }) => ({\n  accountStaticAvatar: state.getIn(['accounts', state.getIn(['statuses', statusId, 'account']), 'avatar_static']),\n});\n\nexport default @connect(mapStateToProps)\nclass AudioModal extends ImmutablePureComponent {\n\n  static propTypes = {\n    media: ImmutablePropTypes.map.isRequired,\n    statusId: PropTypes.string.isRequired,\n    accountStaticAvatar: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      autoPlay: PropTypes.bool,\n    }),\n    onClose: PropTypes.func.isRequired,\n    onChangeBackgroundColor: PropTypes.func.isRequired,\n  };\n\n  static contextTypes = {\n    router: PropTypes.object,\n  };\n\n  render () {\n    const { media, accountStaticAvatar, statusId, onClose } = this.props;\n    const options = this.props.options || {};\n\n    return (\n      <div className='modal-root__modal audio-modal'>\n        <div className='audio-modal__container'>\n          <Audio\n            src={media.get('url')}\n            alt={media.get('description')}\n            duration={media.getIn(['meta', 'original', 'duration'], 0)}\n            height={150}\n            poster={media.get('preview_url') || accountStaticAvatar}\n            backgroundColor={media.getIn(['meta', 'colors', 'background'])}\n            foregroundColor={media.getIn(['meta', 'colors', 'foreground'])}\n            accentColor={media.getIn(['meta', 'colors', 'accent'])}\n            autoPlay={options.autoPlay}\n          />\n        </div>\n\n        <div className='media-modal__overlay'>\n          {statusId && <Footer statusId={statusId} withOpenButton onClose={onClose} />}\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'flavours/glitch/components/button';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport Atrament from 'atrament'; // the doodling library\nimport { connect } from 'react-redux';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { doodleSet, uploadCompose } from 'flavours/glitch/actions/compose';\nimport IconButton from 'flavours/glitch/components/icon_button';\nimport { debounce, mapValues } from 'lodash';\nimport classNames from 'classnames';\n\n// palette nicked from MyPaint, CC0\nconst palette = [\n  ['rgb(  0,    0,    0)', 'Black'],\n  ['rgb( 38,   38,   38)', 'Gray 15'],\n  ['rgb( 77,   77,   77)', 'Grey 30'],\n  ['rgb(128,  128,  128)', 'Grey 50'],\n  ['rgb(171,  171,  171)', 'Grey 67'],\n  ['rgb(217,  217,  217)', 'Grey 85'],\n  ['rgb(255,  255,  255)', 'White'],\n  ['rgb(128,    0,    0)', 'Maroon'],\n  ['rgb(209,    0,    0)', 'English-red'],\n  ['rgb(255,   54,   34)', 'Tomato'],\n  ['rgb(252,   60,    3)', 'Orange-red'],\n  ['rgb(255,  140,  105)', 'Salmon'],\n  ['rgb(252,  232,   32)', 'Cadium-yellow'],\n  ['rgb(243,  253,   37)', 'Lemon yellow'],\n  ['rgb(121,    5,   35)', 'Dark crimson'],\n  ['rgb(169,   32,   62)', 'Deep carmine'],\n  ['rgb(255,  140,    0)', 'Orange'],\n  ['rgb(255,  168,   18)', 'Dark tangerine'],\n  ['rgb(217,  144,   88)', 'Persian orange'],\n  ['rgb(194,  178,  128)', 'Sand'],\n  ['rgb(255,  229,  180)', 'Peach'],\n  ['rgb(100,   54,   46)', 'Bole'],\n  ['rgb(108,   41,   52)', 'Dark cordovan'],\n  ['rgb(163,   65,   44)', 'Chestnut'],\n  ['rgb(228,  136,  100)', 'Dark salmon'],\n  ['rgb(255,  195,  143)', 'Apricot'],\n  ['rgb(255,  219,  188)', 'Unbleached silk'],\n  ['rgb(242,  227,  198)', 'Straw'],\n  ['rgb( 53,   19,   13)', 'Bistre'],\n  ['rgb( 84,   42,   14)', 'Dark chocolate'],\n  ['rgb(102,   51,   43)', 'Burnt sienna'],\n  ['rgb(184,   66,    0)', 'Sienna'],\n  ['rgb(216,  153,   12)', 'Yellow ochre'],\n  ['rgb(210,  180,  140)', 'Tan'],\n  ['rgb(232,  204,  144)', 'Dark wheat'],\n  ['rgb(  0,   49,   83)', 'Prussian blue'],\n  ['rgb( 48,   69,  119)', 'Dark grey blue'],\n  ['rgb(  0,   71,  171)', 'Cobalt blue'],\n  ['rgb( 31,  117,  254)', 'Blue'],\n  ['rgb(120,  180,  255)', 'Bright french blue'],\n  ['rgb(171,  200,  255)', 'Bright steel blue'],\n  ['rgb(208,  231,  255)', 'Ice blue'],\n  ['rgb( 30,   51,   58)', 'Medium jungle green'],\n  ['rgb( 47,   79,   79)', 'Dark slate grey'],\n  ['rgb( 74,  104,   93)', 'Dark grullo green'],\n  ['rgb(  0,  128,  128)', 'Teal'],\n  ['rgb( 67,  170,  176)', 'Turquoise'],\n  ['rgb(109,  174,  199)', 'Cerulean frost'],\n  ['rgb(173,  217,  186)', 'Tiffany green'],\n  ['rgb( 22,   34,   29)', 'Gray-asparagus'],\n  ['rgb( 36,   48,   45)', 'Medium dark teal'],\n  ['rgb( 74,  104,   93)', 'Xanadu'],\n  ['rgb(119,  198,  121)', 'Mint'],\n  ['rgb(175,  205,  182)', 'Timberwolf'],\n  ['rgb(185,  245,  246)', 'Celeste'],\n  ['rgb(193,  255,  234)', 'Aquamarine'],\n  ['rgb( 29,   52,   35)', 'Cal Poly Pomona'],\n  ['rgb(  1,   68,   33)', 'Forest green'],\n  ['rgb( 42,  128,    0)', 'Napier green'],\n  ['rgb(128,  128,    0)', 'Olive'],\n  ['rgb( 65,  156,  105)', 'Sea green'],\n  ['rgb(189,  246,   29)', 'Green-yellow'],\n  ['rgb(231,  244,  134)', 'Bright chartreuse'],\n  ['rgb(138,   23,  137)', 'Purple'],\n  ['rgb( 78,   39,  138)', 'Violet'],\n  ['rgb(193,   75,  110)', 'Dark thulian pink'],\n  ['rgb(222,   49,   99)', 'Cerise'],\n  ['rgb(255,   20,  147)', 'Deep pink'],\n  ['rgb(255,  102,  204)', 'Rose pink'],\n  ['rgb(255,  203,  219)', 'Pink'],\n  ['rgb(255,  255,  255)', 'White'],\n  ['rgb(229,   17,    1)', 'RGB Red'],\n  ['rgb(  0,  255,    0)', 'RGB Green'],\n  ['rgb(  0,    0,  255)', 'RGB Blue'],\n  ['rgb(  0,  255,  255)', 'CMYK Cyan'],\n  ['rgb(255,    0,  255)', 'CMYK Magenta'],\n  ['rgb(255,  255,    0)', 'CMYK Yellow'],\n];\n\n// re-arrange to the right order for display\nlet palReordered = [];\nfor (let row = 0; row < 7; row++) {\n  for (let col = 0; col < 11; col++) {\n    palReordered.push(palette[col * 7 + row]);\n  }\n  palReordered.push(null); // null indicates a <br />\n}\n\n// Utility for converting base64 image to binary for upload\n// https://stackoverflow.com/questions/35940290/how-to-convert-base64-string-to-javascript-file-object-like-as-from-file-input-f\nfunction dataURLtoFile(dataurl, filename) {\n  let arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n  while(n--){\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], filename, { type: mime });\n}\n/** Doodle canvas size options */\nconst DOODLE_SIZES = {\n  normal: [500, 500, 'Square 500'],\n  tootbanner: [702, 330, 'Tootbanner'],\n  s640x480: [640, 480, '640480 - 480p'],\n  s800x600: [800, 600, '800600 - SVGA'],\n  s720x480: [720, 405, '720x405 - 16:9'],\n};\n\n\nconst mapStateToProps = state => ({\n  options: state.getIn(['compose', 'doodle']),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  /** Set options in the redux store */\n  setOpt: (opts) => dispatch(doodleSet(opts)),\n  /** Submit doodle for upload */\n  submit: (file) => dispatch(uploadCompose([file])),\n});\n\n/**\n * Doodling dialog with drawing canvas\n *\n * Keyboard shortcuts:\n * - Delete: Clear screen, fill with background color\n * - Backspace, Ctrl+Z: Undo one step\n * - Ctrl held while drawing: Use background color\n * - Shift held while clicking screen: Use fill tool\n *\n * Palette:\n * - Left mouse button: pick foreground\n * - Ctrl + left mouse button: pick background\n * - Right mouse button: pick background\n */\nexport default @connect(mapStateToProps, mapDispatchToProps)\nclass DoodleModal extends ImmutablePureComponent {\n\n  static propTypes = {\n    options: ImmutablePropTypes.map,\n    onClose: PropTypes.func.isRequired,\n    setOpt: PropTypes.func.isRequired,\n    submit: PropTypes.func.isRequired,\n  };\n\n  //region Option getters/setters\n\n  /** Foreground color */\n  get fg () {\n    return this.props.options.get('fg');\n  }\n  set fg (value) {\n    this.props.setOpt({ fg: value });\n  }\n\n  /** Background color */\n  get bg () {\n    return this.props.options.get('bg');\n  }\n  set bg (value) {\n    this.props.setOpt({ bg: value });\n  }\n\n  /** Swap Fg and Bg for drawing */\n  get swapped () {\n    return this.props.options.get('swapped');\n  }\n  set swapped (value) {\n    this.props.setOpt({ swapped: value });\n  }\n\n  /** Mode - 'draw' or 'fill' */\n  get mode () {\n    return this.props.options.get('mode');\n  }\n  set mode (value) {\n    this.props.setOpt({ mode: value });\n  }\n\n  /** Base line weight */\n  get weight () {\n    return this.props.options.get('weight');\n  }\n  set weight (value) {\n    this.props.setOpt({ weight: value });\n  }\n\n  /** Drawing opacity */\n  get opacity () {\n    return this.props.options.get('opacity');\n  }\n  set opacity (value) {\n    this.props.setOpt({ opacity: value });\n  }\n\n  /** Adaptive stroke - change width with speed */\n  get adaptiveStroke () {\n    return this.props.options.get('adaptiveStroke');\n  }\n  set adaptiveStroke (value) {\n    this.props.setOpt({ adaptiveStroke: value });\n  }\n\n  /** Smoothing (for mouse drawing) */\n  get smoothing () {\n    return this.props.options.get('smoothing');\n  }\n  set smoothing (value) {\n    this.props.setOpt({ smoothing: value });\n  }\n\n  /** Size preset */\n  get size () {\n    return this.props.options.get('size');\n  }\n  set size (value) {\n    this.props.setOpt({ size: value });\n  }\n\n  //endregion\n\n  /** Key up handler */\n  handleKeyUp = (e) => {\n    if (e.target.nodeName === 'INPUT') return;\n\n    if (e.key === 'Delete') {\n      e.preventDefault();\n      this.handleClearBtn();\n      return;\n    }\n\n    if (e.key === 'Backspace' || (e.key === 'z' && (e.ctrlKey || e.metaKey))) {\n      e.preventDefault();\n      this.undo();\n    }\n\n    if (e.key === 'Control' || e.key === 'Meta') {\n      this.controlHeld = false;\n      this.swapped = false;\n    }\n\n    if (e.key === 'Shift') {\n      this.shiftHeld = false;\n      this.mode = 'draw';\n    }\n  };\n\n  /** Key down handler */\n  handleKeyDown = (e) => {\n    if (e.key === 'Control' || e.key === 'Meta') {\n      this.controlHeld = true;\n      this.swapped = true;\n    }\n\n    if (e.key === 'Shift') {\n      this.shiftHeld = true;\n      this.mode = 'fill';\n    }\n  };\n\n  /**\n   * Component installed in the DOM, do some initial set-up\n   */\n  componentDidMount () {\n    this.controlHeld = false;\n    this.shiftHeld = false;\n    this.swapped = false;\n    window.addEventListener('keyup', this.handleKeyUp, false);\n    window.addEventListener('keydown', this.handleKeyDown, false);\n  };\n\n  /**\n   * Tear component down\n   */\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp, false);\n    window.removeEventListener('keydown', this.handleKeyDown, false);\n    if (this.sketcher) this.sketcher.destroy();\n  }\n\n  /**\n   * Set reference to the canvas element.\n   * This is called during component init\n   *\n   * @param elem - canvas element\n   */\n  setCanvasRef = (elem) => {\n    this.canvas = elem;\n    if (elem) {\n      elem.addEventListener('dirty', () => {\n        this.saveUndo();\n        this.sketcher._dirty = false;\n      });\n\n      elem.addEventListener('click', () => {\n        // sketcher bug - does not fire dirty on fill\n        if (this.mode === 'fill') {\n          this.saveUndo();\n        }\n      });\n\n      // prevent context menu\n      elem.addEventListener('contextmenu', (e) => {\n        e.preventDefault();\n      });\n\n      elem.addEventListener('mousedown', (e) => {\n        if (e.button === 2) {\n          this.swapped = true;\n        }\n      });\n\n      elem.addEventListener('mouseup', (e) => {\n        if (e.button === 2) {\n          this.swapped = this.controlHeld;\n        }\n      });\n\n      this.initSketcher(elem);\n      this.mode = 'draw'; // Reset mode - it's confusing if left at 'fill'\n    }\n  };\n\n  /**\n   * Set up the sketcher instance\n   *\n   * @param canvas - canvas element. Null if we're just resizing\n   */\n  initSketcher (canvas = null) {\n    const sizepreset = DOODLE_SIZES[this.size];\n\n    if (this.sketcher) this.sketcher.destroy();\n    this.sketcher = new Atrament(canvas || this.canvas, sizepreset[0], sizepreset[1]);\n\n    if (canvas) {\n      this.ctx = this.sketcher.context;\n      this.updateSketcherSettings();\n    }\n\n    this.clearScreen();\n  }\n\n  /**\n   * Done button handler\n   */\n  onDoneButton = () => {\n    const dataUrl = this.sketcher.toImage();\n    const file = dataURLtoFile(dataUrl, 'doodle.png');\n    this.props.submit(file);\n    this.props.onClose(); // close dialog\n  };\n\n  /**\n   * Cancel button handler\n   */\n  onCancelButton = () => {\n    if (this.undos.length > 1 && !confirm('Discard doodle? All changes will be lost!')) {\n      return;\n    }\n\n    this.props.onClose(); // close dialog\n  };\n\n  /**\n   * Update sketcher options based on state\n   */\n  updateSketcherSettings () {\n    if (!this.sketcher) return;\n\n    if (this.oldSize !== this.size) this.initSketcher();\n\n    this.sketcher.color = (this.swapped ? this.bg : this.fg);\n    this.sketcher.opacity = this.opacity;\n    this.sketcher.weight = this.weight;\n    this.sketcher.mode = this.mode;\n    this.sketcher.smoothing = this.smoothing;\n    this.sketcher.adaptiveStroke = this.adaptiveStroke;\n\n    this.oldSize = this.size;\n  }\n\n  /**\n   * Fill screen with background color\n   */\n  clearScreen = () => {\n    this.ctx.fillStyle = this.bg;\n    this.ctx.fillRect(-1, -1, this.canvas.width+2, this.canvas.height+2);\n    this.undos = [];\n\n    this.doSaveUndo();\n  };\n\n  /**\n   * Undo one step\n   */\n  undo = () => {\n    if (this.undos.length > 1) {\n      this.undos.pop();\n      const buf = this.undos.pop();\n\n      this.sketcher.clear();\n      this.ctx.putImageData(buf, 0, 0);\n      this.doSaveUndo();\n    }\n  };\n\n  /**\n   * Save canvas content into the undo buffer immediately\n   */\n  doSaveUndo = () => {\n    this.undos.push(this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height));\n  };\n\n  /**\n   * Called on each canvas change.\n   * Saves canvas content to the undo buffer after some period of inactivity.\n   */\n  saveUndo = debounce(() => {\n    this.doSaveUndo();\n  }, 100);\n\n  /**\n   * Palette left click.\n   * Selects Fg color (or Bg, if Control/Meta is held)\n   *\n   * @param e - event\n   */\n  onPaletteClick = (e) => {\n    const c = e.target.dataset.color;\n\n    if (this.controlHeld) {\n      this.bg = c;\n    } else {\n      this.fg = c;\n    }\n\n    e.target.blur();\n    e.preventDefault();\n  };\n\n  /**\n   * Palette right click.\n   * Selects Bg color\n   *\n   * @param e - event\n   */\n  onPaletteRClick = (e) => {\n    this.bg = e.target.dataset.color;\n    e.target.blur();\n    e.preventDefault();\n  };\n\n  /**\n   * Handle click on the Draw mode button\n   *\n   * @param e - event\n   */\n  setModeDraw = (e) => {\n    this.mode = 'draw';\n    e.target.blur();\n  };\n\n  /**\n   * Handle click on the Fill mode button\n   *\n   * @param e - event\n   */\n  setModeFill = (e) => {\n    this.mode = 'fill';\n    e.target.blur();\n  };\n\n  /**\n   * Handle click on Smooth checkbox\n   *\n   * @param e - event\n   */\n  tglSmooth = (e) => {\n    this.smoothing = !this.smoothing;\n    e.target.blur();\n  };\n\n  /**\n   * Handle click on Adaptive checkbox\n   *\n   * @param e - event\n   */\n  tglAdaptive = (e) => {\n    this.adaptiveStroke = !this.adaptiveStroke;\n    e.target.blur();\n  };\n\n  /**\n   * Handle change of the Weight input field\n   *\n   * @param e - event\n   */\n  setWeight = (e) => {\n    this.weight = +e.target.value || 1;\n  };\n\n  /**\n   * Set size - clalback from the select box\n   *\n   * @param e - event\n   */\n  changeSize = (e) => {\n    let newSize = e.target.value;\n    if (newSize === this.oldSize) return;\n\n    if (this.undos.length > 1 && !confirm('Change canvas size? This will erase your current drawing!')) {\n      return;\n    }\n\n    this.size = newSize;\n  };\n\n  handleClearBtn = () => {\n    if (this.undos.length > 1 && !confirm('Clear canvas? This will erase your current drawing!')) {\n      return;\n    }\n\n    this.clearScreen();\n  };\n\n  /**\n   * Render the component\n   */\n  render () {\n    this.updateSketcherSettings();\n\n    return (\n      <div className='modal-root__modal doodle-modal'>\n        <div className='doodle-modal__container'>\n          <canvas ref={this.setCanvasRef} />\n        </div>\n\n        <div className='doodle-modal__action-bar'>\n          <div className='doodle-toolbar'>\n            <Button text='Done' onClick={this.onDoneButton} />\n            <Button text='Cancel' onClick={this.onCancelButton} />\n          </div>\n          <div className='filler' />\n          <div className='doodle-toolbar with-inputs'>\n            <div>\n              <label htmlFor='dd_smoothing'>Smoothing</label>\n              <span className='val'>\n                <input type='checkbox' id='dd_smoothing' onChange={this.tglSmooth} checked={this.smoothing} />\n              </span>\n            </div>\n            <div>\n              <label htmlFor='dd_adaptive'>Adaptive</label>\n              <span className='val'>\n                <input type='checkbox' id='dd_adaptive' onChange={this.tglAdaptive} checked={this.adaptiveStroke} />\n              </span>\n            </div>\n            <div>\n              <label htmlFor='dd_weight'>Weight</label>\n              <span className='val'>\n                <input type='number' min={1} id='dd_weight' value={this.weight} onChange={this.setWeight} />\n              </span>\n            </div>\n            <div>\n              <select aria-label='Canvas size' onInput={this.changeSize} defaultValue={this.size}>\n                { Object.values(mapValues(DOODLE_SIZES, (val, k) =>\n                  <option key={k} value={k}>{val[2]}</option>\n                )) }\n              </select>\n            </div>\n          </div>\n          <div className='doodle-toolbar'>\n            <IconButton icon='pencil' title='Draw' label='Draw' onClick={this.setModeDraw} size={18} active={this.mode === 'draw'} inverted />\n            <IconButton icon='bath' title='Fill' label='Fill' onClick={this.setModeFill} size={18} active={this.mode === 'fill'} inverted />\n            <IconButton icon='undo' title='Undo' label='Undo' onClick={this.undo} size={18} inverted />\n            <IconButton icon='trash' title='Clear' label='Clear' onClick={this.handleClearBtn} size={18} inverted />\n          </div>\n          <div className='doodle-palette'>\n            {\n              palReordered.map((c, i) =>\n                c === null ?\n                  <br key={i} /> :\n                  <button\n                    key={i}\n                    style={{ backgroundColor: c[0] }}\n                    onClick={this.onPaletteClick}\n                    onContextMenu={this.onPaletteRClick}\n                    data-color={c[0]}\n                    title={c[1]}\n                    className={classNames({\n                      'foreground': this.fg === c[0],\n                      'background': this.bg === c[0],\n                    })}\n                  />\n              )\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport Button from 'flavours/glitch/components/button';\n\nexport default @injectIntl\nclass ConfirmationModal extends React.PureComponent {\n\n  static propTypes = {\n    message: PropTypes.node.isRequired,\n    confirm: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    secondary: PropTypes.string,\n    onSecondary: PropTypes.func,\n    closeWhenConfirm: PropTypes.bool,\n    onDoNotAsk: PropTypes.func,\n    intl: PropTypes.object.isRequired,\n  };\n\n  static defaultProps = {\n    closeWhenConfirm: true,\n  };\n\n  componentDidMount() {\n    this.button.focus();\n  }\n\n  handleClick = () => {\n    if (this.props.closeWhenConfirm) {\n      this.props.onClose();\n    }\n    this.props.onConfirm();\n    if (this.props.onDoNotAsk && this.doNotAskCheckbox.checked) {\n      this.props.onDoNotAsk();\n    }\n  }\n\n  handleSecondary = () => {\n    this.props.onClose();\n    this.props.onSecondary();\n  }\n\n  handleCancel = () => {\n    this.props.onClose();\n  }\n\n  setRef = (c) => {\n    this.button = c;\n  }\n\n  setDoNotAskRef = (c) => {\n    this.doNotAskCheckbox = c;\n  }\n\n  render () {\n    const { message, confirm, secondary, onDoNotAsk } = this.props;\n\n    return (\n      <div className='modal-root__modal confirmation-modal'>\n        <div className='confirmation-modal__container'>\n          {message}\n        </div>\n\n        <div>\n          { onDoNotAsk && (\n            <div className='confirmation-modal__do_not_ask_again'>\n              <input type='checkbox' id='confirmation-modal__do_not_ask_again-checkbox' ref={this.setDoNotAskRef} />\n              <label for='confirmation-modal__do_not_ask_again-checkbox'>\n                <FormattedMessage id='confirmation_modal.do_not_ask_again' defaultMessage='Do not ask for confirmation again' />\n              </label>\n            </div>\n          )}\n          <div className='confirmation-modal__action-bar'>\n            <Button onClick={this.handleCancel} className='confirmation-modal__cancel-button'>\n              <FormattedMessage id='confirmation_modal.cancel' defaultMessage='Cancel' />\n            </Button>\n            {secondary !== undefined && (\n              <Button text={secondary} onClick={this.handleSecondary} className='confirmation-modal__secondary-button' />\n            )}\n            <Button text={confirm} onClick={this.handleClick} ref={this.setRef} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport { changeUploadCompose, uploadThumbnail, onChangeMediaDescription, onChangeMediaFocus } from 'flavours/glitch/actions/compose';\nimport { getPointerPosition } from 'flavours/glitch/features/video';\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl';\nimport IconButton from 'flavours/glitch/components/icon_button';\nimport Button from 'flavours/glitch/components/button';\nimport Video from 'flavours/glitch/features/video';\nimport Audio from 'flavours/glitch/features/audio';\nimport Textarea from 'react-textarea-autosize';\nimport UploadProgress from 'flavours/glitch/features/compose/components/upload_progress';\nimport CharacterCounter from 'flavours/glitch/features/compose/components/character_counter';\nimport { length } from 'stringz';\nimport { Tesseract as fetchTesseract } from 'flavours/glitch/util/async-components';\nimport GIFV from 'flavours/glitch/components/gifv';\nimport { me } from 'flavours/glitch/util/initial_state';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport tesseractCorePath from 'tesseract.js-core/tesseract-core.wasm.js';\n// eslint-disable-next-line import/extensions\nimport tesseractWorkerPath from 'tesseract.js/dist/worker.min.js';\nimport { assetHost } from 'flavours/glitch/util/config';\n\nconst messages = defineMessages({\n  close: { id: 'lightbox.close', defaultMessage: 'Close' },\n  apply: { id: 'upload_modal.apply', defaultMessage: 'Apply' },\n  applying: { id: 'upload_modal.applying', defaultMessage: 'Applying' },\n  placeholder: { id: 'upload_modal.description_placeholder', defaultMessage: 'A quick brown fox jumps over the lazy dog' },\n  chooseImage: { id: 'upload_modal.choose_image', defaultMessage: 'Choose image' },\n  discardMessage: { id: 'confirmations.discard_edit_media.message', defaultMessage: 'You have unsaved changes to the media description or preview, discard them anyway?' },\n  discardConfirm: { id: 'confirmations.discard_edit_media.confirm', defaultMessage: 'Discard' },\n});\n\nconst mapStateToProps = (state, { id }) => ({\n  media: state.getIn(['compose', 'media_attachments']).find(item => item.get('id') === id),\n  account: state.getIn(['accounts', me]),\n  isUploadingThumbnail: state.getIn(['compose', 'isUploadingThumbnail']),\n  description: state.getIn(['compose', 'media_modal', 'description']),\n  focusX: state.getIn(['compose', 'media_modal', 'focusX']),\n  focusY: state.getIn(['compose', 'media_modal', 'focusY']),\n  dirty: state.getIn(['compose', 'media_modal', 'dirty']),\n  is_changing_upload: state.getIn(['compose', 'is_changing_upload']),\n});\n\nconst mapDispatchToProps = (dispatch, { id }) => ({\n\n  onSave: (description, x, y) => {\n    dispatch(changeUploadCompose(id, { description, focus: `${x.toFixed(2)},${y.toFixed(2)}` }));\n  },\n\n  onChangeDescription: (description) => {\n    dispatch(onChangeMediaDescription(description));\n  },\n\n  onChangeFocus: (focusX, focusY) => {\n    dispatch(onChangeMediaFocus(focusX, focusY));\n  },\n\n  onSelectThumbnail: files => {\n    dispatch(uploadThumbnail(id, files[0]));\n  },\n\n});\n\nconst removeExtraLineBreaks = str => str.replace(/\\n\\n/g, '******')\n  .replace(/\\n/g, ' ')\n  .replace(/\\*\\*\\*\\*\\*\\*/g, '\\n\\n');\n\nclass ImageLoader extends React.PureComponent {\n\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  };\n\n  state = {\n    loading: true,\n  };\n\n  componentDidMount() {\n    const image = new Image();\n    image.addEventListener('load', () => this.setState({ loading: false }));\n    image.src = this.props.src;\n  }\n\n  render () {\n    const { loading } = this.state;\n\n    if (loading) {\n      return <canvas width={this.props.width} height={this.props.height} />;\n    } else {\n      return <img {...this.props} alt='' />;\n    }\n  }\n\n}\n\nexport default @connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })\n@(component => injectIntl(component, { withRef: true }))\nclass FocalPointModal extends ImmutablePureComponent {\n\n  static propTypes = {\n    media: ImmutablePropTypes.map.isRequired,\n    account: ImmutablePropTypes.map.isRequired,\n    isUploadingThumbnail: PropTypes.bool,\n    onSave: PropTypes.func.isRequired,\n    onChangeDescription: PropTypes.func.isRequired,\n    onChangeFocus: PropTypes.func.isRequired,\n    onSelectThumbnail: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  state = {\n    dragging: false,\n    dirty: false,\n    progress: 0,\n    loading: true,\n    ocrStatus: '',\n  };\n\n  componentWillUnmount () {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  handleMouseDown = e => {\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n\n    this.updatePosition(e);\n    this.setState({ dragging: true });\n  }\n\n  handleTouchStart = e => {\n    document.addEventListener('touchmove', this.handleMouseMove);\n    document.addEventListener('touchend', this.handleTouchEnd);\n\n    this.updatePosition(e);\n    this.setState({ dragging: true });\n  }\n\n  handleMouseMove = e => {\n    this.updatePosition(e);\n  }\n\n  handleMouseUp = () => {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n\n    this.setState({ dragging: false });\n  }\n\n  handleTouchEnd = () => {\n    document.removeEventListener('touchmove', this.handleMouseMove);\n    document.removeEventListener('touchend', this.handleTouchEnd);\n\n    this.setState({ dragging: false });\n  }\n\n  updatePosition = e => {\n    const { x, y } = getPointerPosition(this.node, e);\n    const focusX   = (x - .5) *  2;\n    const focusY   = (y - .5) * -2;\n\n    this.props.onChangeFocus(focusX, focusY);\n  }\n\n  handleChange = e => {\n    this.props.onChangeDescription(e.target.value);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13 && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.onChangeDescription(e.target.value);\n      this.handleSubmit();\n    }\n  }\n\n  handleSubmit = () => {\n    this.props.onSave(this.props.description, this.props.focusX, this.props.focusY);\n  }\n\n  getCloseConfirmationMessage = () => {\n    const { intl, dirty } = this.props;\n\n    if (dirty) {\n      return {\n        message: intl.formatMessage(messages.discardMessage),\n        confirm: intl.formatMessage(messages.discardConfirm),\n      };\n    } else {\n      return null;\n    }\n  }\n\n  setRef = c => {\n    this.node = c;\n  }\n\n  handleTextDetection = () => {\n    this._detectText();\n  }\n\n  _detectText = (refreshCache = false) => {\n    const { media } = this.props;\n\n    this.setState({ detecting: true });\n\n    fetchTesseract().then(({ createWorker }) => {\n      const worker = createWorker({\n        workerPath: tesseractWorkerPath,\n        corePath: tesseractCorePath,\n        langPath: `${assetHost}/ocr/lang-data/`,\n        logger: ({ status, progress }) => {\n          if (status === 'recognizing text') {\n            this.setState({ ocrStatus: 'detecting', progress });\n          } else {\n            this.setState({ ocrStatus: 'preparing', progress });\n          }\n        },\n        cacheMethod: refreshCache ? 'refresh' : 'write',\n      });\n\n      let media_url = media.get('url');\n\n      if (window.URL && URL.createObjectURL) {\n        try {\n          media_url = URL.createObjectURL(media.get('file'));\n        } catch (error) {\n          console.error(error);\n        }\n      }\n\n      return (async () => {\n        await worker.load();\n        await worker.loadLanguage('eng');\n        await worker.initialize('eng');\n        const { data: { text } } = await worker.recognize(media_url);\n        this.setState({ detecting: false });\n        this.props.onChangeDescription(removeExtraLineBreaks(text));\n        await worker.terminate();\n      })().catch((e) => {\n        if (refreshCache) {\n          throw e;\n        } else {\n          this._detectText(true);\n        }\n      });\n    }).catch((e) => {\n      console.error(e);\n      this.setState({ detecting: false });\n    });\n  }\n\n  handleThumbnailChange = e => {\n    if (e.target.files.length > 0) {\n      this.props.onSelectThumbnail(e.target.files);\n    }\n  }\n\n  setFileInputRef = c => {\n    this.fileInput = c;\n  }\n\n  handleFileInputClick = () => {\n    this.fileInput.click();\n  }\n\n  render () {\n    const { media, intl, account, onClose, isUploadingThumbnail, description, focusX, focusY, dirty, is_changing_upload } = this.props;\n    const { dragging, detecting, progress, ocrStatus } = this.state;\n    const x = (focusX /  2) + .5;\n    const y = (focusY / -2) + .5;\n\n    const width  = media.getIn(['meta', 'original', 'width']) || null;\n    const height = media.getIn(['meta', 'original', 'height']) || null;\n    const focals = ['image', 'gifv'].includes(media.get('type'));\n    const thumbnailable = ['audio', 'video'].includes(media.get('type'));\n\n    const previewRatio  = 16/9;\n    const previewWidth  = 200;\n    const previewHeight = previewWidth / previewRatio;\n\n    let descriptionLabel = null;\n\n    if (media.get('type') === 'audio') {\n      descriptionLabel = <FormattedMessage id='upload_form.audio_description' defaultMessage='Describe for people with hearing loss' />;\n    } else if (media.get('type') === 'video') {\n      descriptionLabel = <FormattedMessage id='upload_form.video_description' defaultMessage='Describe for people with hearing loss or visual impairment' />;\n    } else {\n      descriptionLabel = <FormattedMessage id='upload_form.description' defaultMessage='Describe for the visually impaired' />;\n    }\n\n    let ocrMessage = '';\n    if (ocrStatus === 'detecting') {\n      ocrMessage = <FormattedMessage id='upload_modal.analyzing_picture' defaultMessage='Analyzing picture' />;\n    } else {\n      ocrMessage = <FormattedMessage id='upload_modal.preparing_ocr' defaultMessage='Preparing OCR' />;\n    }\n\n    return (\n      <div className='modal-root__modal report-modal' style={{ maxWidth: 960 }}>\n        <div className='report-modal__target'>\n          <IconButton className='report-modal__close' title={intl.formatMessage(messages.close)} icon='times' onClick={onClose} size={20} />\n          <FormattedMessage id='upload_modal.edit_media' defaultMessage='Edit media' />\n        </div>\n\n        <div className='report-modal__container'>\n          <div className='report-modal__comment'>\n            {focals && <p><FormattedMessage id='upload_modal.hint' defaultMessage='Click or drag the circle on the preview to choose the focal point which will always be in view on all thumbnails.' /></p>}\n\n            {thumbnailable && (\n              <React.Fragment>\n                <label className='setting-text-label' htmlFor='upload-modal__thumbnail'><FormattedMessage id='upload_form.thumbnail' defaultMessage='Change thumbnail' /></label>\n\n                <Button disabled={isUploadingThumbnail} text={intl.formatMessage(messages.chooseImage)} onClick={this.handleFileInputClick} />\n\n                <label>\n                  <span style={{ display: 'none' }}>{intl.formatMessage(messages.chooseImage)}</span>\n\n                  <input\n                    id='upload-modal__thumbnail'\n                    ref={this.setFileInputRef}\n                    type='file'\n                    accept='image/png,image/jpeg'\n                    onChange={this.handleThumbnailChange}\n                    style={{ display: 'none' }}\n                    disabled={isUploadingThumbnail || is_changing_upload}\n                  />\n                </label>\n\n                <hr className='setting-divider' />\n              </React.Fragment>\n            )}\n\n            <label className='setting-text-label' htmlFor='upload-modal__description'>\n              {descriptionLabel}\n            </label>\n\n            <div className='setting-text__wrapper'>\n              <Textarea\n                id='upload-modal__description'\n                className='setting-text light'\n                value={detecting ? '' : description}\n                onChange={this.handleChange}\n                onKeyDown={this.handleKeyDown}\n                disabled={detecting || is_changing_upload}\n                autoFocus\n              />\n\n              <div className='setting-text__modifiers'>\n                <UploadProgress progress={progress * 100} active={detecting} icon='file-text-o' message={ocrMessage} />\n              </div>\n            </div>\n\n            <div className='setting-text__toolbar'>\n              <button disabled={detecting || media.get('type') !== 'image' || is_changing_upload} className='link-button' onClick={this.handleTextDetection}><FormattedMessage id='upload_modal.detect_text' defaultMessage='Detect text from picture' /></button>\n              <CharacterCounter max={1500} text={detecting ? '' : description} />\n            </div>\n\n            <Button disabled={!dirty || detecting || isUploadingThumbnail || length(description) > 1500 || is_changing_upload} text={intl.formatMessage(is_changing_upload ? messages.applying : messages.apply)} onClick={this.handleSubmit} />\n          </div>\n\n          <div className='focal-point-modal__content'>\n            {focals && (\n              <div className={classNames('focal-point', { dragging })} ref={this.setRef} onMouseDown={this.handleMouseDown} onTouchStart={this.handleTouchStart}>\n                {media.get('type') === 'image' && <ImageLoader src={media.get('url')} width={width} height={height} alt='' />}\n                {media.get('type') === 'gifv' && <GIFV src={media.get('url')} width={width} height={height} />}\n\n                <div className='focal-point__preview'>\n                  <strong><FormattedMessage id='upload_modal.preview_label' defaultMessage='Preview ({ratio})' values={{ ratio: '16:9' }} /></strong>\n                  <div style={{ width: previewWidth, height: previewHeight, backgroundImage: `url(${media.get('preview_url')})`, backgroundSize: 'cover', backgroundPosition: `${x * 100}% ${y * 100}%` }} />\n                </div>\n\n                <div className='focal-point__reticle' style={{ top: `${y * 100}%`, left: `${x * 100}%` }} />\n                <div className='focal-point__overlay' />\n              </div>\n            )}\n\n            {media.get('type') === 'video' && (\n              <Video\n                preview={media.get('preview_url')}\n                frameRate={media.getIn(['meta', 'original', 'frame_rate'])}\n                blurhash={media.get('blurhash')}\n                src={media.get('url')}\n                detailed\n                inline\n                editable\n              />\n            )}\n\n            {media.get('type') === 'audio' && (\n              <Audio\n                src={media.get('url')}\n                duration={media.getIn(['meta', 'original', 'duration'], 0)}\n                height={150}\n                poster={media.get('preview_url') || account.get('avatar_static')}\n                backgroundColor={media.getIn(['meta', 'colors', 'background'])}\n                foregroundColor={media.getIn(['meta', 'colors', 'foreground'])}\n                accentColor={media.getIn(['meta', 'colors', 'accent'])}\n                editable\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport { preferenceLink } from 'flavours/glitch/util/backend_links';\nimport Button from 'flavours/glitch/components/button';\nimport Icon from 'flavours/glitch/components/icon';\nimport illustration from 'flavours/glitch/images/logo_warn_glitch.svg';\n\nconst messages = defineMessages({\n  discardChanges: { id: 'confirmations.deprecated_settings.confirm', defaultMessage: 'Use Mastodon preferences' },\n  user_setting_expand_spoilers: { id: 'settings.enable_content_warnings_auto_unfold', defaultMessage: 'Automatically unfold content-warnings' },\n  user_setting_disable_swiping: { id: 'settings.swipe_to_change_columns', defaultMessage: 'Allow swiping to change columns (Mobile only)' },\n});\n\nexport default @injectIntl\nclass DeprecatedSettingsModal extends React.PureComponent {\n\n  static propTypes = {\n    settings: ImmutablePropTypes.list.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  componentDidMount() {\n    this.button.focus();\n  }\n\n  handleClick = () => {\n    this.props.onConfirm();\n    this.props.onClose();\n  }\n\n  setRef = (c) => {\n    this.button = c;\n  }\n\n  render () {\n    const { settings, intl } = this.props;\n\n    return (\n      <div className='modal-root__modal confirmation-modal'>\n        <div className='confirmation-modal__container'>\n\n          <img src={illustration} className='modal-warning' alt='' />\n\n          <FormattedMessage\n            id='confirmations.deprecated_settings.message'\n            defaultMessage='Some of the glitch-soc device-specific {app_settings} you are using have been replaced by Mastodon {preferences} and will be overriden:'\n            values={{\n              app_settings: (\n                <strong className='deprecated-settings-label'>\n                  <Icon id='cogs' /> <FormattedMessage id='navigation_bar.app_settings' defaultMessage='App settings' />\n                </strong>\n              ),\n              preferences: (\n                <strong className='deprecated-settings-label'>\n                  <Icon id='cog' /> <FormattedMessage id='navigation_bar.preferences' defaultMessage='Preferences' />\n                </strong>\n              ),\n            }}\n          />\n\n          <div className='deprecated-settings-info'>\n            <ul>\n              { settings.map((setting_name) => (\n                <li>\n                  <a href={preferenceLink(setting_name)}><FormattedMessage {...messages[setting_name]} /></a>\n                </li>\n              )) }\n            </ul>\n          </div>\n        </div>\n\n        <div>\n          <div className='confirmation-modal__action-bar'>\n            <div />\n            <Button text={intl.formatMessage(messages.discardChanges)} onClick={this.handleClick} ref={this.setRef} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getScrollbarWidth } from 'flavours/glitch/util/scrollbar';\nimport Base from 'flavours/glitch/components/modal_root';\nimport BundleContainer from '../containers/bundle_container';\nimport BundleModalError from './bundle_modal_error';\nimport ModalLoading from './modal_loading';\nimport ActionsModal from './actions_modal';\nimport MediaModal from './media_modal';\nimport VideoModal from './video_modal';\nimport BoostModal from './boost_modal';\nimport FavouriteModal from './favourite_modal';\nimport AudioModal from './audio_modal';\nimport DoodleModal from './doodle_modal';\nimport ConfirmationModal from './confirmation_modal';\nimport FocalPointModal from './focal_point_modal';\nimport DeprecatedSettingsModal from './deprecated_settings_modal';\nimport {\n  OnboardingModal,\n  MuteModal,\n  BlockModal,\n  ReportModal,\n  SettingsModal,\n  EmbedModal,\n  ListEditor,\n  ListAdder,\n  PinnedAccountsEditor,\n  CompareHistoryModal,\n} from 'flavours/glitch/util/async-components';\n\nconst MODAL_COMPONENTS = {\n  'MEDIA': () => Promise.resolve({ default: MediaModal }),\n  'ONBOARDING': OnboardingModal,\n  'VIDEO': () => Promise.resolve({ default: VideoModal }),\n  'AUDIO': () => Promise.resolve({ default: AudioModal }),\n  'BOOST': () => Promise.resolve({ default: BoostModal }),\n  'FAVOURITE': () => Promise.resolve({ default: FavouriteModal }),\n  'DOODLE': () => Promise.resolve({ default: DoodleModal }),\n  'CONFIRM': () => Promise.resolve({ default: ConfirmationModal }),\n  'MUTE': MuteModal,\n  'BLOCK': BlockModal,\n  'REPORT': ReportModal,\n  'SETTINGS': SettingsModal,\n  'DEPRECATED_SETTINGS': () => Promise.resolve({ default: DeprecatedSettingsModal }),\n  'ACTIONS': () => Promise.resolve({ default: ActionsModal }),\n  'EMBED': EmbedModal,\n  'LIST_EDITOR': ListEditor,\n  'FOCAL_POINT': () => Promise.resolve({ default: FocalPointModal }),\n  'LIST_ADDER': ListAdder,\n  'PINNED_ACCOUNTS_EDITOR': PinnedAccountsEditor,\n  'COMPARE_HISTORY': CompareHistoryModal,\n};\n\nexport default class ModalRoot extends React.PureComponent {\n\n  static propTypes = {\n    type: PropTypes.string,\n    props: PropTypes.object,\n    onClose: PropTypes.func.isRequired,\n    ignoreFocus: PropTypes.bool,\n  };\n\n  state = {\n    backgroundColor: null,\n  };\n\n  componentDidUpdate () {\n    if (!!this.props.type) {\n      document.body.classList.add('with-modals--active');\n      document.documentElement.style.marginRight = `${getScrollbarWidth()}px`;\n    } else {\n      document.body.classList.remove('with-modals--active');\n      document.documentElement.style.marginRight = 0;\n    }\n  }\n\n  setBackgroundColor = color => {\n    this.setState({ backgroundColor: color });\n  }\n\n  renderLoading = modalId => () => {\n    return ['MEDIA', 'VIDEO', 'BOOST', 'FAVOURITE', 'DOODLE', 'CONFIRM', 'ACTIONS'].indexOf(modalId) === -1 ? <ModalLoading /> : null;\n  }\n\n  renderError = (props) => {\n    const { onClose } = this.props;\n\n    return <BundleModalError {...props} onClose={onClose} />;\n  }\n\n  handleClose = (ignoreFocus = false) => {\n    const { onClose } = this.props;\n    let message = null;\n    try {\n      message = this._modal?.getWrappedInstance?.().getCloseConfirmationMessage?.();\n    } catch (_) {\n      // injectIntl defines `getWrappedInstance` but errors out if `withRef`\n      // isn't set.\n      // This would be much smoother with react-intl 3+ and `forwardRef`.\n    }\n    onClose(message, ignoreFocus);\n  }\n\n  setModalRef = (c) => {\n    this._modal = c;\n  }\n\n  render () {\n    const { type, props, ignoreFocus } = this.props;\n    const { backgroundColor } = this.state;\n    const visible = !!type;\n\n    return (\n      <Base backgroundColor={backgroundColor} onClose={this.handleClose} noEsc={props ? props.noEsc : false} ignoreFocus={ignoreFocus}>\n        {visible && (\n          <BundleContainer fetchComponent={MODAL_COMPONENTS[type]} loading={this.renderLoading(type)} error={this.renderError} renderDelay={200}>\n            {(SpecificComponent) => <SpecificComponent {...props} onChangeBackgroundColor={this.setBackgroundColor} onClose={this.handleClose} ref={this.setModalRef} />}\n          </BundleContainer>\n        )}\n      </Base>\n    );\n  }\n\n}\n","import { connect } from 'react-redux';\nimport { openModal, closeModal } from 'flavours/glitch/actions/modal';\nimport ModalRoot from '../components/modal_root';\n\nconst mapStateToProps = state => ({\n  ignoreFocus: state.getIn(['modal', 'ignoreFocus']),\n  type: state.getIn(['modal', 'stack', 0, 'modalType'], null),\n  props: state.getIn(['modal', 'stack', 0, 'modalProps'], {}),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClose (confirmationMessage, ignoreFocus = false) {\n    if (confirmationMessage) {\n      dispatch(\n        openModal('CONFIRM', {\n          message: confirmationMessage.message,\n          confirm: confirmationMessage.confirm,\n          onConfirm: () => dispatch(closeModal(undefined, { ignoreFocus })),\n        }),\n      );\n    } else {\n      dispatch(closeModal(undefined, { ignoreFocus }));\n    }\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalRoot);\n","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stackframe', [], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.StackFrame = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  function _isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n\n  function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n  }\n\n  function _getter(p) {\n    return function () {\n      return this[p];\n    };\n  }\n\n  var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n  var numericProps = ['columnNumber', 'lineNumber'];\n  var stringProps = ['fileName', 'functionName', 'source'];\n  var arrayProps = ['args'];\n  var objectProps = ['evalOrigin'];\n  var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n  function StackFrame(obj) {\n    if (!obj) return;\n\n    for (var i = 0; i < props.length; i++) {\n      if (obj[props[i]] !== undefined) {\n        this['set' + _capitalize(props[i])](obj[props[i]]);\n      }\n    }\n  }\n\n  StackFrame.prototype = {\n    getArgs: function () {\n      return this.args;\n    },\n    setArgs: function (v) {\n      if (Object.prototype.toString.call(v) !== '[object Array]') {\n        throw new TypeError('Args must be an Array');\n      }\n\n      this.args = v;\n    },\n    getEvalOrigin: function () {\n      return this.evalOrigin;\n    },\n    setEvalOrigin: function (v) {\n      if (v instanceof StackFrame) {\n        this.evalOrigin = v;\n      } else if (v instanceof Object) {\n        this.evalOrigin = new StackFrame(v);\n      } else {\n        throw new TypeError('Eval Origin must be an Object or StackFrame');\n      }\n    },\n    toString: function () {\n      var fileName = this.getFileName() || '';\n      var lineNumber = this.getLineNumber() || '';\n      var columnNumber = this.getColumnNumber() || '';\n      var functionName = this.getFunctionName() || '';\n\n      if (this.getIsEval()) {\n        if (fileName) {\n          return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n        }\n\n        return '[eval]:' + lineNumber + ':' + columnNumber;\n      }\n\n      if (functionName) {\n        return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n      }\n\n      return fileName + ':' + lineNumber + ':' + columnNumber;\n    }\n  };\n\n  StackFrame.fromString = function StackFrame$$fromString(str) {\n    var argsStartIndex = str.indexOf('(');\n    var argsEndIndex = str.lastIndexOf(')');\n    var functionName = str.substring(0, argsStartIndex);\n    var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n    var locationString = str.substring(argsEndIndex + 1);\n\n    if (locationString.indexOf('@') === 0) {\n      var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n      var fileName = parts[1];\n      var lineNumber = parts[2];\n      var columnNumber = parts[3];\n    }\n\n    return new StackFrame({\n      functionName: functionName,\n      args: args || undefined,\n      fileName: fileName,\n      lineNumber: lineNumber || undefined,\n      columnNumber: columnNumber || undefined\n    });\n  };\n\n  for (var i = 0; i < booleanProps.length; i++) {\n    StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n\n    StackFrame.prototype['set' + _capitalize(booleanProps[i])] = function (p) {\n      return function (v) {\n        this[p] = Boolean(v);\n      };\n    }(booleanProps[i]);\n  }\n\n  for (var j = 0; j < numericProps.length; j++) {\n    StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n\n    StackFrame.prototype['set' + _capitalize(numericProps[j])] = function (p) {\n      return function (v) {\n        if (!_isNumber(v)) {\n          throw new TypeError(p + ' must be a Number');\n        }\n\n        this[p] = Number(v);\n      };\n    }(numericProps[j]);\n  }\n\n  for (var k = 0; k < stringProps.length; k++) {\n    StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n\n    StackFrame.prototype['set' + _capitalize(stringProps[k])] = function (p) {\n      return function (v) {\n        this[p] = String(v);\n      };\n    }(stringProps[k]);\n  }\n\n  return StackFrame;\n});","var defineProperty = require('./_defineProperty');\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\n\n\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;","var getNative = require('./_getNative');\n\nvar defineProperty = function () {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}();\n\nmodule.exports = defineProperty;","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\n\n\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport default class Button extends React.PureComponent {\n\n  static propTypes = {\n    text: PropTypes.node,\n    onClick: PropTypes.func,\n    disabled: PropTypes.bool,\n    block: PropTypes.bool,\n    secondary: PropTypes.bool,\n    className: PropTypes.string,\n    title: PropTypes.string,\n    children: PropTypes.node,\n  };\n\n  handleClick = (e) => {\n    if (!this.props.disabled) {\n      this.props.onClick(e);\n    }\n  }\n\n  setRef = (c) => {\n    this.node = c;\n  }\n\n  focus() {\n    this.node.focus();\n  }\n\n  render () {\n    let attrs = {\n      className: classNames('button', this.props.className, {\n        'button-secondary': this.props.secondary,\n        'button--block': this.props.block,\n      }),\n      disabled: this.props.disabled,\n      onClick: this.handleClick,\n      ref: this.setRef,\n    };\n\n    if (this.props.title) attrs.title = this.props.title;\n\n    return (\n      <button {...attrs}>\n        {this.props.text || this.props.children}\n      </button>\n    );\n  }\n\n}\n","var createBaseFor = require('./_createBaseFor');\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\n\n\nvar baseFor = createBaseFor();\nmodule.exports = baseFor;","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function (object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // @ts-ignore\n\nvar char_regex_1 = __importDefault(require(\"char-regex\"));\n/**\n * Converts a string to an array of string chars\n * @param {string} str The string to turn into array\n * @returns {string[]}\n */\n\n\nfunction toArray(str) {\n  if (typeof str !== 'string') {\n    throw new Error('A string is expected as input');\n  }\n\n  return str.match(char_regex_1.default()) || [];\n}\n\nexports.toArray = toArray;\n/**\n * Returns the length of a string\n *\n * @export\n * @param {string} str\n * @returns {number}\n */\n\nfunction length(str) {\n  // Check for input\n  if (typeof str !== 'string') {\n    throw new Error('Input must be a string');\n  }\n\n  var match = str.match(char_regex_1.default());\n  return match === null ? 0 : match.length;\n}\n\nexports.length = length;\n/**\n * Returns a substring by providing start and end position\n *\n * @export\n * @param {string} str\n * @param {number} [begin=0] Starting position\n * @param {number} end End position\n * @returns {string}\n */\n\nfunction substring(str, begin, end) {\n  if (begin === void 0) {\n    begin = 0;\n  } // Check for input\n\n\n  if (typeof str !== 'string') {\n    throw new Error('Input must be a string');\n  } // Even though negative numbers work here, theyre not in the spec\n\n\n  if (typeof begin !== 'number' || begin < 0) {\n    begin = 0;\n  }\n\n  if (typeof end === 'number' && end < 0) {\n    end = 0;\n  }\n\n  var match = str.match(char_regex_1.default());\n  if (!match) return '';\n  return match.slice(begin, end).join('');\n}\n\nexports.substring = substring;\n/**\n * Returns a substring by providing start position and length\n *\n * @export\n * @param {string} str\n * @param {number} [begin=0] Starting position\n * @param {number} len Desired length\n * @returns {string}\n */\n\nfunction substr(str, begin, len) {\n  if (begin === void 0) {\n    begin = 0;\n  } // Check for input\n\n\n  if (typeof str !== 'string') {\n    throw new Error('Input must be a string');\n  }\n\n  var strLength = length(str); // Fix type\n\n  if (typeof begin !== 'number') {\n    begin = parseInt(begin, 10);\n  } // Return zero-length string if got oversize number.\n\n\n  if (begin >= strLength) {\n    return '';\n  } // Calculating postive version of negative value.\n\n\n  if (begin < 0) {\n    begin += strLength;\n  }\n\n  var end;\n\n  if (typeof len === 'undefined') {\n    end = strLength;\n  } else {\n    // Fix type\n    if (typeof len !== 'number') {\n      len = parseInt(len, 10);\n    }\n\n    end = len >= 0 ? len + begin : begin;\n  }\n\n  var match = str.match(char_regex_1.default());\n  if (!match) return '';\n  return match.slice(begin, end).join('');\n}\n\nexports.substr = substr;\n/**\n * Enforces a string to be a certain length by\n * adding or removing characters\n *\n * @export\n * @param {string} str\n * @param {number} [limit=16] Limit\n * @param {string} [padString='#'] The Pad String\n * @param {string} [padPosition='right'] The Pad Position\n * @returns {string}\n */\n\nfunction limit(str, limit, padString, padPosition) {\n  if (limit === void 0) {\n    limit = 16;\n  }\n\n  if (padString === void 0) {\n    padString = '#';\n  }\n\n  if (padPosition === void 0) {\n    padPosition = 'right';\n  } // Input should be a string, limit should be a number\n\n\n  if (typeof str !== 'string' || typeof limit !== 'number') {\n    throw new Error('Invalid arguments specified');\n  } // Pad position should be either left or right\n\n\n  if (['left', 'right'].indexOf(padPosition) === -1) {\n    throw new Error('Pad position should be either left or right');\n  } // Pad string can be anything, we convert it to string\n\n\n  if (typeof padString !== 'string') {\n    padString = String(padString);\n  } // Calculate string length considering astral code points\n\n\n  var strLength = length(str);\n\n  if (strLength > limit) {\n    return substring(str, 0, limit);\n  } else if (strLength < limit) {\n    var padRepeats = padString.repeat(limit - strLength);\n    return padPosition === 'left' ? padRepeats + str : str + padRepeats;\n  }\n\n  return str;\n}\n\nexports.limit = limit;\n/**\n * Returns the index of the first occurrence of a given string\n *\n * @export\n * @param {string} str\n * @param {string} [searchStr] the string to search\n * @param {number} [pos] starting position\n * @returns {number}\n */\n\nfunction indexOf(str, searchStr, pos) {\n  if (pos === void 0) {\n    pos = 0;\n  }\n\n  if (typeof str !== 'string') {\n    throw new Error('Input must be a string');\n  }\n\n  if (str === '') {\n    if (searchStr === '') {\n      return 0;\n    }\n\n    return -1;\n  } // fix type\n\n\n  pos = Number(pos);\n  pos = isNaN(pos) ? 0 : pos;\n  searchStr = String(searchStr);\n  var strArr = toArray(str);\n\n  if (pos >= strArr.length) {\n    if (searchStr === '') {\n      return strArr.length;\n    }\n\n    return -1;\n  }\n\n  if (searchStr === '') {\n    return pos;\n  }\n\n  var searchArr = toArray(searchStr);\n  var finded = false;\n  var index;\n\n  for (index = pos; index < strArr.length; index += 1) {\n    var searchIndex = 0;\n\n    while (searchIndex < searchArr.length && searchArr[searchIndex] === strArr[index + searchIndex]) {\n      searchIndex += 1;\n    }\n\n    if (searchIndex === searchArr.length && searchArr[searchIndex - 1] === strArr[index + searchIndex - 1]) {\n      finded = true;\n      break;\n    }\n  }\n\n  return finded ? index : -1;\n}\n\nexports.indexOf = indexOf;","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\n\n\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n\n  if (value == null) {\n    return identity;\n  }\n\n  if (typeof value == 'object') {\n    return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n  }\n\n  return property(value);\n}\n\nmodule.exports = baseIteratee;","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\n\n\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n\n  return function (object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n/** Used to compose bitmasks for value comparisons. */\n\n\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\n\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n\n  object = Object(object);\n\n  while (index--) {\n    var data = matchData[index];\n\n    if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n      return false;\n    }\n  }\n\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack();\n\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n\n      if (!(result === undefined ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = baseIsMatch;","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\n\n\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n\n  return result;\n}\n\nmodule.exports = getMatchData;","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n/** Used to compose bitmasks for value comparisons. */\n\n\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\n\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n\n  return function (object) {\n    var objValue = get(object, path);\n    return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;","var baseGet = require('./_baseGet');\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\n\n\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;","var memoizeCapped = require('./_memoizeCapped');\n/** Used to match property names within property paths. */\n\n\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n/** Used to match backslashes in property paths. */\n\nvar reEscapeChar = /\\\\(\\\\)?/g;\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\n\nvar stringToPath = memoizeCapped(function (string) {\n  var result = [];\n\n  if (string.charCodeAt(0) === 46\n  /* . */\n  ) {\n    result.push('');\n  }\n\n  string.replace(rePropName, function (match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : number || match);\n  });\n  return result;\n});\nmodule.exports = stringToPath;","var memoize = require('./memoize');\n/** Used as the maximum memoize cache size. */\n\n\nvar MAX_MEMOIZE_SIZE = 500;\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\n\nfunction memoizeCapped(func) {\n  var result = memoize(func, function (key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n\n    return key;\n  });\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;","var MapCache = require('./_MapCache');\n/** Error message constants. */\n\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\n\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || resolver != null && typeof resolver != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  var memoized = function () {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n\n  memoized.cache = new (memoize.Cache || MapCache)();\n  return memoized;\n} // Expose `MapCache`.\n\n\nmemoize.Cache = MapCache;\nmodule.exports = memoize;","var baseToString = require('./_baseToString');\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\n\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n/** Used as references for various `Number` constants. */\n\n\nvar INFINITY = 1 / 0;\n/** Used to convert symbols to primitives and strings. */\n\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\n\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\n\nmodule.exports = baseToString;","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n\n  return result;\n}\n\nmodule.exports = arrayMap;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _elementType = require('prop-types-extra/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _Position = require('./Position');\n\nvar _Position2 = _interopRequireDefault(_Position);\n\nvar _RootCloseWrapper = require('./RootCloseWrapper');\n\nvar _RootCloseWrapper2 = _interopRequireDefault(_RootCloseWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * Built on top of `<Position/>` and `<Portal/>`, the overlay component is great for custom tooltip overlays.\n */\n\n\nvar Overlay = function (_React$Component) {\n  _inherits(Overlay, _React$Component);\n\n  function Overlay(props, context) {\n    _classCallCheck(this, Overlay);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _this.handleHidden = function () {\n      _this.setState({\n        exited: true\n      });\n\n      if (_this.props.onExited) {\n        var _this$props;\n\n        (_this$props = _this.props).onExited.apply(_this$props, arguments);\n      }\n    };\n\n    _this.state = {\n      exited: !props.show\n    };\n    _this.onHiddenListener = _this.handleHidden.bind(_this);\n    return _this;\n  }\n\n  Overlay.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({\n        exited: false\n      });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({\n        exited: true\n      });\n    }\n  };\n\n  Overlay.prototype.render = function render() {\n    var _props = this.props,\n        container = _props.container,\n        containerPadding = _props.containerPadding,\n        target = _props.target,\n        placement = _props.placement,\n        shouldUpdatePosition = _props.shouldUpdatePosition,\n        rootClose = _props.rootClose,\n        children = _props.children,\n        Transition = _props.transition,\n        props = _objectWithoutProperties(_props, ['container', 'containerPadding', 'target', 'placement', 'shouldUpdatePosition', 'rootClose', 'children', 'transition']); // Don't un-render the overlay while it's transitioning out.\n\n\n    var mountOverlay = props.show || Transition && !this.state.exited;\n\n    if (!mountOverlay) {\n      // Don't bother showing anything if we don't have to.\n      return null;\n    }\n\n    var child = children; // Position is be inner-most because it adds inline styles into the child,\n    // which the other wrappers don't forward correctly.\n\n    child = _react2.default.createElement(_Position2.default, {\n      container: container,\n      containerPadding: containerPadding,\n      target: target,\n      placement: placement,\n      shouldUpdatePosition: shouldUpdatePosition\n    }, child);\n\n    if (Transition) {\n      var onExit = props.onExit,\n          onExiting = props.onExiting,\n          onEnter = props.onEnter,\n          onEntering = props.onEntering,\n          onEntered = props.onEntered; // This animates the child node by injecting props, so it must precede\n      // anything that adds a wrapping div.\n\n      child = _react2.default.createElement(Transition, {\n        'in': props.show,\n        appear: true,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: this.onHiddenListener,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered\n      }, child);\n    } // This goes after everything else because it adds a wrapping div.\n\n\n    if (rootClose) {\n      child = _react2.default.createElement(_RootCloseWrapper2.default, {\n        onRootClose: props.onHide,\n        event: props.rootCloseEvent\n      }, child);\n    }\n\n    return _react2.default.createElement(_Portal2.default, {\n      container: container\n    }, child);\n  };\n\n  return Overlay;\n}(_react2.default.Component);\n\nOverlay.propTypes = _extends({}, _Portal2.default.propTypes, _Position2.default.propTypes, {\n  /**\n   * Set the visibility of the Overlay\n   */\n  show: _propTypes2.default.bool,\n\n  /**\n   * Specify whether the overlay should trigger `onHide` when the user clicks outside the overlay\n   */\n  rootClose: _propTypes2.default.bool,\n\n  /**\n   * Specify event for toggling overlay\n   */\n  rootCloseEvent: _RootCloseWrapper2.default.propTypes.event,\n\n  /**\n   * A Callback fired by the Overlay when it wishes to be hidden.\n   *\n   * __required__ when `rootClose` is `true`.\n   *\n   * @type func\n   */\n  onHide: function onHide(props) {\n    var propType = _propTypes2.default.func;\n\n    if (props.rootClose) {\n      propType = propType.isRequired;\n    }\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return propType.apply(undefined, [props].concat(args));\n  },\n\n  /**\n   * A `react-transition-group@2.0.0` `<Transition/>` component\n   * used to animate the overlay as it changes visibility.\n   */\n  transition: _elementType2.default,\n\n  /**\n   * Callback fired before the Overlay transitions in\n   */\n  onEnter: _propTypes2.default.func,\n\n  /**\n   * Callback fired as the Overlay begins to transition in\n   */\n  onEntering: _propTypes2.default.func,\n\n  /**\n   * Callback fired after the Overlay finishes transitioning in\n   */\n  onEntered: _propTypes2.default.func,\n\n  /**\n   * Callback fired right before the Overlay transitions out\n   */\n  onExit: _propTypes2.default.func,\n\n  /**\n   * Callback fired as the Overlay begins to transition out\n   */\n  onExiting: _propTypes2.default.func,\n\n  /**\n   * Callback fired after the Overlay finishes transitioning out\n   */\n  onExited: _propTypes2.default.func\n});\nexports.default = Overlay;\nmodule.exports = exports['default'];","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\n\n\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\n\n\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n\n    object = object[key];\n  }\n\n  if (result || ++index != length) {\n    return result;\n  }\n\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\n\n\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function (object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;","var baseGet = require('./_baseGet');\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\n\n\nfunction basePropertyDeep(path) {\n  return function (object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n} // make a class for Point\n\n\nvar Point = function () {\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this._x = x;\n    this._y = y;\n  }\n\n  _createClass(Point, [{\n    key: \"set\",\n    value: function set(x, y) {\n      this._x = x;\n      this._y = y;\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this._x;\n    },\n    set: function set(x) {\n      this._x = x;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this._y;\n    },\n    set: function set(y) {\n      this._y = y;\n    }\n  }]);\n\n  return Point;\n}(); // make a class for the mouse data\n\n\nvar Mouse = function (_Point) {\n  _inherits(Mouse, _Point);\n\n  function Mouse() {\n    _classCallCheck(this, Mouse);\n\n    var _this = _possibleConstructorReturn(this, (Mouse.__proto__ || Object.getPrototypeOf(Mouse)).call(this, 0, 0));\n\n    _this._down = false;\n    _this._px = 0;\n    _this._py = 0;\n    return _this;\n  }\n\n  _createClass(Mouse, [{\n    key: \"down\",\n    get: function get() {\n      return this._down;\n    },\n    set: function set(d) {\n      this._down = d;\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this._x;\n    },\n    set: function set(x) {\n      this._x = x;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this._y;\n    },\n    set: function set(y) {\n      this._y = y;\n    }\n  }, {\n    key: \"px\",\n    get: function get() {\n      return this._px;\n    },\n    set: function set(px) {\n      this._px = px;\n    }\n  }, {\n    key: \"py\",\n    get: function get() {\n      return this._py;\n    },\n    set: function set(py) {\n      this._py = py;\n    }\n  }]);\n\n  return Mouse;\n}(Point);\n\nexports.default = Mouse;","import api from '../api';\n\nexport const HASHTAG_FETCH_REQUEST = 'HASHTAG_FETCH_REQUEST';\nexport const HASHTAG_FETCH_SUCCESS = 'HASHTAG_FETCH_SUCCESS';\nexport const HASHTAG_FETCH_FAIL    = 'HASHTAG_FETCH_FAIL';\n\nexport const HASHTAG_FOLLOW_REQUEST = 'HASHTAG_FOLLOW_REQUEST';\nexport const HASHTAG_FOLLOW_SUCCESS = 'HASHTAG_FOLLOW_SUCCESS';\nexport const HASHTAG_FOLLOW_FAIL    = 'HASHTAG_FOLLOW_FAIL';\n\nexport const HASHTAG_UNFOLLOW_REQUEST = 'HASHTAG_UNFOLLOW_REQUEST';\nexport const HASHTAG_UNFOLLOW_SUCCESS = 'HASHTAG_UNFOLLOW_SUCCESS';\nexport const HASHTAG_UNFOLLOW_FAIL    = 'HASHTAG_UNFOLLOW_FAIL';\n\nexport const fetchHashtag = name => (dispatch, getState) => {\n  dispatch(fetchHashtagRequest());\n\n  api(getState).get(`/api/v1/tags/${name}`).then(({ data }) => {\n    dispatch(fetchHashtagSuccess(name, data));\n  }).catch(err => {\n    dispatch(fetchHashtagFail(err));\n  });\n};\n\nexport const fetchHashtagRequest = () => ({\n  type: HASHTAG_FETCH_REQUEST,\n});\n\nexport const fetchHashtagSuccess = (name, tag) => ({\n  type: HASHTAG_FETCH_SUCCESS,\n  name,\n  tag,\n});\n\nexport const fetchHashtagFail = error => ({\n  type: HASHTAG_FETCH_FAIL,\n  error,\n});\n\nexport const followHashtag = name => (dispatch, getState) => {\n  dispatch(followHashtagRequest(name));\n\n  api(getState).post(`/api/v1/tags/${name}/follow`).then(({ data }) => {\n    dispatch(followHashtagSuccess(name, data));\n  }).catch(err => {\n    dispatch(followHashtagFail(name, err));\n  });\n};\n\nexport const followHashtagRequest = name => ({\n  type: HASHTAG_FOLLOW_REQUEST,\n  name,\n});\n\nexport const followHashtagSuccess = (name, tag) => ({\n  type: HASHTAG_FOLLOW_SUCCESS,\n  name,\n  tag,\n});\n\nexport const followHashtagFail = (name, error) => ({\n  type: HASHTAG_FOLLOW_FAIL,\n  name,\n  error,\n});\n\nexport const unfollowHashtag = name => (dispatch, getState) => {\n  dispatch(unfollowHashtagRequest(name));\n\n  api(getState).post(`/api/v1/tags/${name}/unfollow`).then(({ data }) => {\n    dispatch(unfollowHashtagSuccess(name, data));\n  }).catch(err => {\n    dispatch(unfollowHashtagFail(name, err));\n  });\n};\n\nexport const unfollowHashtagRequest = name => ({\n  type: HASHTAG_FETCH_REQUEST,\n  name,\n});\n\nexport const unfollowHashtagSuccess = (name, tag) => ({\n  type: HASHTAG_FETCH_SUCCESS,\n  name,\n  tag,\n});\n\nexport const unfollowHashtagFail = (name, error) => ({\n  type: HASHTAG_FETCH_FAIL,\n  name,\n  error,\n});\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar base64VLQ = require('./base64-vlq');\n\nvar util = require('./util');\n\nvar ArraySet = require('./array-set').ArraySet;\n\nvar MappingList = require('./mapping-list').MappingList;\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\n\n\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\n\nSourceMapGenerator.fromSourceMap = function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n  var sourceRoot = aSourceMapConsumer.sourceRoot;\n  var generator = new SourceMapGenerator({\n    file: aSourceMapConsumer.file,\n    sourceRoot: sourceRoot\n  });\n  aSourceMapConsumer.eachMapping(function (mapping) {\n    var newMapping = {\n      generated: {\n        line: mapping.generatedLine,\n        column: mapping.generatedColumn\n      }\n    };\n\n    if (mapping.source != null) {\n      newMapping.source = mapping.source;\n\n      if (sourceRoot != null) {\n        newMapping.source = util.relative(sourceRoot, newMapping.source);\n      }\n\n      newMapping.original = {\n        line: mapping.originalLine,\n        column: mapping.originalColumn\n      };\n\n      if (mapping.name != null) {\n        newMapping.name = mapping.name;\n      }\n    }\n\n    generator.addMapping(newMapping);\n  });\n  aSourceMapConsumer.sources.forEach(function (sourceFile) {\n    var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n\n    if (content != null) {\n      generator.setSourceContent(sourceFile, content);\n    }\n  });\n  return generator;\n};\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\n\n\nSourceMapGenerator.prototype.addMapping = function SourceMapGenerator_addMapping(aArgs) {\n  var generated = util.getArg(aArgs, 'generated');\n  var original = util.getArg(aArgs, 'original', null);\n  var source = util.getArg(aArgs, 'source', null);\n  var name = util.getArg(aArgs, 'name', null);\n\n  if (!this._skipValidation) {\n    this._validateMapping(generated, original, source, name);\n  }\n\n  if (source != null) {\n    source = String(source);\n\n    if (!this._sources.has(source)) {\n      this._sources.add(source);\n    }\n  }\n\n  if (name != null) {\n    name = String(name);\n\n    if (!this._names.has(name)) {\n      this._names.add(name);\n    }\n  }\n\n  this._mappings.add({\n    generatedLine: generated.line,\n    generatedColumn: generated.column,\n    originalLine: original != null && original.line,\n    originalColumn: original != null && original.column,\n    source: source,\n    name: name\n  });\n};\n/**\n * Set the source content for a source file.\n */\n\n\nSourceMapGenerator.prototype.setSourceContent = function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n  var source = aSourceFile;\n\n  if (this._sourceRoot != null) {\n    source = util.relative(this._sourceRoot, source);\n  }\n\n  if (aSourceContent != null) {\n    // Add the source content to the _sourcesContents map.\n    // Create a new _sourcesContents map if the property is null.\n    if (!this._sourcesContents) {\n      this._sourcesContents = Object.create(null);\n    }\n\n    this._sourcesContents[util.toSetString(source)] = aSourceContent;\n  } else if (this._sourcesContents) {\n    // Remove the source file from the _sourcesContents map.\n    // If the _sourcesContents map is empty, set the property to null.\n    delete this._sourcesContents[util.toSetString(source)];\n\n    if (Object.keys(this._sourcesContents).length === 0) {\n      this._sourcesContents = null;\n    }\n  }\n};\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\n\n\nSourceMapGenerator.prototype.applySourceMap = function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n  var sourceFile = aSourceFile; // If aSourceFile is omitted, we will use the file property of the SourceMap\n\n  if (aSourceFile == null) {\n    if (aSourceMapConsumer.file == null) {\n      throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' + 'or the source map\\'s \"file\" property. Both were omitted.');\n    }\n\n    sourceFile = aSourceMapConsumer.file;\n  }\n\n  var sourceRoot = this._sourceRoot; // Make \"sourceFile\" relative if an absolute Url is passed.\n\n  if (sourceRoot != null) {\n    sourceFile = util.relative(sourceRoot, sourceFile);\n  } // Applying the SourceMap can add and remove items from the sources and\n  // the names array.\n\n\n  var newSources = new ArraySet();\n  var newNames = new ArraySet(); // Find mappings for the \"sourceFile\"\n\n  this._mappings.unsortedForEach(function (mapping) {\n    if (mapping.source === sourceFile && mapping.originalLine != null) {\n      // Check if it can be mapped by the source map, then update the mapping.\n      var original = aSourceMapConsumer.originalPositionFor({\n        line: mapping.originalLine,\n        column: mapping.originalColumn\n      });\n\n      if (original.source != null) {\n        // Copy mapping\n        mapping.source = original.source;\n\n        if (aSourceMapPath != null) {\n          mapping.source = util.join(aSourceMapPath, mapping.source);\n        }\n\n        if (sourceRoot != null) {\n          mapping.source = util.relative(sourceRoot, mapping.source);\n        }\n\n        mapping.originalLine = original.line;\n        mapping.originalColumn = original.column;\n\n        if (original.name != null) {\n          mapping.name = original.name;\n        }\n      }\n    }\n\n    var source = mapping.source;\n\n    if (source != null && !newSources.has(source)) {\n      newSources.add(source);\n    }\n\n    var name = mapping.name;\n\n    if (name != null && !newNames.has(name)) {\n      newNames.add(name);\n    }\n  }, this);\n\n  this._sources = newSources;\n  this._names = newNames; // Copy sourcesContents of applied map.\n\n  aSourceMapConsumer.sources.forEach(function (sourceFile) {\n    var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n\n    if (content != null) {\n      if (aSourceMapPath != null) {\n        sourceFile = util.join(aSourceMapPath, sourceFile);\n      }\n\n      if (sourceRoot != null) {\n        sourceFile = util.relative(sourceRoot, sourceFile);\n      }\n\n      this.setSourceContent(sourceFile, content);\n    }\n  }, this);\n};\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\n\n\nSourceMapGenerator.prototype._validateMapping = function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource, aName) {\n  if (aGenerated && 'line' in aGenerated && 'column' in aGenerated && aGenerated.line > 0 && aGenerated.column >= 0 && !aOriginal && !aSource && !aName) {\n    // Case 1.\n    return;\n  } else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated && aOriginal && 'line' in aOriginal && 'column' in aOriginal && aGenerated.line > 0 && aGenerated.column >= 0 && aOriginal.line > 0 && aOriginal.column >= 0 && aSource) {\n    // Cases 2 and 3.\n    return;\n  } else {\n    throw new Error('Invalid mapping: ' + JSON.stringify({\n      generated: aGenerated,\n      source: aSource,\n      original: aOriginal,\n      name: aName\n    }));\n  }\n};\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\n\n\nSourceMapGenerator.prototype._serializeMappings = function SourceMapGenerator_serializeMappings() {\n  var previousGeneratedColumn = 0;\n  var previousGeneratedLine = 1;\n  var previousOriginalColumn = 0;\n  var previousOriginalLine = 0;\n  var previousName = 0;\n  var previousSource = 0;\n  var result = '';\n  var next;\n  var mapping;\n  var nameIdx;\n  var sourceIdx;\n\n  var mappings = this._mappings.toArray();\n\n  for (var i = 0, len = mappings.length; i < len; i++) {\n    mapping = mappings[i];\n    next = '';\n\n    if (mapping.generatedLine !== previousGeneratedLine) {\n      previousGeneratedColumn = 0;\n\n      while (mapping.generatedLine !== previousGeneratedLine) {\n        next += ';';\n        previousGeneratedLine++;\n      }\n    } else {\n      if (i > 0) {\n        if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n          continue;\n        }\n\n        next += ',';\n      }\n    }\n\n    next += base64VLQ.encode(mapping.generatedColumn - previousGeneratedColumn);\n    previousGeneratedColumn = mapping.generatedColumn;\n\n    if (mapping.source != null) {\n      sourceIdx = this._sources.indexOf(mapping.source);\n      next += base64VLQ.encode(sourceIdx - previousSource);\n      previousSource = sourceIdx; // lines are stored 0-based in SourceMap spec version 3\n\n      next += base64VLQ.encode(mapping.originalLine - 1 - previousOriginalLine);\n      previousOriginalLine = mapping.originalLine - 1;\n      next += base64VLQ.encode(mapping.originalColumn - previousOriginalColumn);\n      previousOriginalColumn = mapping.originalColumn;\n\n      if (mapping.name != null) {\n        nameIdx = this._names.indexOf(mapping.name);\n        next += base64VLQ.encode(nameIdx - previousName);\n        previousName = nameIdx;\n      }\n    }\n\n    result += next;\n  }\n\n  return result;\n};\n\nSourceMapGenerator.prototype._generateSourcesContent = function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n  return aSources.map(function (source) {\n    if (!this._sourcesContents) {\n      return null;\n    }\n\n    if (aSourceRoot != null) {\n      source = util.relative(aSourceRoot, source);\n    }\n\n    var key = util.toSetString(source);\n    return Object.prototype.hasOwnProperty.call(this._sourcesContents, key) ? this._sourcesContents[key] : null;\n  }, this);\n};\n/**\n * Externalize the source map.\n */\n\n\nSourceMapGenerator.prototype.toJSON = function SourceMapGenerator_toJSON() {\n  var map = {\n    version: this._version,\n    sources: this._sources.toArray(),\n    names: this._names.toArray(),\n    mappings: this._serializeMappings()\n  };\n\n  if (this._file != null) {\n    map.file = this._file;\n  }\n\n  if (this._sourceRoot != null) {\n    map.sourceRoot = this._sourceRoot;\n  }\n\n  if (this._sourcesContents) {\n    map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n  }\n\n  return map;\n};\n/**\n * Render the source map being generated to a string.\n */\n\n\nSourceMapGenerator.prototype.toString = function SourceMapGenerator_toString() {\n  return JSON.stringify(this.toJSON());\n};\n\nexports.SourceMapGenerator = SourceMapGenerator;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nvar base64 = require('./base64'); // A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\n\nvar VLQ_BASE_SHIFT = 5; // binary: 100000\n\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT; // binary: 011111\n\nvar VLQ_BASE_MASK = VLQ_BASE - 1; // binary: 100000\n\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\n\nfunction toVLQSigned(aValue) {\n  return aValue < 0 ? (-aValue << 1) + 1 : (aValue << 1) + 0;\n}\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\n\n\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative ? -shifted : shifted;\n}\n/**\n * Returns the base 64 VLQ encoded value.\n */\n\n\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\n\n\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar util = require('./util');\n\nvar has = Object.prototype.hasOwnProperty;\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\n\nfunction ArraySet() {\n  this._array = [];\n  this._set = Object.create(null);\n}\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\n\n\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n\n  return set;\n};\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\n\n\nArraySet.prototype.size = function ArraySet_size() {\n  return Object.getOwnPropertyNames(this._set).length;\n};\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\n\n\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = util.toSetString(aStr);\n  var isDuplicate = has.call(this._set, sStr);\n  var idx = this._array.length;\n\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n\n  if (!isDuplicate) {\n    this._set[sStr] = idx;\n  }\n};\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\n\n\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  var sStr = util.toSetString(aStr);\n  return has.call(this._set, sStr);\n};\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\n\n\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  var sStr = util.toSetString(aStr);\n\n  if (has.call(this._set, sStr)) {\n    return this._set[sStr];\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\n\n\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n\n  throw new Error('No element indexed by ' + aIdx);\n};\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\n\n\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;","import { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { NotificationStack } from 'react-notification';\nimport { dismissAlert } from 'flavours/glitch/actions/alerts';\nimport { getAlerts } from 'flavours/glitch/selectors';\n\nconst mapStateToProps = (state, { intl }) => {\n  const notifications = getAlerts(state);\n\n  notifications.forEach(notification => ['title', 'message'].forEach(key => {\n    const value = notification[key];\n\n    if (typeof value === 'object') {\n      notification[key] = intl.formatMessage(value, notification[`${key}_values`]);\n    }\n  }));\n\n  return { notifications };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onDismiss: alert => {\n      dispatch(dismissAlert(alert));\n    },\n  };\n};\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(NotificationStack));\n","import { connect }    from 'react-redux';\nimport LoadingBar from 'react-redux-loading-bar';\n\nconst mapStateToProps = (state, ownProps) => ({\n  loading: state.get('loadingBar')[ownProps.scope || 'default'],\n});\n\nexport default connect(mapStateToProps)(LoadingBar.WrappedComponent);\n","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stacktrace', ['error-stack-parser', 'stack-generator', 'stacktrace-gps'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('error-stack-parser'), require('stack-generator'), require('stacktrace-gps'));\n  } else {\n    root.StackTrace = factory(root.ErrorStackParser, root.StackGenerator, root.StackTraceGPS);\n  }\n})(this, function StackTrace(ErrorStackParser, StackGenerator, StackTraceGPS) {\n  var _options = {\n    filter: function (stackframe) {\n      // Filter out stackframes for this library by default\n      return (stackframe.functionName || '').indexOf('StackTrace$$') === -1 && (stackframe.functionName || '').indexOf('ErrorStackParser$$') === -1 && (stackframe.functionName || '').indexOf('StackTraceGPS$$') === -1 && (stackframe.functionName || '').indexOf('StackGenerator$$') === -1;\n    },\n    sourceCache: {}\n  };\n\n  var _generateError = function StackTrace$$GenerateError() {\n    try {\n      // Error must be thrown to get stack in IE\n      throw new Error();\n    } catch (err) {\n      return err;\n    }\n  };\n  /**\n   * Merge 2 given Objects. If a conflict occurs the second object wins.\n   * Does not do deep merges.\n   *\n   * @param {Object} first base object\n   * @param {Object} second overrides\n   * @returns {Object} merged first and second\n   * @private\n   */\n\n\n  function _merge(first, second) {\n    var target = {};\n    [first, second].forEach(function (obj) {\n      for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          target[prop] = obj[prop];\n        }\n      }\n\n      return target;\n    });\n    return target;\n  }\n\n  function _isShapedLikeParsableError(err) {\n    return err.stack || err['opera#sourceloc'];\n  }\n\n  function _filtered(stackframes, filter) {\n    if (typeof filter === 'function') {\n      return stackframes.filter(filter);\n    }\n\n    return stackframes;\n  }\n\n  return {\n    /**\n     * Get a backtrace from invocation point.\n     *\n     * @param {Object} opts\n     * @returns {Array} of StackFrame\n     */\n    get: function StackTrace$$get(opts) {\n      var err = _generateError();\n\n      return _isShapedLikeParsableError(err) ? this.fromError(err, opts) : this.generateArtificially(opts);\n    },\n\n    /**\n     * Get a backtrace from invocation point.\n     * IMPORTANT: Does not handle source maps or guess function names!\n     *\n     * @param {Object} opts\n     * @returns {Array} of StackFrame\n     */\n    getSync: function StackTrace$$getSync(opts) {\n      opts = _merge(_options, opts);\n\n      var err = _generateError();\n\n      var stack = _isShapedLikeParsableError(err) ? ErrorStackParser.parse(err) : StackGenerator.backtrace(opts);\n      return _filtered(stack, opts.filter);\n    },\n\n    /**\n     * Given an error object, parse it.\n     *\n     * @param {Error} error object\n     * @param {Object} opts\n     * @returns {Promise} for Array[StackFrame}\n     */\n    fromError: function StackTrace$$fromError(error, opts) {\n      opts = _merge(_options, opts);\n      var gps = new StackTraceGPS(opts);\n      return new Promise(function (resolve) {\n        var stackframes = _filtered(ErrorStackParser.parse(error), opts.filter);\n\n        resolve(Promise.all(stackframes.map(function (sf) {\n          return new Promise(function (resolve) {\n            function resolveOriginal() {\n              resolve(sf);\n            }\n\n            gps.pinpoint(sf).then(resolve, resolveOriginal)['catch'](resolveOriginal);\n          });\n        })));\n      }.bind(this));\n    },\n\n    /**\n     * Use StackGenerator to generate a backtrace.\n     *\n     * @param {Object} opts\n     * @returns {Promise} of Array[StackFrame]\n     */\n    generateArtificially: function StackTrace$$generateArtificially(opts) {\n      opts = _merge(_options, opts);\n      var stackFrames = StackGenerator.backtrace(opts);\n\n      if (typeof opts.filter === 'function') {\n        stackFrames = stackFrames.filter(opts.filter);\n      }\n\n      return Promise.resolve(stackFrames);\n    },\n\n    /**\n     * Given a function, wrap it such that invocations trigger a callback that\n     * is called with a stack trace.\n     *\n     * @param {Function} fn to be instrumented\n     * @param {Function} callback function to call with a stack trace on invocation\n     * @param {Function} errback optional function to call with error if unable to get stack trace.\n     * @param {Object} thisArg optional context object (e.g. window)\n     */\n    instrument: function StackTrace$$instrument(fn, callback, errback, thisArg) {\n      if (typeof fn !== 'function') {\n        throw new Error('Cannot instrument non-function object');\n      } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n        // Already instrumented, return given Function\n        return fn;\n      }\n\n      var instrumented = function StackTrace$$instrumented() {\n        try {\n          this.get().then(callback, errback)['catch'](errback);\n          return fn.apply(thisArg || this, arguments);\n        } catch (e) {\n          if (_isShapedLikeParsableError(e)) {\n            this.fromError(e).then(callback, errback)['catch'](errback);\n          }\n\n          throw e;\n        }\n      }.bind(this);\n\n      instrumented.__stacktraceOriginalFn = fn;\n      return instrumented;\n    },\n\n    /**\n     * Given a function that has been instrumented,\n     * revert the function to it's original (non-instrumented) state.\n     *\n     * @param {Function} fn to de-instrument\n     */\n    deinstrument: function StackTrace$$deinstrument(fn) {\n      if (typeof fn !== 'function') {\n        throw new Error('Cannot de-instrument non-function object');\n      } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n        return fn.__stacktraceOriginalFn;\n      } else {\n        // Function not instrumented, return original\n        return fn;\n      }\n    },\n\n    /**\n     * Given an error message and Array of StackFrames, serialize and POST to given URL.\n     *\n     * @param {Array} stackframes\n     * @param {String} url\n     * @param {String} errorMsg\n     * @param {Object} requestOptions\n     */\n    report: function StackTrace$$report(stackframes, url, errorMsg, requestOptions) {\n      return new Promise(function (resolve, reject) {\n        var req = new XMLHttpRequest();\n        req.onerror = reject;\n\n        req.onreadystatechange = function onreadystatechange() {\n          if (req.readyState === 4) {\n            if (req.status >= 200 && req.status < 400) {\n              resolve(req.responseText);\n            } else {\n              reject(new Error('POST to ' + url + ' failed with status: ' + req.status));\n            }\n          }\n        };\n\n        req.open('post', url); // Set request headers\n\n        req.setRequestHeader('Content-Type', 'application/json');\n\n        if (requestOptions && typeof requestOptions.headers === 'object') {\n          var headers = requestOptions.headers;\n\n          for (var header in headers) {\n            if (Object.prototype.hasOwnProperty.call(headers, header)) {\n              req.setRequestHeader(header, headers[header]);\n            }\n          }\n        }\n\n        var reportPayload = {\n          stack: stackframes\n        };\n\n        if (errorMsg !== undefined && errorMsg !== null) {\n          reportPayload.message = errorMsg;\n        }\n\n        req.send(JSON.stringify(reportPayload));\n      });\n    }\n  };\n});"],"sourceRoot":""}