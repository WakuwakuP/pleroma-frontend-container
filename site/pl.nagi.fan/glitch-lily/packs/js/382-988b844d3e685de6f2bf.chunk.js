/*! For license information please see 382-988b844d3e685de6f2bf.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[382],{101:function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function i(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,o=n+1,i=e.length;o<i;n+=1,o+=1)e[n]=e[o];e.pop()}n.r(t),n.d(t,"createBrowserHistory",(function(){return C})),n.d(t,"createHashHistory",(function(){return I})),n.d(t,"createMemoryHistory",(function(){return N})),n.d(t,"createLocation",(function(){return b})),n.d(t,"locationsAreEqual",(function(){return v})),n.d(t,"parsePath",(function(){return m})),n.d(t,"createPath",(function(){return g}));var a=function(e,t){void 0===t&&(t="");var n,o=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),c=t&&i(t),u=s||c;if(e&&i(e)?a=o:o.length&&(a.pop(),a=a.concat(o)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var d=0,p=a.length;p>=0;p--){var f=a[p];"."===f?r(a,p):".."===f?(r(a,p),d++):d&&(r(a,p),d--)}if(!u)for(;d--;d)a.unshift("..");!u||""===a[0]||a[0]&&i(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,o){return e(t,n[o])}));if("object"==typeof t||"object"==typeof n){var o=s(t),i=s(n);return o!==t||i!==n?e(o,i):Object.keys(Object.assign({},t,n)).every((function(o){return e(t[o],n[o])}))}return!1},u="Invariant failed";var l=function(e,t){if(!e)throw new Error(u)};function d(e){return"/"===e.charAt(0)?e:"/"+e}function p(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function m(e){var t=e||"/",n="",o="",i=t.indexOf("#");-1!==i&&(o=t.substr(i),t=t.substr(0,i));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===o?"":o}}function g(e){var t=e.pathname,n=e.search,o=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(i+="#"===o.charAt(0)?o:"#"+o),i}function b(e,t,n,i){var r;"string"==typeof e?(r=m(e)).state=t:(void 0===(r=o({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(r.key=n),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=a(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,o,i){if(null!=e){var r="function"==typeof e?e(t,n):e;"string"==typeof r?"function"==typeof o?o(r,i):i(!0):i(!1!==r)}else i(!0)},appendListener:function(e){var n=!0;function o(){n&&e.apply(void 0,arguments)}return t.push(o),function(){n=!1,t=t.filter((function(e){return e!==o}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.forEach((function(e){return e.apply(void 0,n)}))}}}var _=!("undefined"==typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}var w="popstate",j="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),_||l(!1);var t,n=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,r=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,c=void 0!==s&&s,u=a.getUserConfirmation,p=void 0===u?O:u,m=a.keyLength,v=void 0===m?6:m,C=e.basename?h(d(e.basename)):"";function S(e){var t=e||{},n=t.key,o=t.state,i=window.location,r=i.pathname+i.search+i.hash;return C&&(r=f(r,C)),b(r,o,n)}function T(){return Math.random().toString(36).substr(2,v)}var x=y();function k(e){o(B,e),B.length=n.length,x.notifyListeners(B.location,B.action)}function M(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(S(e.state))}function I(){N(S(E()))}var L=!1;function N(e){if(L)L=!1,k();else{x.confirmTransitionTo(e,"POP",p,(function(t){t?k({action:"POP",location:e}):function(e){var t=B.location,n=R.indexOf(t.key);-1===n&&(n=0);var o=R.indexOf(e.key);-1===o&&(o=0);var i=n-o;i&&(L=!0,D(i))}(e)}))}}var A=S(E()),R=[A.key];function P(e){return C+g(e)}function D(e){n.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?(window.addEventListener(w,M),r&&window.addEventListener(j,I)):0===U&&(window.removeEventListener(w,M),r&&window.removeEventListener(j,I))}var H=!1;var B={length:n.length,action:"POP",location:A,createHref:P,push:function(e,t){var o="PUSH",r=b(e,t,T(),B.location);x.confirmTransitionTo(r,o,p,(function(e){if(e){var t=P(r),a=r.key,s=r.state;if(i)if(n.pushState({key:a,state:s},null,t),c)window.location.href=t;else{var u=R.indexOf(B.location.key),l=R.slice(0,u+1);l.push(r.key),R=l,k({action:o,location:r})}else window.location.href=t}}))},replace:function(e,t){var o="REPLACE",r=b(e,t,T(),B.location);x.confirmTransitionTo(r,o,p,(function(e){if(e){var t=P(r),a=r.key,s=r.state;if(i)if(n.replaceState({key:a,state:s},null,t),c)window.location.replace(t);else{var u=R.indexOf(B.location.key);-1!==u&&(R[u]=r.key),k({action:o,location:r})}else window.location.replace(t)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return H||(F(1),H=!0),function(){return H&&(H=!1,F(-1)),t()}},listen:function(e){var t=x.appendListener(e);return F(1),function(){F(-1),t()}}};return B}var S="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:d},slash:{encodePath:d,decodePath:d}};function x(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function M(e){window.location.replace(x(window.location.href)+"#"+e)}function I(e){void 0===e&&(e={}),_||l(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,r=void 0===i?O:i,a=n.hashType,s=void 0===a?"slash":a,c=e.basename?h(d(e.basename)):"",u=T[s],p=u.encodePath,m=u.decodePath;function v(){var e=m(k());return c&&(e=f(e,c)),b(e)}var w=y();function j(e){o(H,e),H.length=t.length,w.notifyListeners(H.location,H.action)}var E=!1,C=null;function I(){var e,t,n=k(),o=p(n);if(n!==o)M(o);else{var i=v(),a=H.location;if(!E&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===g(i))return;C=null,function(e){if(E)E=!1,j();else{var t="POP";w.confirmTransitionTo(e,t,r,(function(n){n?j({action:t,location:e}):function(e){var t=H.location,n=R.lastIndexOf(g(t));-1===n&&(n=0);var o=R.lastIndexOf(g(e));-1===o&&(o=0);var i=n-o;i&&(E=!0,P(i))}(e)}))}}(i)}}var L=k(),N=p(L);L!==N&&M(N);var A=v(),R=[g(A)];function P(e){t.go(e)}var D=0;function U(e){1===(D+=e)&&1===e?window.addEventListener(S,I):0===D&&window.removeEventListener(S,I)}var F=!1;var H={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=x(window.location.href)),n+"#"+p(c+g(e))},push:function(e,t){var n="PUSH",o=b(e,void 0,void 0,H.location);w.confirmTransitionTo(o,n,r,(function(e){if(e){var t=g(o),i=p(c+t);if(k()!==i){C=t,function(e){window.location.hash=e}(i);var r=R.lastIndexOf(g(H.location)),a=R.slice(0,r+1);a.push(t),R=a,j({action:n,location:o})}else j()}}))},replace:function(e,t){var n="REPLACE",o=b(e,void 0,void 0,H.location);w.confirmTransitionTo(o,n,r,(function(e){if(e){var t=g(o),i=p(c+t);k()!==i&&(C=t,M(i));var r=R.indexOf(g(H.location));-1!==r&&(R[r]=t),j({action:n,location:o})}}))},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=w.appendListener(e);return U(1),function(){U(-1),t()}}};return H}function L(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,r=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,c=t.keyLength,u=void 0===c?6:c,l=y();function d(e){o(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function p(){return Math.random().toString(36).substr(2,u)}var f=L(s,0,r.length-1),h=r.map((function(e){return b(e,void 0,"string"==typeof e?p():e.key||p())})),m=g;function v(e){var t=L(_.index+e,0,_.entries.length-1),o=_.entries[t];l.confirmTransitionTo(o,"POP",n,(function(e){e?d({action:"POP",location:o,index:t}):d()}))}var _={length:h.length,action:"POP",location:h[f],index:f,entries:h,createHref:m,push:function(e,t){var o="PUSH",i=b(e,t,p(),_.location);l.confirmTransitionTo(i,o,n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:o,location:i,index:t,entries:n})}}))},replace:function(e,t){var o="REPLACE",i=b(e,t,p(),_.location);l.confirmTransitionTo(i,o,n,(function(e){e&&(_.entries[_.index]=i,d({action:o,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return _}},108:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=o,e.exports=t.default},1084:function(e,t,n){var o,i,r;!function(a,s){"use strict";i=[n(860)],void 0===(r="function"==typeof(o=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),o=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=o?n.replace(o[0],""):n).split(/\s+/).slice(1),r=this.extractLocation(o?o[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new e({functionName:a,fileName:s,lineNumber:r[1],columnNumber:r[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(o)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,o=t.match(n),i=o&&o[1]?o[1]:void 0,r=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,o=t.message.split("\n"),i=[],r=2,a=o.length;r<a;r+=2){var s=n.exec(o[r]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:o[r]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=t.stacktrace.split("\n"),i=[],r=0,a=o.length;r<a;r+=2){var s=n.exec(o[r]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:o[r]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,o=t.split("@"),i=this.extractLocation(o.pop()),r=o.shift()||"",a=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;r.match(/\(([^)]*)\)/)&&(n=r.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}})?o.apply(t,i):o)||(e.exports=r)}()},1085:function(e,t,n){var o,i,r;!function(a,s){"use strict";i=[n(860)],void 0===(r="function"==typeof(o=function(e){return{backtrace:function(t){var n=[],o=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(o=t.maxStackSize);for(var i=arguments.callee;i&&n.length<o&&i.arguments;){for(var r=new Array(i.arguments.length),a=0;a<r.length;++a)r[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:r})):n.push(new e({args:r}));try{i=i.caller}catch(e){break}}return n}}})?o.apply(t,i):o)||(e.exports=r)}()},1086:function(e,t,n){var o,i,r;!function(a,s){"use strict";i=[n(1087),n(860)],void 0===(r="function"==typeof(o=function(e,t){function n(e){return new Promise((function(t,n){var o=new XMLHttpRequest;o.open("get",e),o.onerror=n,o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300||"file://"===e.substr(0,7)&&o.responseText?t(o.responseText):n(new Error("HTTP status: "+o.status+" retrieving "+e)))},o.send()}))}function o(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function i(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function r(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],o=e.split("\n"),i="",r=Math.min(t,20),a=0;a<r;++a){var s=o[t-a-1],c=s.indexOf("//");if(c>=0&&(s=s.substr(0,c)),s){i=s+i;for(var u=n.length,l=0;l<u;l++){var d=n[l].exec(i);if(d&&d[1])return d[1]}}}}function a(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function s(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function c(e){for(var t,n,o=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=o.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}function u(e,n,o){return new Promise((function(i,r){var a=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(a.source){var s=n.sourceContentFor(a.source);s&&(o[a.source]=s),i(new t({functionName:a.name||e.functionName,args:e.args,fileName:a.source,lineNumber:a.line,columnNumber:a.column}))}else r(new Error("Could not get original source for given stackframe and source map"))}))}return function l(d){if(!(this instanceof l))return new l(d);d=d||{},this.sourceCache=d.sourceCache||{},this.sourceMapConsumerCache=d.sourceMapConsumerCache||{},this.ajax=d.ajax||n,this._atob=d.atob||o,this._get=function(e){return new Promise(function(t,n){var o="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(d.offline&&!o)n(new Error("Cannot make network requests in offline mode"));else if(o){var i=/^data:application\/json;([\w=:"-]+;)*base64,/,r=e.match(i);if(r){var a=r[0].length,s=e.substr(a),c=this._atob(s);this.sourceCache[e]=c,t(c)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var u=this.ajax(e,{method:"get"});this.sourceCache[e]=u,u.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(o){if(this.sourceMapConsumerCache[t])o(this.sourceMapConsumerCache[t]);else{var r=new Promise(function(o,r){return this._get(t).then((function(t){"string"==typeof t&&(t=i(t.replace(/^\)\]\}'/,""))),void 0===t.sourceRoot&&(t.sourceRoot=n),o(new e.SourceMapConsumer(t))}),r)}.bind(this));this.sourceMapConsumerCache[t]=r,o(r)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,o){s(e),this._get(e.fileName).then((function(o){var i=e.lineNumber,a=e.columnNumber,s=r(o,i,a);n(s?new t({functionName:s,args:e.args,fileName:e.fileName,lineNumber:i,columnNumber:a}):e)}),o).catch(o)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(t,n){a(),s(e);var o=this.sourceCache,i=e.fileName;this._get(i).then(function(n){var r=c(n),a="data:"===r.substr(0,5),s=i.substring(0,i.lastIndexOf("/")+1);return"/"===r[0]||a||/^https?:\/\/|^\/\//i.test(r)||(r=s+r),this._getSourceMapConsumer(r,s).then((function(n){return u(e,n,o).then(t).catch((function(){t(e)}))}))}.bind(this),n).catch(n)}.bind(this))}}})?o.apply(t,i):o)||(e.exports=r)}()},1087:function(e,t,n){t.SourceMapGenerator=n(972).SourceMapGenerator,t.SourceMapConsumer=n(1090).SourceMapConsumer,t.SourceNode=n(1093).SourceNode},1088:function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},1089:function(e,t,n){var o=n(620);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,n,i,r,a,s;t=this._last,n=e,i=t.generatedLine,r=n.generatedLine,a=t.generatedColumn,s=n.generatedColumn,r>i||r==i&&s>=a||o.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i},1090:function(e,t,n){var o=n(620),i=n(1091),r=n(974).ArraySet,a=n(973),s=n(1092).quickSort;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new d(t):new u(t)}function u(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=o.getArg(t,"version"),i=o.getArg(t,"sources"),a=o.getArg(t,"names",[]),s=o.getArg(t,"sourceRoot",null),c=o.getArg(t,"sourcesContent",null),u=o.getArg(t,"mappings"),l=o.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(String).map(o.normalize).map((function(e){return s&&o.isAbsolute(s)&&o.isAbsolute(e)?o.relative(s,e):e})),this._names=r.fromArray(a.map(String),!0),this._sources=r.fromArray(i,!0),this.sourceRoot=s,this.sourcesContent=c,this._mappings=u,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function d(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=o.getArg(t,"version"),i=o.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new r,this._names=new r;var a={line:-1,column:0};this._sections=i.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=o.getArg(e,"offset"),n=o.getArg(t,"line"),i=o.getArg(t,"column");if(n<a.line||n===a.line&&i<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=t,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new c(o.getArg(e,"map"))}}))}c.fromSourceMap=function(e){return u.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var i,r=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=a&&(t=o.join(a,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,r)},c.prototype.allGeneratedPositionsFor=function(e){var t=o.getArg(e,"line"),n={source:o.getArg(e,"source"),originalLine:t,originalColumn:o.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=o.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(a>=0){var s=this._originalMappings[a];if(void 0===e.column)for(var c=s.originalLine;s&&s.originalLine===c;)r.push({line:o.getArg(s,"generatedLine",null),column:o.getArg(s,"generatedColumn",null),lastColumn:o.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a];else for(var u=s.originalColumn;s&&s.originalLine===t&&s.originalColumn==u;)r.push({line:o.getArg(s,"generatedLine",null),column:o.getArg(s,"generatedColumn",null),lastColumn:o.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a]}return r},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.fromSourceMap=function(e){var t=Object.create(u.prototype),n=t._names=r.fromArray(e._names.toArray(),!0),i=t._sources=r.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),c=t.__generatedMappings=[],d=t.__originalMappings=[],p=0,f=a.length;p<f;p++){var h=a[p],m=new l;m.generatedLine=h.generatedLine,m.generatedColumn=h.generatedColumn,h.source&&(m.source=i.indexOf(h.source),m.originalLine=h.originalLine,m.originalColumn=h.originalColumn,h.name&&(m.name=n.indexOf(h.name)),d.push(m)),c.push(m)}return s(t.__originalMappings,o.compareByOriginalPositions),t},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?o.join(this.sourceRoot,e):e}),this)}}),u.prototype._parseMappings=function(e,t){for(var n,i,r,c,u,d=1,p=0,f=0,h=0,m=0,g=0,b=e.length,v=0,y={},_={},O=[],w=[];v<b;)if(";"===e.charAt(v))d++,v++,p=0;else if(","===e.charAt(v))v++;else{for((n=new l).generatedLine=d,c=v;c<b&&!this._charIsMappingSeparator(e,c);c++);if(r=y[i=e.slice(v,c)])v+=i.length;else{for(r=[];v<c;)a.decode(e,v,_),u=_.value,v=_.rest,r.push(u);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");y[i]=r}n.generatedColumn=p+r[0],p=n.generatedColumn,r.length>1&&(n.source=m+r[1],m+=r[1],n.originalLine=f+r[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=h+r[3],h=n.originalColumn,r.length>4&&(n.name=g+r[4],g+=r[4])),w.push(n),"number"==typeof n.originalLine&&O.push(n)}s(w,o.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,s(O,o.compareByOriginalPositions),this.__originalMappings=O},u.prototype._findMapping=function(e,t,n,o,r,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return i.search(e,t,r,a)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:o.getArg(e,"line"),generatedColumn:o.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",o.compareByGeneratedPositionsDeflated,o.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var r=o.getArg(i,"source",null);null!==r&&(r=this._sources.at(r),null!=this.sourceRoot&&(r=o.join(this.sourceRoot,r)));var a=o.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:r,line:o.getArg(i,"originalLine",null),column:o.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=o.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=o.urlParse(this.sourceRoot))){var i=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=o.getArg(e,"source");if(null!=this.sourceRoot&&(t=o.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:o.getArg(e,"line"),originalColumn:o.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions,o.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var r=this._originalMappings[i];if(r.source===n.source)return{line:o.getArg(r,"generatedLine",null),column:o.getArg(r,"generatedColumn",null),lastColumn:o.getArg(r,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=u,d.prototype=Object.create(c.prototype),d.prototype.constructor=c,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),d.prototype.originalPositionFor=function(e){var t={generatedLine:o.getArg(e,"line"),generatedColumn:o.getArg(e,"column")},n=i.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},d.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var o=this._sections[n].consumer.sourceContentFor(e,!0);if(o)return o}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(o.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},d.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],r=i.consumer._generatedMappings,a=0;a<r.length;a++){var c=r[a],u=i.consumer._sources.at(c.source);null!==i.consumer.sourceRoot&&(u=o.join(i.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var l=i.consumer._names.at(c.name);this._names.add(l),l=this._names.indexOf(l);var d={source:u,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}s(this.__generatedMappings,o.compareByGeneratedPositionsDeflated),s(this.__originalMappings,o.compareByOriginalPositions)},t.IndexedSourceMapConsumer=d},1091:function(e,t){function n(e,o,i,r,a,s){var c=Math.floor((o-e)/2)+e,u=a(i,r[c],!0);return 0===u?c:u>0?o-c>1?n(c,o,i,r,a,s):s==t.LEAST_UPPER_BOUND?o<r.length?o:-1:c:c-e>1?n(e,c,i,r,a,s):s==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,o,i,r){if(0===o.length)return-1;var a=n(-1,o.length,e,o,i,r||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===i(o[a],o[a-1],!0);)--a;return a}},1092:function(e,t){function n(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function o(e,t,i,r){if(i<r){var a=i-1;n(e,(l=i,d=r,Math.round(l+Math.random()*(d-l))),r);for(var s=e[r],c=i;c<r;c++)t(e[c],s)<=0&&n(e,a+=1,c);n(e,a+1,c);var u=a+1;o(e,t,i,u-1),o(e,t,u+1,r)}var l,d}t.quickSort=function(e,t){o(e,t,0,e.length-1)}},1093:function(e,t,n){var o=n(972).SourceMapGenerator,i=n(620),r=/(\r?\n)/,a="$$$isSourceNode$$$";function s(e,t,n,o,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[a]=!0,null!=o&&this.add(o)}s.fromStringWithSourceMap=function(e,t,n){var o=new s,a=e.split(r),c=function(){return a.shift()+(a.shift()||"")},u=1,l=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(u<e.generatedLine)){var t=(n=a[0]).substr(0,e.generatedColumn-l);return a[0]=n.substr(e.generatedColumn-l),l=e.generatedColumn,p(d,t),void(d=e)}p(d,c()),u++,l=0}for(;u<e.generatedLine;)o.add(c()),u++;if(l<e.generatedColumn){var n=a[0];o.add(n.substr(0,e.generatedColumn)),a[0]=n.substr(e.generatedColumn),l=e.generatedColumn}d=e}),this),a.length>0&&(d&&p(d,c()),o.add(a.join(""))),t.sources.forEach((function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=i.join(n,e)),o.setSourceContent(e,r))})),o;function p(e,t){if(null===e||void 0===e.source)o.add(t);else{var r=n?i.join(n,e.source):e.source;o.add(new s(e.originalLine,e.originalColumn,r,t,e.name))}}},s.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},s.prototype.walk=function(e){for(var t,n=0,o=this.children.length;n<o;n++)(t=this.children[n])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(e){var t,n,o=this.children.length;if(o>0){for(t=[],n=0;n<o-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},s.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[a]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},s.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},s.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var o=Object.keys(this.sourceContents);for(t=0,n=o.length;t<n;t++)e(i.fromSetString(o[t]),this.sourceContents[o[t]])},s.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},s.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new o(e),i=!1,r=null,a=null,s=null,c=null;return this.walk((function(e,o){t.code+=e,null!==o.source&&null!==o.line&&null!==o.column?(r===o.source&&a===o.line&&s===o.column&&c===o.name||n.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name}),r=o.source,a=o.line,s=o.column,c=o.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),r=null,i=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(r=null,i=!1):i&&n.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=s},110:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(o.default.findDOMNode(e))};var o=r(n(31)),i=r(n(256));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},1290:function(e,t,n){"use strict";var o=n(1),i=n.n(o),r=n(3),a=n.n(r),s=n(79),c=n.n(s),u=n(22),l=n.n(u);n(266);function d(e){return"/"===e.charAt(0)}function p(e,t){for(var n=t,o=n+1,i=e.length;o<i;n+=1,o+=1)e[n]=e[o];e.pop()}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&d(e),r=t&&d(t),a=i||r;if(e&&d(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var s=void 0;if(o.length){var c=o[o.length-1];s="."===c||".."===c||""===c}else s=!1;for(var u=0,l=o.length;l>=0;l--){var f=o[l];"."===f?p(o,l):".."===f?(p(o,l),u++):u&&(p(o,l),u--)}if(!a)for(;u--;u)o.unshift("..");!a||""===o[0]||o[0]&&d(o[0])||o.unshift("");var h=o.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var m=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,o){return e(t,n[o])}));var o=void 0===t?"undefined":h(t);if(o!==(void 0===n?"undefined":h(n)))return!1;if("object"===o){var i=t.valueOf(),r=n.valueOf();if(i!==t||r!==n)return e(i,r);var a=Object.keys(t),s=Object.keys(n);return a.length===s.length&&a.every((function(o){return e(t[o],n[o])}))}return!1},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b=function(e,t,n,o){var i=void 0;"string"==typeof e?(i=function(e){var t=e||"/",n="",o="",i=t.indexOf("#");-1!==i&&(o=t.substr(i),t=t.substr(0,i));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===o?"":o}}(e)).state=t:(void 0===(i=g({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i},v=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&m(e.state,t.state)},y=("undefined"==typeof window||!window.document||window.document.createElement,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign,n(611)),_=n.n(y),O={},w=0,j=function(e){var t=e,n=O[t]||(O[t]={});if(n[e])return n[e];var o=_.a.compile(e);return w<1e4&&(n[e]=o,w++),o},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=j(e);return n(t,{pretty:!0})},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=function(e){function t(){return S(this,t),T(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){l()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=b(e.to),n=b(this.props.to);v(t,n)?c()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"==typeof n?E(n,t.params):C({},n,{pathname:E(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(i.a.Component);x.propTypes={computedMatch:a.a.object,push:a.a.bool,from:a.a.string,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired},x.defaultProps={push:!1},x.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired}).isRequired,staticContext:a.a.object}).isRequired};var k=x;t.a=k},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var o=n(2),i=n(17),r=n(15),a=n(83);const s="STORE_HYDRATE";function c(e){return t=>{const n=(e=>e.withMutations((e=>{void 0!==e.getIn(["local_settings","notifications","show_unread"])&&(!1!==e.getIn(["settings","notifications","showUnread"])&&e.setIn(["settings","notifications","showUnread"],e.getIn(["local_settings","notifications","show_unread"])),e.removeIn(["local_settings","notifications","show_unread"]))})))((e=>Object(o.fromJS)(e,((e,t)=>o.Iterable.isIndexed(t)?t.toList():t.toMap())))(e));t({type:s,state:n}),t(Object(i.rb)()),t(Object(r.g)(Object.values(e.accounts))),t(Object(a.d)())}}},134:function(e,t,n){"use strict";function o(){return Promise.all([n.e(1),n.e(73)]).then(n.bind(null,1094))}function i(){return Promise.all([n.e(1),n.e(69)]).then(n.bind(null,1124))}function r(){return Promise.all([n.e(1),n.e(90)]).then(n.bind(null,1117))}function a(){return Promise.all([n.e(1),n.e(83)]).then(n.bind(null,1121))}function s(){return Promise.all([n.e(1),n.e(94)]).then(n.bind(null,1125))}function c(){return Promise.all([n.e(1),n.e(67)]).then(n.bind(null,1126))}function u(){return Promise.all([n.e(1),n.e(82)]).then(n.bind(null,1122))}function l(){return Promise.all([n.e(1),n.e(86)]).then(n.bind(null,1095))}function d(){return Promise.all([n.e(1),n.e(87)]).then(n.bind(null,1096))}function p(){return Promise.all([n.e(1),n.e(85)]).then(n.bind(null,1123))}function f(){return Promise.all([n.e(1),n.e(92)]).then(n.bind(null,1127))}function h(){return Promise.all([n.e(1),n.e(70)]).then(n.bind(null,1119))}function m(){return Promise.all([n.e(1),n.e(98)]).then(n.bind(null,1132))}function g(){return Promise.all([n.e(1),n.e(80)]).then(n.bind(null,1097))}function b(){return Promise.all([n.e(1),n.e(84)]).then(n.bind(null,1098))}function v(){return Promise.all([n.e(1),n.e(93)]).then(n.bind(null,1099))}function y(){return Promise.all([n.e(1),n.e(63)]).then(n.bind(null,1100))}function _(){return Promise.all([n.e(1),n.e(62)]).then(n.bind(null,1133))}function O(){return Promise.all([n.e(1),n.e(77)]).then(n.bind(null,1101))}function w(){return Promise.all([n.e(1),n.e(78)]).then(n.bind(null,1102))}function j(){return Promise.all([n.e(1),n.e(95)]).then(n.bind(null,1103))}function E(){return Promise.all([n.e(1),n.e(75)]).then(n.bind(null,1104))}function C(){return Promise.all([n.e(1),n.e(76)]).then(n.bind(null,1128))}function S(){return Promise.all([n.e(1),n.e(79)]).then(n.bind(null,1105))}function T(){return Promise.all([n.e(1),n.e(74)]).then(n.bind(null,1106))}function x(){return Promise.all([n.e(1),n.e(66)]).then(n.bind(null,1107))}function k(){return Promise.all([n.e(1),n.e(65)]).then(n.bind(null,1108))}function M(){return Promise.all([n.e(1),n.e(71)]).then(n.bind(null,1129))}function I(){return Promise.all([n.e(1),n.e(89)]).then(n.bind(null,1109))}function L(){return Promise.all([n.e(1),n.e(91)]).then(n.bind(null,1110))}function N(){return Promise.all([n.e(1),n.e(88)]).then(n.bind(null,1111))}function A(){return Promise.all([n.e(1),n.e(64)]).then(n.bind(null,1112))}function R(){return Promise.all([n.e(1),n.e(96)]).then(n.bind(null,1118))}function P(){return n.e(97).then(n.bind(null,1120))}function D(){return n.e(1).then(n.bind(null,850))}function U(){return Promise.resolve().then(n.bind(null,90))}function F(){return Promise.resolve().then(n.bind(null,350))}function H(){return n.e(72).then(n.bind(null,1113))}function B(){return Promise.all([n.e(1),n.e(81)]).then(n.bind(null,1114))}function G(){return Promise.all([n.e(1),n.e(45)]).then(n.bind(null,1130))}function W(){return Promise.all([n.e(1),n.e(46)]).then(n.bind(null,1115))}function q(){return n.e(381).then(n.t.bind(null,854,7))}function z(){return Promise.all([n.e(1),n.e(43)]).then(n.bind(null,1134))}function K(){return Promise.all([n.e(1),n.e(44)]).then(n.bind(null,1131))}function V(){return Promise.all([n.e(1),n.e(68)]).then(n.bind(null,1116))}n.d(t,"n",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"H",(function(){return r})),n.d(t,"y",(function(){return a})),n.d(t,"L",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"x",(function(){return u})),n.d(t,"C",(function(){return l})),n.d(t,"D",(function(){return d})),n.d(t,"B",(function(){return p})),n.d(t,"J",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"Q",(function(){return m})),n.d(t,"v",(function(){return g})),n.d(t,"z",(function(){return b})),n.d(t,"K",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return w})),n.d(t,"M",(function(){return j})),n.d(t,"p",(function(){return E})),n.d(t,"r",(function(){return C})),n.d(t,"u",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"l",(function(){return M})),n.d(t,"G",(function(){return I})),n.d(t,"I",(function(){return L})),n.d(t,"F",(function(){return N})),n.d(t,"d",(function(){return A})),n.d(t,"N",(function(){return R})),n.d(t,"P",(function(){return P})),n.d(t,"E",(function(){return D})),n.d(t,"S",(function(){return U})),n.d(t,"c",(function(){return F})),n.d(t,"m",(function(){return H})),n.d(t,"w",(function(){return B})),n.d(t,"A",(function(){return G})),n.d(t,"O",(function(){return W})),n.d(t,"R",(function(){return q})),n.d(t,"k",(function(){return z})),n.d(t,"q",(function(){return K})),n.d(t,"h",(function(){return V}))},140:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return y}));var o=n(8);const i="DOMAIN_BLOCK_REQUEST",r="DOMAIN_BLOCK_SUCCESS",a="DOMAIN_BLOCK_FAIL",s="DOMAIN_UNBLOCK_REQUEST",c="DOMAIN_UNBLOCK_SUCCESS",u="DOMAIN_UNBLOCK_FAIL",l="DOMAIN_BLOCKS_FETCH_REQUEST",d="DOMAIN_BLOCKS_FETCH_SUCCESS",p="DOMAIN_BLOCKS_FETCH_FAIL",f="DOMAIN_BLOCKS_EXPAND_REQUEST",h="DOMAIN_BLOCKS_EXPAND_SUCCESS",m="DOMAIN_BLOCKS_EXPAND_FAIL";function g(e){return(t,n)=>{t(function(e){return{type:i,domain:e}}(e)),Object(o.a)(n).post("/api/v1/domain_blocks",{domain:e}).then((()=>{const o="@"+e,i=n().get("accounts").filter((e=>e.get("acct").endsWith(o))).valueSeq().map((e=>e.get("id")));t(function(e,t){return{type:r,domain:e,accounts:t}}(e,i))})).catch((n=>{t(function(e,t){return{type:a,domain:e,error:t}}(e,n))}))}}function b(e){return(t,n)=>{t(function(e){return{type:s,domain:e}}(e)),Object(o.a)(n).delete("/api/v1/domain_blocks",{params:{domain:e}}).then((()=>{const o="@"+e,i=n().get("accounts").filter((e=>e.get("acct").endsWith(o))).valueSeq().map((e=>e.get("id")));t(function(e,t){return{type:c,domain:e,accounts:t}}(e,i))})).catch((n=>{t(function(e,t){return{type:u,domain:e,error:t}}(e,n))}))}}function v(){return(e,t)=>{e({type:l}),Object(o.a)(t).get("/api/v1/domain_blocks").then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(function(e,t){return{type:d,domains:e,next:t}}(t.data,n?n.uri:null))})).catch((t=>{e({type:p,error:t})}))}}function y(){return(e,t)=>{const n=t().getIn(["domain_lists","blocks","next"]);n&&(e({type:f}),Object(o.a)(t).get(n).then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(function(e,t){return{type:h,domains:e,next:t}}(t.data,n?n.uri:null))})).catch((t=>{e({type:m,error:t})})))}}},141:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"j",(function(){return _}));var o=n(8),i=n(19),r=n(15),a=n(51);const s="MUTES_FETCH_REQUEST",c="MUTES_FETCH_SUCCESS",u="MUTES_FETCH_FAIL",l="MUTES_EXPAND_REQUEST",d="MUTES_EXPAND_SUCCESS",p="MUTES_EXPAND_FAIL",f="MUTES_INIT_MODAL",h="MUTES_TOGGLE_HIDE_NOTIFICATIONS",m="MUTES_CHANGE_DURATION";function g(){return(e,t)=>{e({type:s}),Object(o.a)(t).get("/api/v1/mutes").then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(r.g)(t.data)),e(function(e,t){return{type:c,accounts:e,next:t}}(t.data,n?n.uri:null)),e(Object(i.cb)(t.data.map((e=>e.id))))})).catch((t=>e(function(e){return{type:u,error:e}}(t))))}}function b(){return(e,t)=>{const n=t().getIn(["user_lists","mutes","next"]);null!==n&&(e({type:l}),Object(o.a)(t).get(n).then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(r.g)(t.data)),e(function(e,t){return{type:d,accounts:e,next:t}}(t.data,n?n.uri:null)),e(Object(i.cb)(t.data.map((e=>e.id))))})).catch((t=>e(function(e){return{type:p,error:e}}(t)))))}}function v(e){return t=>{t({type:f,account:e}),t(Object(a.d)("MUTE"))}}function y(){return e=>{e({type:h})}}function _(e){return t=>{t({type:m,duration:e})}}},142:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"s",(function(){return w})),n.d(t,"o",(function(){return j})),n.d(t,"m",(function(){return T})),n.d(t,"q",(function(){return I})),n.d(t,"t",(function(){return R})),n.d(t,"r",(function(){return P})),n.d(t,"n",(function(){return D}));var o=n(8),i=n(99);const r="ANNOUNCEMENTS_FETCH_REQUEST",a="ANNOUNCEMENTS_FETCH_SUCCESS",s="ANNOUNCEMENTS_FETCH_FAIL",c="ANNOUNCEMENTS_UPDATE",u="ANNOUNCEMENTS_DELETE",l="ANNOUNCEMENTS_DISMISS_SUCCESS",d="ANNOUNCEMENTS_REACTION_ADD_REQUEST",p="ANNOUNCEMENTS_REACTION_ADD_FAIL",f="ANNOUNCEMENTS_REACTION_REMOVE_REQUEST",h="ANNOUNCEMENTS_REACTION_REMOVE_FAIL",m="ANNOUNCEMENTS_REACTION_UPDATE",g="ANNOUNCEMENTS_TOGGLE_SHOW",b=()=>{},v=function(e){return void 0===e&&(e=b),(t,n)=>{t(y()),Object(o.a)(n).get("/api/v1/announcements").then((e=>{t(_(e.data.map((e=>Object(i.b)(e)))))})).catch((e=>{t(O(e))})).finally((()=>{e()}))}},y=()=>({type:r,skipLoading:!0}),_=e=>({type:a,announcements:e,skipLoading:!0}),O=e=>({type:s,error:e,skipLoading:!0,skipAlert:!0}),w=e=>({type:c,announcement:Object(i.b)(e)}),j=e=>(t,n)=>{t(E(e)),Object(o.a)(n).post("/api/v1/announcements/"+e+"/dismiss").then((()=>{t(C(e))})).catch((n=>{t(S(e,n))}))},E=e=>({type:"ANNOUNCEMENTS_DISMISS_REQUEST",id:e}),C=e=>({type:l,id:e}),S=(e,t)=>({type:"ANNOUNCEMENTS_DISMISS_FAIL",id:e,error:t}),T=(e,t)=>(n,i)=>{const r=i().getIn(["announcements","items"]).find((t=>t.get("id")===e));let a=!1;if(r){const e=r.get("reactions").find((e=>e.get("name")===t));e&&e.get("me")&&(a=!0)}a||n(x(e,t,a)),Object(o.a)(i).put("/api/v1/announcements/"+e+"/reactions/"+t).then((()=>{n(k(e,t,a))})).catch((o=>{a||n(M(e,t,o))}))},x=(e,t)=>({type:d,id:e,name:t,skipLoading:!0}),k=(e,t)=>({type:"ANNOUNCEMENTS_REACTION_ADD_SUCCESS",id:e,name:t,skipLoading:!0}),M=(e,t,n)=>({type:p,id:e,name:t,error:n,skipLoading:!0}),I=(e,t)=>(n,i)=>{n(L(e,t)),Object(o.a)(i).delete("/api/v1/announcements/"+e+"/reactions/"+t).then((()=>{n(N(e,t))})).catch((o=>{n(A(e,t,o))}))},L=(e,t)=>({type:f,id:e,name:t,skipLoading:!0}),N=(e,t)=>({type:"ANNOUNCEMENTS_REACTION_REMOVE_SUCCESS",id:e,name:t,skipLoading:!0}),A=(e,t,n)=>({type:h,id:e,name:t,error:n,skipLoading:!0}),R=e=>({type:m,reaction:e}),P=()=>({type:g}),D=e=>({type:u,id:e})},1556:function(e,t,n){var o,i;i=function(e){"use strict";e=e||{};var t,n,o,i,r,a,s,c,u,l,d,p,f,h,m,g,b={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(f={}).ff="undefined"!=typeof InstallTrigger,f.chrome=!!window.chrome,f.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,f.ie=!1,f.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,f.supported=f.chrome||f.ff||f.opera;var v=[];d=function(){},c=p=!1;var y={ready:function(){c=!0,y.reset(),d()},reset:function(){c&&(v=[],u=!1,l=!1,a.clearRect(0,0,i,o),a.drawImage(s,0,0,i,o),j.setIcon(r),window.clearTimeout(h),window.clearTimeout(m))},start:function(){if(c&&!l&&v.length>0){l=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach((function(e){e in v[0].options&&(t[e]=v[0].options[e])})),S.run(v[0].options,(function(){u=v[0],l=!1,v.length>0&&(v.shift(),y.start())}),!1)};u?S.run(u.options,(function(){e()}),!0):e()}}},_={},O=function(e){return e.n="number"==typeof e.n?Math.abs(0|e.n):e.n,e.x=i*e.x,e.y=o*e.y,e.w=i*e.w,e.h=o*e.h,e.len=(""+e.n).length,e};function w(e){if(e.paused||e.ended||p)return!1;try{a.clearRect(0,0,i,o),a.drawImage(e,0,0,i,o)}catch(e){}m=setTimeout((function(){w(e)}),S.duration),j.setIcon(r)}_.circle=function(e){var n=!1;2===(e=O(e)).len?(e.x=e.x-.4*e.w,e.w=1.4*e.w,n=!0):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w,n=!0),a.clearRect(0,0,i,o),a.drawImage(s,0,0,i,o),a.beginPath(),a.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+t.fontFamily,a.textAlign="center",n?(a.moveTo(e.x+e.w/2,e.y),a.lineTo(e.x+e.w-e.h/2,e.y),a.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2),a.lineTo(e.x+e.w,e.y+e.h-e.h/2),a.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h),a.lineTo(e.x+e.h/2,e.y+e.h),a.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2),a.lineTo(e.x,e.y+e.h/2),a.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)):a.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI),a.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")",a.fill(),a.closePath(),a.beginPath(),a.stroke(),a.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")","number"==typeof e.n&&e.n>999?a.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):a.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),a.closePath()},_.rectangle=function(e){2===(e=O(e)).len?(e.x=e.x-.4*e.w,e.w=1.4*e.w):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w),a.clearRect(0,0,i,o),a.drawImage(s,0,0,i,o),a.beginPath(),a.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+t.fontFamily,a.textAlign="center",a.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")",a.fillRect(e.x,e.y,e.w,e.h),a.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")","number"==typeof e.n&&e.n>999?a.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):a.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),a.closePath()};var j={};function E(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,o){return t+t+n+n+o+o}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return!!t&&{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function C(e,t){var n,o={};for(n in e)o[n]=e[n];for(n in t)o[n]=t[n];return o}j.getIcon=function(){var e=!1;return t.element?e=t.element:t.elementId?(e=g.getElementById(t.elementId)).setAttribute("href",e.getAttribute("src")):!1===(e=function(){for(var e=g.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length-1;t>=0;t--)if(/(^|\s)icon(\s|$)/i.test(e[t].getAttribute("rel")))return e[t];return!1}())&&((e=g.createElement("link")).setAttribute("rel","icon"),g.getElementsByTagName("head")[0].appendChild(e)),e.setAttribute("type","image/png"),e},j.setIcon=function(e){var o=e.toDataURL("image/png");if(t.dataUrl&&t.dataUrl(o),t.element)t.element.setAttribute("href",o),t.element.setAttribute("src",o);else if(t.elementId){var i=g.getElementById(t.elementId);i.setAttribute("href",o),i.setAttribute("src",o)}else if(f.ff||f.opera){var r=n;n=g.createElement("link"),f.opera&&n.setAttribute("rel","icon"),n.setAttribute("rel","icon"),n.setAttribute("type","image/png"),g.getElementsByTagName("head")[0].appendChild(n),n.setAttribute("href",o),r.parentNode&&r.parentNode.removeChild(r)}else n.setAttribute("href",o)};var S={duration:40,types:{}};return S.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],S.run=function(e,n,o,i){var a=S.types[g.hidden||g.msHidden||g.webkitHidden||g.mozHidden?"none":t.animation];i=!0===o?void 0!==i?i:a.length-1:void 0!==i?i:0,n=n||function(){},i<a.length&&i>=0?(_[t.type](C(e,a[i])),h=setTimeout((function(){o?i-=1:i+=1,S.run(e,n,o,i)}),S.duration),j.setIcon(r)):n()},function(){(t=C(b,e)).bgColor=E(t.bgColor),t.textColor=E(t.textColor),t.position=t.position.toLowerCase(),t.animation=S.types[""+t.animation]?t.animation:b.animation,g=t.win.document;var c=t.position.indexOf("up")>-1,u=t.position.indexOf("left")>-1;if(c||u)for(var l=0;l<S.types[""+t.animation].length;l++){var d=S.types[""+t.animation][l];c&&(d.y<.6?d.y=d.y-.4:d.y=d.y-2*d.y+(1-d.w)),u&&(d.x<.6?d.x=d.x-.4:d.x=d.x-2*d.x+(1-d.h)),S.types[""+t.animation][l]=d}t.type=_[""+t.type]?t.type:b.type,n=j.getIcon(),r=document.createElement("canvas"),s=document.createElement("img"),n.hasAttribute("href")?(s.setAttribute("crossOrigin","anonymous"),s.onload=function(){o=s.height>0?s.height:32,i=s.width>0?s.width:32,r.height=o,r.width=i,a=r.getContext("2d"),y.ready()},s.setAttribute("src",n.getAttribute("href"))):(s.onload=function(){o=32,i=32,s.height=o,s.width=i,r.height=o,r.width=i,a=r.getContext("2d"),y.ready()},s.setAttribute("src",""))}(),{badge:function(e,t){t=("string"==typeof t?{animation:t}:t)||{},d=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};if("animation"in t&&S.types[""+t.animation]&&(n.options.animation=""+t.animation),"type"in t&&_[""+t.type]&&(n.options.type=""+t.type),["bgColor","textColor"].forEach((function(e){e in t&&(n.options[e]=E(t[e]))})),["fontStyle","fontFamily"].forEach((function(e){e in t&&(n.options[e]=t[e])})),v.push(n),v.length>100)throw new Error("Too many badges requests in queue.");y.start()}else y.reset()}catch(e){throw new Error("Error setting badge. Message: "+e.message)}},c&&d()},video:function(e){d=function(){try{if("stop"===e)return p=!0,y.reset(),void(p=!1);e.addEventListener("play",(function(){w(this)}),!1)}catch(e){throw new Error("Error setting video. Message: "+e.message)}},c&&d()},image:function(e){d=function(){try{var t=e.width,n=e.height,s=document.createElement("img"),c=t/i<n/o?t/i:n/o;s.setAttribute("crossOrigin","anonymous"),s.onload=function(){a.clearRect(0,0,i,o),a.drawImage(s,0,0,i,o),j.setIcon(r)},s.setAttribute("src",e.getAttribute("src")),s.height=n/c,s.width=t/c}catch(e){throw new Error("Error setting image. Message: "+e.message)}},c&&d()},webcam:function(e){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(e){return e}),f.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,d=function(){try{if("stop"===e)return p=!0,y.reset(),void(p=!1);(t=document.createElement("video")).width=i,t.height=o,navigator.getUserMedia({video:!0,audio:!1},(function(e){t.src=URL.createObjectURL(e),t.play(),w(t)}),(function(){}))}catch(e){throw new Error("Error setting webcam. Message: "+e.message)}},c&&d()}},reset:y.reset,browser:{supported:f.supported}}},void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)},1558:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),r=n(0),a=n(12),s=n(3),c=n.n(s),u=n(844),l=n(1282),d=n(995),p=n(970),f=n(29),h=n.n(f),m=n(990),g=n(991),b=n(846),v=n(1290),y=n(1068),_=n(398),O=n(17),w=n(41),j=n(58),E=n(636),C=n(635),S=n(602),T=n(208),x=n(36),k=n(1291),M=n(1302),I=n(1294),L=n(18);class N extends L.a{render(){let{title:e,icon:t}=this.props;return Object(r.a)(M.a,{},void 0,Object(r.a)(I.a,{icon:t,title:e,multiColumn:!1,focusable:!1,placeholder:!0}),Object(r.a)("div",{className:"scrollable"}))}}N.propTypes={title:c.a.oneOfType([c.a.node,c.a.string]),icon:c.a.string},N.defaultProps={title:"",icon:""};var A=n(4),R=n(1292),P=n(1368),D=n(1303),U=n(45);const F=Object(A.f)({title:{id:"bundle_column_error.title",defaultMessage:"Network error"},body:{id:"bundle_column_error.body",defaultMessage:"Something went wrong while loading this component."},retry:{id:"bundle_column_error.retry",defaultMessage:"Try again"}});class H extends i.a.Component{constructor(){super(...arguments),this.handleRetry=()=>{this.props.onRetry()}}render(){const{intl:{formatMessage:e}}=this.props;return Object(r.a)(R.a,{},void 0,Object(r.a)(P.a,{icon:"exclamation-circle",type:e(F.title)}),Object(r.a)(D.a,{}),Object(r.a)("div",{className:"error-column"},void 0,Object(r.a)(U.a,{title:e(F.retry),icon:"refresh",onClick:this.handleRetry,size:64}),e(F.body)))}}var B=Object(A.g)(H),G=n(678);class W extends i.a.PureComponent{render(){const{multiColumn:e,children:t}=this.props;return Object(r.a)(k.a,{},void 0,i.a.Children.map(t,(t=>i.a.cloneElement(t,{multiColumn:e}))))}}class q extends i.a.Component{constructor(){super(...arguments),this.renderComponent=e=>{let{match:t}=e;const{component:n,content:o,multiColumn:a,componentParams:s}=this.props;return Object(r.a)(G.a,{fetchComponent:n,loading:this.renderLoading,error:this.renderError},void 0,(e=>i.a.createElement(e,Object(x.a)({params:t.params,multiColumn:a},s),o)))},this.renderLoading=()=>Object(r.a)(N,{}),this.renderError=e=>i.a.createElement(B,e)}render(){const{component:e,content:t,...n}=this.props;return i.a.createElement(d.a,Object(x.a)({},n,{render:this.renderComponent}))}}q.defaultProps={componentParams:{}};var z=n(227),K=n(26),V=n.n(K);class Q extends i.a.PureComponent{constructor(){super(...arguments),this.handleKeyUp=e=>{const t=e.keyCode;if(this.props.active)switch(t){case 27:e.preventDefault(),e.stopPropagation(),this.props.onClose()}}}componentDidMount(){window.addEventListener("keyup",this.handleKeyUp,!1)}componentWillUnmount(){window.removeEventListener("keyup",this.handleKeyUp)}render(){const{active:e}=this.props;return Object(r.a)(z.a,{defaultStyle:{backgroundOpacity:0,backgroundScale:.95},style:{backgroundOpacity:V()(e?1:0,{stiffness:150,damping:15}),backgroundScale:V()(e?1:.95,{stiffness:200,damping:3})}},void 0,(t=>{let{backgroundOpacity:n,backgroundScale:o}=t;return Object(r.a)("div",{className:"upload-area",style:{visibility:e?"visible":"hidden",opacity:n}},void 0,Object(r.a)("div",{className:"upload-area__drop"},void 0,Object(r.a)("div",{className:"upload-area__background",style:{transform:"scale("+o+")"}}),Object(r.a)("div",{className:"upload-area__content"},void 0,Object(r.a)(A.b,{id:"upload_area.title",defaultMessage:"Drag & drop to upload"}))))}))}}var X=n(468),J=n(16),Y=n.n(J),$=n(282),Z=n.n($),ee=n(1287),te=n(28),ne=n(1363);var oe,ie=Object(a.connect)((e=>({count:e.getIn(["local_settings","notifications","tab_badge"])?e.getIn(["notifications","unread"]):0,id:"bell"})))(ne.a);const re=[Object(r.a)(ee.a,{className:"tabs-bar__link",to:"/home","data-preview-title-id":"column.home","data-preview-icon":"home"},void 0,Object(r.a)(te.a,{id:"home",fixedWidth:!0}),Object(r.a)(A.b,{id:"tabs_bar.home",defaultMessage:"Home"})),Object(r.a)(ee.a,{className:"tabs-bar__link",to:"/notifications","data-preview-title-id":"column.notifications","data-preview-icon":"bell"},void 0,Object(r.a)(ie,{}),Object(r.a)(A.b,{id:"tabs_bar.notifications",defaultMessage:"Notifications"})),Object(r.a)(ee.a,{className:"tabs-bar__link",to:"/public/local","data-preview-title-id":"column.community","data-preview-icon":"users"},void 0,Object(r.a)(te.a,{id:"users",fixedWidth:!0}),Object(r.a)(A.b,{id:"tabs_bar.local_timeline",defaultMessage:"Local"})),Object(r.a)(ee.a,{className:"tabs-bar__link",exact:!0,to:"/public","data-preview-title-id":"column.public","data-preview-icon":"globe"},void 0,Object(r.a)(te.a,{id:"globe",fixedWidth:!0}),Object(r.a)(A.b,{id:"tabs_bar.federated_timeline",defaultMessage:"Federated"})),Object(r.a)(ee.a,{className:"tabs-bar__link optional",to:"/search","data-preview-title-id":"tabs_bar.search","data-preview-icon":"bell"},void 0,Object(r.a)(te.a,{id:"search",fixedWidth:!0}),Object(r.a)(A.b,{id:"tabs_bar.search",defaultMessage:"Search"})),Object(r.a)(ee.a,{className:"tabs-bar__link",style:{flexGrow:"0",flexBasis:"30px"},to:"/getting-started","data-preview-title-id":"getting_started.heading","data-preview-icon":"bars"},void 0,Object(r.a)(te.a,{id:"bars",fixedWidth:!0}))];function ae(e){return re.findIndex((t=>t.props.to===e))}function se(e){return re[e].props.to}let ce=Object(A.g)(oe=Object(y.a)(oe=class extends i.a.PureComponent{constructor(){super(...arguments),this.setRef=e=>{this.node=e},this.handleClick=e=>{Object(_.c)()&&(e.preventDefault(),e.persist(),requestAnimationFrame((()=>{const t=Array(...this.node.querySelectorAll(".tabs-bar__link")),n=t.find((e=>e.classList.contains("active"))),o=t.find((t=>t.contains(e.target))),{props:{to:i}}=re[Array(...this.node.childNodes).indexOf(o)];if(n!==o){n&&n.classList.remove("active");const e=h()((()=>{o.removeEventListener("transitionend",e),this.props.history.push(i)}),50);o.addEventListener("transitionend",e),o.classList.add("active")}})))}}render(){const{intl:{formatMessage:e}}=this.props;return Object(r.a)("div",{className:"tabs-bar__wrapper"},void 0,i.a.createElement("nav",{className:"tabs-bar",ref:this.setRef},re.map((t=>i.a.cloneElement(t,{key:t.props.to,onClick:this.handleClick,"aria-label":e({id:t.props["data-preview-title-id"]})})))),Object(r.a)("div",{id:"tabs-bar__portal"}))}})||oe)||oe;var ue=n(618),le=n(14),de=n.n(le);var pe=()=>Object(r.a)("div",{className:"drawer"},void 0,Object(r.a)("div",{className:"drawer__pager"},void 0,Object(r.a)("div",{className:"drawer__inner"}))),fe=n(134),he=n(1358),me=n(982),ge=n(1411),be=n(1436);var ve,ye,_e=()=>Object(r.a)("div",{className:"compose-panel"},void 0,Object(r.a)(he.a,{openInRoute:!0}),Object(r.a)(ge.a,{}),Object(r.a)(me.a,{singleColumn:!0}),Object(r.a)(be.a,{withHotkeys:!0})),Oe=n(372),we=n(19),je=n(2);let Ee=(ve=Object(a.connect)((e=>({count:e.getIn(["user_lists","follow_requests","items"],Object(je.List)()).size}))),Object(y.a)(ye=ve(ye=class extends i.a.Component{componentDidMount(){const{dispatch:e}=this.props;e(Object(we.X)())}render(){const{count:e}=this.props;return 0===e?null:Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/follow_requests"},void 0,Object(r.a)(ne.a,{className:"column-link__icon",id:"user-plus",count:e}),Object(r.a)(A.b,{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"}))}})||ye)||ye);var Ce,Se,Te,xe=n(40),ke=n(39);const Me=Object(ke.a)([e=>e.get("lists")],(e=>e?e.toList().filter((e=>!!e)).sort(((e,t)=>e.get("title").localeCompare(t.get("title")))).take(4):e));let Ie=(Ce=Object(a.connect)((e=>({lists:Me(e)}))),Object(y.a)(Se=Ce(((Te=class extends L.a{componentDidMount(){const{dispatch:e}=this.props;e(Object(xe.I)())}render(){const{lists:e}=this.props;return!e||e.isEmpty()?null:Object(r.a)("div",{},void 0,Object(r.a)("hr",{}),e.map((e=>Object(r.a)(ee.a,{className:"column-link column-link--transparent",strict:!0,to:"/lists/"+e.get("id")},e.get("id"),Object(r.a)(te.a,{className:"column-link__icon",id:"list-ul",fixedWidth:!0}),e.get("title")))))}}).propTypes={dispatch:c.a.func.isRequired,lists:Y.a.list},Se=Te))||Se)||Se);var Le=n(1451);var Ne,Ae,Re=Object(y.a)((e=>{let{onOpenSettings:t}=e;return Object(r.a)("div",{className:"navigation-panel"},void 0,Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/home","data-preview-title-id":"column.home","data-preview-icon":"home"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"home",fixedWidth:!0}),Object(r.a)(A.b,{id:"tabs_bar.home",defaultMessage:"Home"})),Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/notifications","data-preview-title-id":"column.notifications","data-preview-icon":"bell"},void 0,Object(r.a)(ie,{className:"column-link__icon"}),Object(r.a)(A.b,{id:"tabs_bar.notifications",defaultMessage:"Notifications"})),Object(r.a)(Ee,{}),Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/public/local","data-preview-title-id":"column.community","data-preview-icon":"users"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"users",fixedWidth:!0}),Object(r.a)(A.b,{id:"tabs_bar.local_timeline",defaultMessage:"Local"})),Object(r.a)(ee.a,{className:"column-link column-link--transparent",exact:!0,to:"/public","data-preview-title-id":"column.public","data-preview-icon":"globe"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"globe",fixedWidth:!0}),Object(r.a)(A.b,{id:"tabs_bar.federated_timeline",defaultMessage:"Federated"})),Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/conversations"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"envelope",fixedWidth:!0}),Object(r.a)(A.b,{id:"navigation_bar.direct",defaultMessage:"Direct messages"})),Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/bookmarks"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"bookmark",fixedWidth:!0}),Object(r.a)(A.b,{id:"navigation_bar.bookmarks",defaultMessage:"Bookmarks"})),le.profile_directory&&Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/directory"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"address-book-o",fixedWidth:!0}),Object(r.a)(A.b,{id:"getting_started.directory",defaultMessage:"Profile directory"})),Object(r.a)(ee.a,{className:"column-link column-link--transparent",to:"/lists"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"list-ul",fixedWidth:!0}),Object(r.a)(A.b,{id:"navigation_bar.lists",defaultMessage:"Lists"})),Object(r.a)(Ie,{}),Object(r.a)("hr",{}),!!Oe.d&&Object(r.a)("a",{className:"column-link column-link--transparent",href:Oe.d,target:"_blank"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"cog",fixedWidth:!0}),Object(r.a)(A.b,{id:"navigation_bar.preferences",defaultMessage:"Preferences"})),Object(r.a)("a",{className:"column-link column-link--transparent",href:"#",onClick:t},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"cogs",fixedWidth:!0}),Object(r.a)(A.b,{id:"navigation_bar.app_settings",defaultMessage:"App settings"})),!!Oe.f&&Object(r.a)("a",{className:"column-link column-link--transparent",href:Oe.f,target:"_blank"},void 0,Object(r.a)(te.a,{className:"column-link__icon",id:"users",fixedWidth:!0}),Object(r.a)(A.b,{id:"navigation_bar.follows_and_followers",defaultMessage:"Follows and followers"})),le.showTrends&&Object(r.a)("div",{className:"flex-spacer"}),le.showTrends&&Object(r.a)(Le.a,{}))})),Pe=n(251),De=n(1361);const Ue={COMPOSE:fe.i,HOME:fe.y,NOTIFICATIONS:fe.H,PUBLIC:fe.L,REMOTE:fe.L,COMMUNITY:fe.g,HASHTAG:fe.x,DIRECT:fe.j,FAVOURITES:fe.o,BOOKMARKS:fe.f,LIST:fe.C,DIRECTORY:fe.k},Fe=Object(A.f)({publish:{id:"compose_form.publish",defaultMessage:"Toot"}});let He=(e=>Object(A.g)(e,{withRef:!0}))(((Ae=class extends L.a{constructor(){super(...arguments),this.mediaQuery="matchMedia"in window&&window.matchMedia("(max-width: 895px)"),this.state={shouldAnimate:!1,renderComposePanel:!(this.mediaQuery&&this.mediaQuery.matches)},this.handleLayoutChange=e=>{this.setState({renderComposePanel:!e.matches})},this.handleSwipe=e=>{this.pendingIndex=e;const t='.tabs-bar__link[data-preview-title-id="'+re[e].props["data-preview-title-id"]+'"]';document.querySelector(".tabs-bar__link.active").classList.remove("active"),document.querySelector(t).classList.add("active"),this.state.shouldAnimate||"number"!=typeof this.pendingIndex||(this.context.router.history.push(se(this.pendingIndex)),this.pendingIndex=null)},this.handleAnimationEnd=()=>{"number"==typeof this.pendingIndex&&(this.context.router.history.push(se(this.pendingIndex)),this.pendingIndex=null)},this.handleWheel=()=>{"function"==typeof this._interruptScrollAnimation&&this._interruptScrollAnimation()},this.setRef=e=>{this.node=e},this.renderView=(e,t)=>{const n=ae(this.context.router.history.location.pathname),o=this.props.intl.formatMessage({id:e.props["data-preview-title-id"]}),a=e.props["data-preview-icon"],s=t===n?i.a.cloneElement(this.props.children):Object(r.a)(N,{title:o,icon:a});return Object(r.a)("div",{className:"columns-area columns-area--mobile"},t,s)},this.renderLoading=e=>()=>"COMPOSE"===e?Object(r.a)(pe,{}):Object(r.a)(N,{}),this.renderError=e=>i.a.createElement(B,e)}componentWillReceiveProps(){"number"!=typeof this.pendingIndex&&this.lastIndex!==ae(this.context.router.history.location.pathname)&&this.setState({shouldAnimate:!1})}componentDidMount(){this.props.singleColumn||this.node.addEventListener("wheel",this.handleWheel,!!Pe.a&&{passive:!0}),this.mediaQuery&&(this.mediaQuery.addEventListener?this.mediaQuery.addEventListener("change",this.handleLayoutChange):this.mediaQuery.addListener(this.handleLayoutChange),this.setState({renderComposePanel:!this.mediaQuery.matches})),this.lastIndex=ae(this.context.router.history.location.pathname),this.isRtlLayout=document.getElementsByTagName("body")[0].classList.contains("rtl"),this.setState({shouldAnimate:!0})}componentWillUpdate(e){this.props.singleColumn!==e.singleColumn&&e.singleColumn&&this.node.removeEventListener("wheel",this.handleWheel)}componentDidUpdate(e){this.props.singleColumn===e.singleColumn||this.props.singleColumn||this.node.addEventListener("wheel",this.handleWheel,!!Pe.a&&{passive:!0});const t=ae(this.context.router.history.location.pathname);this.lastIndex!==t&&(this.lastIndex=t,this.setState({shouldAnimate:!0}))}componentWillUnmount(){this.props.singleColumn||this.node.removeEventListener("wheel",this.handleWheel),this.mediaQuery&&(this.mediaQuery.removeEventListener?this.mediaQuery.removeEventListener("change",this.handleLayoutChange):this.mediaQuery.removeListener(this.handleLayouteChange))}handleChildrenContentChange(){if(!this.props.singleColumn){const e=this.isRtlLayout?-1:1;this._interruptScrollAnimation=Object(De.a)(this.node,(this.node.scrollWidth-window.innerWidth)*e)}}render(){const{columns:e,children:t,singleColumn:n,intl:o,navbarUnder:a,openSettings:s}=this.props,{shouldAnimate:c,renderComposePanel:u}=this.state,l=ae(this.context.router.history.location.pathname);if(n){const e=this.context.router.history.location.pathname.match(/^\/statuses\/|^\/@[^/]+\/\d+|^\/publish|^\/search|^\/getting-started|^\/start/)?null:Object(r.a)(ue.a,{to:"/publish",className:"floating-action-button","aria-label":o.formatMessage(Fe.publish)},"floating-action-button",Object(r.a)(te.a,{id:"pencil"})),n=-1!==l?Object(r.a)(Z.a,{hysteresis:.2,threshold:15,index:l,onChangeIndex:this.handleSwipe,onTransitionEnd:this.handleAnimationEnd,animateTransitions:c,springConfig:{duration:"400ms",delay:"0s",easeFunction:"ease"},style:{height:"100%"},disabled:le.disableSwiping},"content",re.map(this.renderView)):Object(r.a)("div",{className:"columns-area columns-area--mobile"},"content",t);return Object(r.a)("div",{className:"columns-area__panels"},void 0,Object(r.a)("div",{className:"columns-area__panels__pane columns-area__panels__pane--compositional"},void 0,Object(r.a)("div",{className:"columns-area__panels__pane__inner"},void 0,u&&Object(r.a)(_e,{}))),Object(r.a)("div",{className:"columns-area__panels__main "+(e&&"with-fab")},void 0,!a&&Object(r.a)(ce,{},"tabs"),n,a&&Object(r.a)(ce,{},"tabs")),Object(r.a)("div",{className:"columns-area__panels__pane columns-area__panels__pane--start columns-area__panels__pane--navigational"},void 0,Object(r.a)("div",{className:"columns-area__panels__pane__inner"},void 0,Object(r.a)(Re,{onOpenSettings:s}))),e)}return i.a.createElement("div",{className:"columns-area",ref:this.setRef},e.map((e=>{const t=null===e.get("params",null)?null:e.get("params").toJS(),n=t&&t.other?t.other:{};return Object(r.a)(G.a,{fetchComponent:Ue[e.get("id")],loading:this.renderLoading(e.get("id")),error:this.renderError},e.get("uuid"),(o=>i.a.createElement(o,Object(x.a)({columnId:e.get("uuid"),params:t,multiColumn:!0},n))))})),i.a.Children.map(t,(e=>i.a.cloneElement(e,{multiColumn:!0}))))}}).contextTypes={router:c.a.object.isRequired},Ae.propTypes={intl:c.a.object.isRequired,columns:Y.a.list.isRequired,singleColumn:c.a.bool,children:c.a.node,navbarUnder:c.a.bool,openSettings:c.a.func},Ne=Ae))||Ne;var Be=n(51);var Ge,We,qe=Object(a.connect)((e=>({columns:e.getIn(["settings","columns"])})),(e=>({openSettings(t){t.preventDefault(),t.stopPropagation(),e(Object(Be.d)("SETTINGS",{}))}})),null,{forwardRef:!0})(He),ze=n(7),Ke=n.n(ze),Ve=n(1556),Qe=n.n(Ve),Xe=n(90),Je=n(350),Ye=n(458),$e=n(226),Ze=n(236);const et=Object(A.f)({close:{id:"lightbox.close",defaultMessage:"Close"}});let tt=Object(a.connect)(((e,t)=>{let{accountId:n}=t;return{account:e.getIn(["accounts",n])}}))(Ge=Object(A.g)(((We=class extends L.a{render(){const{account:e,statusId:t,onClose:n,intl:o}=this.props;return Object(r.a)("div",{className:"picture-in-picture__header"},void 0,Object(r.a)(ue.a,{to:"/@"+e.get("acct")+"/"+t,className:"picture-in-picture__header__account"},void 0,Object(r.a)($e.a,{account:e,size:36}),Object(r.a)(Ze.a,{account:e})),Object(r.a)(U.a,{icon:"times",onClick:n,title:o.formatMessage(et.close)}))}}).propTypes={accountId:c.a.string.isRequired,statusId:c.a.string.isRequired,account:Y.a.map.isRequired,onClose:c.a.func.isRequired,intl:c.a.object.isRequired},Ge=We))||Ge)||Ge;var nt,ot=n(354);let it=Object(a.connect)((e=>({...e.get("picture_in_picture"),left:"left"===e.getIn(["local_settings","media","pop_in_position"])})))(nt=class extends i.a.Component{constructor(){super(...arguments),this.handleClose=()=>{const{dispatch:e}=this.props;e(Object(Ye.d)())}}render(){const{type:e,src:t,currentTime:n,accountId:o,statusId:i,left:a}=this.props;if(!n)return null;let s;return"video"===e?s=Object(r.a)(Xe.default,{src:t,currentTime:this.props.currentTime,volume:this.props.volume,muted:this.props.muted,autoPlay:!0,inline:!0,alwaysVisible:!0}):"audio"===e&&(s=Object(r.a)(Je.default,{src:t,currentTime:this.props.currentTime,volume:this.props.volume,muted:this.props.muted,poster:this.props.poster,backgroundColor:this.props.backgroundColor,foregroundColor:this.props.foregroundColor,accentColor:this.props.accentColor,autoPlay:!0})),Object(r.a)("div",{className:Ke()("picture-in-picture",{left:a})},void 0,Object(r.a)(tt,{accountId:o,statusId:i,onClose:this.handleClose}),s,Object(r.a)(ot.a,{statusId:i}))}})||nt;var rt=n(616);n(83);var at;n(1378);const st=Object(A.f)({beforeUnload:{id:"ui.beforeunload",defaultMessage:"Your draft will be lost if you leave Mastodon."}}),ct={help:"?",new:"n",search:"s",forceNew:"option+n",toggleComposeSpoilers:"option+x",focusColumn:["1","2","3","4","5","6","7","8","9"],reply:"r",favourite:"f",boost:"b",mention:"m",open:["enter","o"],openProfile:"p",moveDown:["down","j"],moveUp:["up","k"],back:"backspace",goToHome:"g h",goToNotifications:"g n",goToLocal:"g l",goToFederated:"g t",goToDirect:"g d",goToStart:"g s",goToFavourites:"g f",goToPinned:"g p",goToProfile:"g u",goToBlocked:"g b",goToMuted:"g m",goToRequests:"g r",toggleSpoiler:"x",bookmark:"d",toggleCollapse:"shift+x",toggleSensitive:"h",openMedia:"e"};class ut extends i.a.PureComponent{constructor(){super(...arguments),this.state={mobile:Object(_.b)(window.innerWidth,this.props.layout)},this.handleLayoutChange=h()((()=>{this.props.onLayoutChange()}),500,{trailing:!0}),this.handleResize=()=>{const e=Object(_.b)(window.innerWidth,this.props.layout);e!==this.state.mobile?(this.handleLayoutChange.cancel(),this.props.onLayoutChange(),this.setState({mobile:e})):this.handleLayoutChange()},this.setRef=e=>{e&&(this.node=e.getWrappedInstance())}}componentWillReceiveProps(e){e.layout!==this.props.layout&&this.setState({mobile:Object(_.b)(window.innerWidth,e.layout)})}componentWillMount(){window.addEventListener("resize",this.handleResize,{passive:!0}),this.state.mobile?(document.body.classList.toggle("layout-single-column",!0),document.body.classList.toggle("layout-multiple-columns",!1)):(document.body.classList.toggle("layout-single-column",!1),document.body.classList.toggle("layout-multiple-columns",!0))}componentDidUpdate(e,t){[this.props.location.pathname,"/"].includes(e.location.pathname)||this.node.handleChildrenContentChange(),t.mobile!==this.state.mobile&&(document.body.classList.toggle("layout-single-column",this.state.mobile),document.body.classList.toggle("layout-multiple-columns",!this.state.mobile))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{children:e,navbarUnder:t}=this.props,n=this.state.mobile,o=n?Object(r.a)(v.a,{from:"/",to:"/home",exact:!0}):Object(r.a)(v.a,{from:"/",to:"/getting-started",exact:!0});return i.a.createElement(qe,{ref:this.setRef,singleColumn:n,navbarUnder:t},Object(r.a)(W,{},void 0,o,Object(r.a)(q,{path:"/getting-started",component:fe.v,content:e}),Object(r.a)(q,{path:"/keyboard-shortcuts",component:fe.z,content:e}),Object(r.a)(q,{path:["/home","/timelines/home"],component:fe.y,content:e}),Object(r.a)(q,{path:["/public","/timelines/public"],exact:!0,component:fe.L,content:e}),Object(r.a)(q,{path:["/public/local","/timelines/public/local"],exact:!0,component:fe.g,content:e}),Object(r.a)(q,{path:["/conversations","/timelines/direct"],component:fe.j,content:e}),Object(r.a)(q,{path:"/tags/:id",component:fe.x,content:e}),Object(r.a)(q,{path:"/lists/:id",component:fe.C,content:e}),Object(r.a)(q,{path:"/notifications",component:fe.H,content:e}),Object(r.a)(q,{path:"/favourites",component:fe.o,content:e}),Object(r.a)(q,{path:"/bookmarks",component:fe.f,content:e}),Object(r.a)(q,{path:"/pinned",component:fe.K,content:e}),Object(r.a)(q,{path:"/start",component:fe.q,content:e}),Object(r.a)(q,{path:"/search",component:fe.O,content:e}),Object(r.a)(q,{path:"/directory",component:fe.k,content:e}),Object(r.a)(q,{path:["/publish","/statuses/new"],component:fe.i,content:e}),Object(r.a)(q,{path:["/@:acct","/accounts/:id"],exact:!0,component:fe.b,content:e}),Object(r.a)(q,{path:["/@:acct/with_replies","/accounts/:id/with_replies"],component:fe.b,content:e,componentParams:{withReplies:!0}}),Object(r.a)(q,{path:["/@:acct/followers","/accounts/:id/followers"],component:fe.s,content:e}),Object(r.a)(q,{path:["/@:acct/following","/accounts/:id/following"],component:fe.t,content:e}),Object(r.a)(q,{path:["/@:acct/media","/accounts/:id/media"],component:fe.a,content:e}),Object(r.a)(q,{path:"/@:acct/:statusId",exact:!0,component:fe.Q,content:e}),Object(r.a)(q,{path:"/@:acct/:statusId/reblogs",component:fe.M,content:e}),Object(r.a)(q,{path:"/@:acct/:statusId/favourites",component:fe.p,content:e}),Object(r.a)(q,{path:"/timelines/tag/:id",component:fe.x,content:e}),Object(r.a)(q,{path:"/timelines/list/:id",component:fe.C,content:e}),Object(r.a)(q,{path:"/statuses/:statusId",exact:!0,component:fe.Q,content:e}),Object(r.a)(q,{path:"/statuses/:statusId/reblogs",component:fe.M,content:e}),Object(r.a)(q,{path:"/statuses/:statusId/favourites",component:fe.p,content:e}),Object(r.a)(q,{path:"/follow_requests",component:fe.r,content:e}),Object(r.a)(q,{path:"/blocks",component:fe.e,content:e}),Object(r.a)(q,{path:"/domain_blocks",component:fe.l,content:e}),Object(r.a)(q,{path:"/mutes",component:fe.G,content:e}),Object(r.a)(q,{path:"/lists",component:fe.D,content:e}),Object(r.a)(q,{path:"/getting-started-misc",component:fe.w,content:e}),Object(r.a)(q,{component:fe.u,content:e})))}}let lt=Object(a.connect)((e=>({hasComposingText:0!==e.getIn(["compose","text"]).trim().length,hasMediaAttachments:e.getIn(["compose","media_attachments"]).size>0,canUploadMore:!e.getIn(["compose","media_attachments"]).some((e=>["audio","video"].includes(e.get("type"))))&&e.getIn(["compose","media_attachments"]).size<4,layout:e.getIn(["local_settings","layout"]),isWide:e.getIn(["local_settings","stretch"]),navbarUnder:e.getIn(["local_settings","navbar_under"]),dropdownMenuIsOpen:null!==e.getIn(["dropdown_menu","openId"]),unreadNotifications:e.getIn(["notifications","unread"]),showFaviconBadge:e.getIn(["local_settings","notifications","favicon_badge"]),hicolorPrivacyIcons:e.getIn(["local_settings","hicolor_privacy_icons"]),moved:e.getIn(["accounts",le.me,"moved"])&&e.getIn(["accounts",e.getIn(["accounts",le.me,"moved"])]),firstLaunch:e.getIn(["settings","introductionVersion"],0)<void 0,username:e.getIn(["accounts",le.me,"username"])})))(at=Object(A.g)(at=Object(y.a)(at=class extends i.a.Component{constructor(){super(...arguments),this.state={draggingOver:!1},this.handleBeforeUnload=e=>{const{intl:t,dispatch:n,hasComposingText:o,hasMediaAttachments:i}=this.props;n(Object(T.e)()),(o||i)&&(e.returnValue=t.formatMessage(st.beforeUnload))},this.handleLayoutChange=()=>{this.props.dispatch(Object(S.c)())},this.handleDragEnter=e=>{e.preventDefault(),this.dragTargets||(this.dragTargets=[]),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),e.dataTransfer&&e.dataTransfer.types.includes("Files")&&this.props.canUploadMore&&this.setState({draggingOver:!0})},this.handleDragOver=e=>{if(this.dataTransferIsText(e.dataTransfer))return!1;e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(e){}return!1},this.handleDrop=e=>{this.dataTransferIsText(e.dataTransfer)||(e.preventDefault(),this.setState({draggingOver:!1}),this.dragTargets=[],e.dataTransfer&&e.dataTransfer.files.length>=1&&this.props.canUploadMore&&this.props.dispatch(Object(O.Hb)(e.dataTransfer.files)))},this.handleDragLeave=e=>{e.preventDefault(),e.stopPropagation(),this.dragTargets=this.dragTargets.filter((t=>t!==e.target&&this.node.contains(t))),this.dragTargets.length>0||this.setState({draggingOver:!1})},this.dataTransferIsText=e=>e&&1===Array.from(e.types).filter((e=>"text/plain"===e)).length,this.closeUploadModal=()=>{this.setState({draggingOver:!1})},this.handleServiceWorkerPostMessage=e=>{let{data:t}=e;"navigate"===t.type?this.props.history.push(t.path):console.warn("Unknown message type:",t.type)},this.handleVisibilityChange=()=>{const e=!document[this.visibilityHiddenProp];this.props.dispatch(Object(j.D)(e)),e&&this.props.dispatch(Object(T.d)({immediate:!0}))},this.setRef=e=>{this.node=e},this.handleHotkeyNew=e=>{e.preventDefault();const t=this.node.querySelector(".compose-form__autosuggest-wrapper textarea");t&&t.focus()},this.handleHotkeySearch=e=>{e.preventDefault();const t=this.node.querySelector(".search__input");t&&t.focus()},this.handleHotkeyForceNew=e=>{this.handleHotkeyNew(e),this.props.dispatch(Object(O.Bb)())},this.handleHotkeyToggleComposeSpoilers=e=>{e.preventDefault(),this.props.dispatch(Object(O.gb)())},this.handleHotkeyFocusColumn=e=>{const t=1*e.key+1,n=this.node.querySelector(".column:nth-child("+t+")");if(!n)return;const o=n.querySelector(".scrollable");if(o){const e=o.querySelector(".focusable");e&&(o.scrollTop>e.offsetTop&&e.scrollIntoView(!0),e.focus())}},this.handleHotkeyBack=()=>{window.history.state?this.props.history.goBack():this.props.history.push("/")},this.setHotkeysRef=e=>{this.hotkeys=e},this.handleHotkeyToggleHelp=()=>{"/keyboard-shortcuts"===this.props.location.pathname?this.props.history.goBack():this.props.history.push("/keyboard-shortcuts")},this.handleHotkeyGoToHome=()=>{this.props.history.push("/home")},this.handleHotkeyGoToNotifications=()=>{this.props.history.push("/notifications")},this.handleHotkeyGoToLocal=()=>{this.props.history.push("/public/local")},this.handleHotkeyGoToFederated=()=>{this.props.history.push("/public")},this.handleHotkeyGoToDirect=()=>{this.props.history.push("/conversations")},this.handleHotkeyGoToStart=()=>{this.props.history.push("/getting-started")},this.handleHotkeyGoToFavourites=()=>{this.props.history.push("/favourites")},this.handleHotkeyGoToPinned=()=>{this.props.history.push("/pinned")},this.handleHotkeyGoToProfile=()=>{this.props.history.push("/@"+this.props.username)},this.handleHotkeyGoToBlocked=()=>{this.props.history.push("/blocks")},this.handleHotkeyGoToMuted=()=>{this.props.history.push("/mutes")},this.handleHotkeyGoToRequests=()=>{this.props.history.push("/follow_requests")}}componentWillMount(){window.addEventListener("beforeunload",this.handleBeforeUnload,!1),document.addEventListener("dragenter",this.handleDragEnter,!1),document.addEventListener("dragover",this.handleDragOver,!1),document.addEventListener("drop",this.handleDrop,!1),document.addEventListener("dragleave",this.handleDragLeave,!1),document.addEventListener("dragend",this.handleDragEnd,!1),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerPostMessage),this.favicon=new Qe.a({animation:"none"}),this.props.firstLaunch&&(this.context.router.history.replace("/start"),this.props.dispatch((void 0)())),this.props.dispatch(Object(T.c)()),this.props.dispatch(Object(w.v)()),this.props.dispatch(Object(j.x)()),setTimeout((()=>this.props.dispatch(Object(E.b)())),500),setTimeout((()=>this.props.dispatch(Object(C.b)())),3e3)}componentDidMount(){this.hotkeys.__mousetrap__.stopCallback=(e,t)=>["TEXTAREA","SELECT","INPUT"].includes(t.tagName),void 0!==document.hidden?(this.visibilityHiddenProp="hidden",this.visibilityChange="visibilitychange"):void 0!==document.msHidden?(this.visibilityHiddenProp="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.visibilityHiddenProp="webkitHidden",this.visibilityChange="webkitvisibilitychange"),void 0!==this.visibilityChange&&(document.addEventListener(this.visibilityChange,this.handleVisibilityChange,!1),this.handleVisibilityChange())}componentDidUpdate(e){if((this.props.unreadNotifications!=e.unreadNotifications||this.props.showFaviconBadge!=e.showFaviconBadge)&&this.favicon)try{this.favicon.badge(this.props.showFaviconBadge?this.props.unreadNotifications:0)}catch(e){console.error(e)}}componentWillUnmount(){void 0!==this.visibilityChange&&document.removeEventListener(this.visibilityChange,this.handleVisibilityChange),window.removeEventListener("beforeunload",this.handleBeforeUnload),document.removeEventListener("dragenter",this.handleDragEnter),document.removeEventListener("dragover",this.handleDragOver),document.removeEventListener("drop",this.handleDrop),document.removeEventListener("dragleave",this.handleDragLeave),document.removeEventListener("dragend",this.handleDragEnd)}render(){const{draggingOver:e}=this.state,{children:t,layout:n,isWide:o,navbarUnder:a,location:s,dropdownMenuIsOpen:c,moved:u}=this.props,l=Ke()("ui",(e=>{switch(e){case"single":return"single-column";case"multiple":return"multi-columns";default:return"auto-columns"}})(n),{wide:o,"system-font":this.props.systemFontUi,"navbar-under":a,"hicolor-privacy-icons":this.props.hicolorPrivacyIcons}),d={help:this.handleHotkeyToggleHelp,new:this.handleHotkeyNew,search:this.handleHotkeySearch,forceNew:this.handleHotkeyForceNew,toggleComposeSpoilers:this.handleHotkeyToggleComposeSpoilers,focusColumn:this.handleHotkeyFocusColumn,back:this.handleHotkeyBack,goToHome:this.handleHotkeyGoToHome,goToNotifications:this.handleHotkeyGoToNotifications,goToLocal:this.handleHotkeyGoToLocal,goToFederated:this.handleHotkeyGoToFederated,goToDirect:this.handleHotkeyGoToDirect,goToStart:this.handleHotkeyGoToStart,goToFavourites:this.handleHotkeyGoToFavourites,goToPinned:this.handleHotkeyGoToPinned,goToProfile:this.handleHotkeyGoToProfile,goToBlocked:this.handleHotkeyGoToBlocked,goToMuted:this.handleHotkeyGoToMuted,goToRequests:this.handleHotkeyGoToRequests};return i.a.createElement(rt.HotKeys,{keyMap:ct,handlers:d,ref:this.setHotkeysRef,attach:window,focused:!0},i.a.createElement("div",{className:l,ref:this.setRef,style:{pointerEvents:c?"none":null}},u&&Object(r.a)("div",{className:"flash-message alert"},void 0,Object(r.a)(A.b,{id:"moved_to_warning",defaultMessage:"This account is marked as moved to {moved_to_link}, and may thus not accept new follows.",values:{moved_to_link:Object(r.a)(X.a,{href:u.get("url"),to:"/@"+u.get("acct")},void 0,"@",u.get("acct"))}})),Object(r.a)(ut,{location:s,layout:n,navbarUnder:a,onLayoutChange:this.handleLayoutChange},void 0,t),Object(r.a)(it,{}),Object(r.a)(m.a,{}),Object(r.a)(g.a,{className:"loading-bar"}),Object(r.a)(b.a,{}),Object(r.a)(Q,{active:e,onClose:this.closeUploadModal})))}})||at)||at)||at;var dt=n(603),pt=n(133),ft=n(1318),ht=n(419),mt=n(5),gt=n(997),bt=n.n(gt);class vt extends i.a.PureComponent{constructor(){super(...arguments),this.state={hasError:!1,errorMessage:void 0,stackTrace:void 0,mappedStackTrace:void 0,componentStack:void 0}}componentDidCatch(e,t){this.setState({hasError:!0,errorMessage:e.toString(),stackTrace:e.stack,componentStack:t&&t.componentStack,mappedStackTrace:void 0}),bt.a.fromError(e).then((e=>{this.setState({mappedStackTrace:e.map((e=>e.toString())).join("\n")})})).catch((()=>{this.setState({mappedStackTrace:void 0})}))}handleReload(e){e.preventDefault(),window.location.reload()}render(){const{hasError:e,errorMessage:t,stackTrace:n,mappedStackTrace:o,componentStack:i}=this.state;if(!e)return this.props.children;const a=t&&t.includes("NotFoundError");let s="";n&&(s+="Stack trace\n-----------\n\n```\n"+t+"\n"+n.toString()+"\n```"),o&&(s+="Mapped stack trace\n-----------\n\n```\n"+t+"\n"+o.toString()+"\n```"),i&&(s&&(s+="\n\n\n"),s+="React component stack\n---------------------\n\n```\n"+i.toString()+"\n```");let c=le.source_url;return le.source_url.match(/^https:\/\/github\.com\/[^/]+\/[^/]+\/?$/)&&(c=le.source_url+"/issues"),Object(r.a)("div",{tabIndex:"-1"},void 0,Object(r.a)("div",{className:"error-boundary"},void 0,Object(r.a)("h1",{},void 0,Object(r.a)(A.b,{id:"web_app_crash.title",defaultMessage:"We're sorry, but something went wrong with the Mastodon app."})),Object(r.a)("p",{},void 0,Object(r.a)(A.b,{id:"web_app_crash.content",defaultMessage:"You could try any of the following:"})),Object(r.a)("ul",{},void 0,a&&Object(r.a)("li",{},void 0,Object(r.a)(A.b,{id:"web_app_crash.disable_addons",defaultMessage:"Disable browser add-ons or built-in translation tools"})),Object(r.a)("li",{},void 0,Object(r.a)(A.b,{id:"web_app_crash.report_issue",defaultMessage:"Report a bug in the {issuetracker}",values:{issuetracker:Object(r.a)("a",{href:c,rel:"noopener noreferrer",target:"_blank"},void 0,Object(r.a)(A.b,{id:"web_app_crash.issue_tracker",defaultMessage:"issue tracker"}))}}),""!==s&&Object(r.a)("details",{},void 0,Object(r.a)("summary",{},void 0,Object(r.a)(A.b,{id:"web_app_crash.debug_info",defaultMessage:"Debug information"})),Object(r.a)("textarea",{className:"web_app_crash-stacktrace",value:s,rows:"10",readOnly:!0}))),Object(r.a)("li",{},void 0,Object(r.a)(A.b,{id:"web_app_crash.reload_page",defaultMessage:"{reload} the current page",values:{reload:Object(r.a)("a",{href:"#",onClick:this.handleReload},void 0,Object(r.a)(A.b,{id:"web_app_crash.reload",defaultMessage:"Reload"}))}})),void 0!==Oe.d&&Object(r.a)("li",{},void 0,Object(r.a)(A.b,{id:"web_app_crash.change_your_settings",defaultMessage:"Change your {settings}",values:{settings:Object(r.a)("a",{href:Oe.d},void 0,Object(r.a)(A.b,{id:"web_app_crash.settings",defaultMessage:"settings"}))}})))))}}const{localeData:yt,messages:_t}=Object(mt.getLocale)();Object(A.e)(yt);const Ot=Object(u.a)(),wt=Object(pt.b)(de.a);Ot.dispatch(wt),Ot.dispatch(Object(ht.d)()),Ot.dispatch(Object(dt.b)());class jt extends i.a.PureComponent{constructor(){var e;super(...arguments),this.identity={signedIn:!!(e=de.a).meta.me,accountId:e.meta.me,accessToken:e.meta.access_token,permissions:e.role.permissions}}getChildContext(){return{identity:this.identity}}componentDidMount(){this.identity.signedIn&&(this.disconnect=Ot.dispatch(Object(ft.f)()))}componentWillUnmount(){this.disconnect&&(this.disconnect(),this.disconnect=null)}shouldUpdateScroll(e,t){var n;let{location:o}=t;return!(null!=(n=o.state)&&n.mastodonModalKey)}render(){const{locale:e}=this.props;return Object(r.a)(A.d,{locale:e,messages:_t},void 0,Object(r.a)(a.Provider,{store:Ot},void 0,Object(r.a)(vt,{},void 0,Object(r.a)(l.a,{basename:"/web"},void 0,Object(r.a)(p.b,{shouldUpdateScroll:this.shouldUpdateScroll},void 0,Object(r.a)(d.a,{path:"/",component:lt}))))))}}jt.childContextTypes={identity:c.a.shape({signedIn:c.a.bool.isRequired,accountId:c.a.string,accessToken:c.a.string}).isRequired};t.default=e=>{const{storeRef:t,childProps:n}=e;return Object(o.useEffect)((()=>{t(Ot)}),[]),i.a.createElement(jt,n)}},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return E})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return M})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return L})),n.d(t,"n",(function(){return N})),n.d(t,"k",(function(){return A})),n.d(t,"m",(function(){return R}));var o=n(8),i=n(41),r=n(15),a=n(17);const s="STATUS_FETCH_SUCCESS",c="STATUS_FETCH_FAIL",u="STATUS_DELETE_REQUEST",l="STATUS_DELETE_SUCCESS",d="STATUS_DELETE_FAIL",p="CONTEXT_FETCH_REQUEST",f="CONTEXT_FETCH_SUCCESS",h="CONTEXT_FETCH_FAIL",m="STATUS_MUTE_REQUEST",g="STATUS_MUTE_SUCCESS",b="STATUS_MUTE_FAIL",v="STATUS_UNMUTE_REQUEST",y="STATUS_UNMUTE_SUCCESS",_="STATUS_UNMUTE_FAIL",O="STATUS_REVEAL",w="STATUS_HIDE",j="STATUS_COLLAPSE",E="REDRAFT";function C(e){return(t,n)=>{const a=null!==n().getIn(["statuses",e],null);t(function(e){return(t,n)=>{t(function(e){return{type:p,id:e}}(e)),Object(o.a)(n).get("/api/v1/statuses/"+e+"/context").then((n=>{t(Object(r.j)(n.data.ancestors.concat(n.data.descendants))),t(function(e,t,n){return{type:f,id:e,ancestors:t,descendants:n,statuses:t.concat(n)}}(e,n.data.ancestors,n.data.descendants))})).catch((n=>{n.response&&404===n.response.status&&t(Object(i.n)(e)),t(function(e,t){return{type:h,id:e,error:t,skipAlert:!0}}(e,n))}))}}(e)),a||(t(function(e,t){return{type:"STATUS_FETCH_REQUEST",id:e,skipLoading:t}}(e,a)),Object(o.a)(n).get("/api/v1/statuses/"+e).then((e=>{t(Object(r.i)(e.data)),t(function(e){return{type:s,skipLoading:e}}(a))})).catch((n=>{t(function(e,t,n){return{type:c,id:e,error:t,skipLoading:n,skipAlert:!0}}(e,n,a))})))}}const S=(e,t)=>(n,i)=>{let r=i().getIn(["statuses",e]);r.get("poll")&&(r=r.set("poll",i().getIn(["polls",r.get("poll")]))),n(T()),Object(o.a)(i).get("/api/v1/statuses/"+e+"/source").then((e=>{n(x()),Object(a.pb)(i,t),n(Object(a.Db)(r,e.data.text,e.data.spoiler_text))})).catch((e=>{n(k(e))}))},T=()=>({type:"STATUS_FETCH_SOURCE_REQUEST"}),x=()=>({type:"STATUS_FETCH_SOURCE_SUCCESS"}),k=e=>({type:"STATUS_FETCH_SOURCE_FAIL",error:e});function M(e,t,n){return void 0===n&&(n=!1),(r,s)=>{let c=s().getIn(["statuses",e]);c.get("poll")&&(c=c.set("poll",s().getIn(["polls",c.get("poll")]))),r(function(e){return{type:u,id:e}}(e)),Object(o.a)(s).delete("/api/v1/statuses/"+e).then((o=>{r(function(e){return{type:l,id:e}}(e)),r(Object(i.n)(e)),n&&(r(function(e,t,n){return{type:E,status:e,raw_text:t,content_type:n}}(c,o.data.text,o.data.content_type)),Object(a.pb)(s,t))})).catch((t=>{r(function(e,t){return{type:d,id:e,error:t}}(e,t))}))}}const I=e=>t=>t(Object(r.i)(e));function L(e){return(t,n)=>{t(function(e){return{type:m,id:e}}(e)),Object(o.a)(n).post("/api/v1/statuses/"+e+"/mute").then((()=>{t(function(e){return{type:g,id:e}}(e))})).catch((n=>{t(function(e,t){return{type:b,id:e,error:t}}(e,n))}))}}function N(e){return(t,n)=>{t(function(e){return{type:v,id:e}}(e)),Object(o.a)(n).post("/api/v1/statuses/"+e+"/unmute").then((()=>{t(function(e){return{type:y,id:e}}(e))})).catch((n=>{t(function(e,t){return{type:_,id:e,error:t}}(e,n))}))}}function A(e){return Array.isArray(e)||(e=[e]),{type:w,ids:e}}function R(e){return Array.isArray(e)||(e=[e]),{type:O,ids:e}}},213:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var s="function"==typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function l(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(a(1));return n(d)(e,t)}if("function"!=typeof e)throw new Error(a(2));var i=e,r=t,c=[],p=c,f=!1;function h(){p===c&&(p=c.slice())}function m(){if(f)throw new Error(a(3));return r}function g(e){if("function"!=typeof e)throw new Error(a(4));if(f)throw new Error(a(5));var t=!0;return h(),p.push(e),function(){if(t){if(f)throw new Error(a(6));t=!1,h();var n=p.indexOf(e);p.splice(n,1),c=null}}}function b(e){if(!l(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(f)throw new Error(a(9));try{f=!0,r=i(r,e)}finally{f=!1}for(var t=c=p,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error(a(10));i=e,b({type:u.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return b({type:u.INIT}),(o={dispatch:b,subscribe:g,getState:m,replaceReducer:v})[s]=y,o}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(a(15))},i={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return o=p.apply(void 0,s)(n.dispatch),r(r({},n),{},{dispatch:o})}}}},226:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(0),i=n(1),r=n.n(i),a=n(14),s=n(7),c=n.n(s);class u extends r.a.PureComponent{constructor(){super(...arguments),this.state={hovering:!1},this.handleMouseEnter=()=>{this.props.animate||this.setState({hovering:!0})},this.handleMouseLeave=()=>{this.props.animate||this.setState({hovering:!1})}}render(){const{account:e,animate:t,className:n,inline:i,size:r}=this.props,{hovering:a}=this.state,s={...this.props.style,width:r+"px",height:r+"px",backgroundSize:r+"px "+r+"px"};if(e){const n=e.get("avatar"),o=e.get("avatar_static");s.backgroundImage=a||t?"url("+n+")":"url("+o+")"}return Object(o.a)("div",{className:c()("account__avatar",{"account__avatar-inline":i},n),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:s,"data-avatar-of":e&&"@"+e.get("acct")})}}u.defaultProps={animate:a.autoPlayGif,size:20,inline:!1}},234:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return g}));var o=n(8),i=n(19),r=n(15),a=n(51);const s="BLOCKS_FETCH_REQUEST",c="BLOCKS_FETCH_SUCCESS",u="BLOCKS_FETCH_FAIL",l="BLOCKS_EXPAND_REQUEST",d="BLOCKS_EXPAND_SUCCESS",p="BLOCKS_EXPAND_FAIL",f="BLOCKS_INIT_MODAL";function h(){return(e,t)=>{e({type:s}),Object(o.a)(t).get("/api/v1/blocks").then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(r.g)(t.data)),e(function(e,t){return{type:c,accounts:e,next:t}}(t.data,n?n.uri:null)),e(Object(i.cb)(t.data.map((e=>e.id))))})).catch((t=>e(function(e){return{type:u,error:e}}(t))))}}function m(){return(e,t)=>{const n=t().getIn(["user_lists","blocks","next"]);null!==n&&(e({type:l}),Object(o.a)(t).get(n).then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(r.g)(t.data)),e(function(e,t){return{type:d,accounts:e,next:t}}(t.data,n?n.uri:null)),e(Object(i.cb)(t.data.map((e=>e.id))))})).catch((t=>e(function(e){return{type:p,error:e}}(t)))))}}function g(e){return t=>{t({type:f,account:e}),t(Object(a.d)("BLOCK"))}}},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(0),i=n(1),r=n.n(i),a=n(7),s=n.n(a),c=n(14);class u extends r.a.PureComponent{constructor(){super(...arguments),this.handleMouseEnter=e=>{let{currentTarget:t}=e;if(c.autoPlayGif)return;const n=t.querySelectorAll(".custom-emoji");for(var o=0;o<n.length;o++){let e=n[o];e.src=e.getAttribute("data-original")}},this.handleMouseLeave=e=>{let{currentTarget:t}=e;if(c.autoPlayGif)return;const n=t.querySelectorAll(".custom-emoji");for(var o=0;o<n.length;o++){let e=n[o];e.src=e.getAttribute("data-static")}}}render(){const{account:e,className:t,inline:n,localDomain:i,others:r,onAccountClick:a}=this.props,c=s()("display-name",{inline:n},t);if(!e)return null;let u,l,d=e.get("acct");return-1===d.indexOf("@")&&i&&(d=d+"@"+i),r&&r.size>0?(u=r.take(2).map((e=>Object(o.a)("a",{href:e.get("url"),target:"_blank",onClick:t=>a(e.get("acct"),t),title:"@"+e.get("acct"),rel:"noopener noreferrer"},void 0,Object(o.a)("bdi",{},e.get("id"),Object(o.a)("strong",{className:"display-name__html",dangerouslySetInnerHTML:{__html:e.get("display_name_html")}}))))).reduce(((e,t)=>[e,", ",t])),r.size-2>0&&u.push(" +"+(r.size-2)),l=Object(o.a)("a",{href:e.get("url"),target:"_blank",onClick:t=>a(e.get("acct"),t),rel:"noopener noreferrer"},void 0,Object(o.a)("span",{className:"display-name__account"},void 0,"@",d))):(u=Object(o.a)("bdi",{},void 0,Object(o.a)("strong",{className:"display-name__html",dangerouslySetInnerHTML:{__html:e.get("display_name_html")}})),l=Object(o.a)("span",{className:"display-name__account"},void 0,"@",d)),Object(o.a)("span",{className:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,u,n?" ":null,l)}}},248:function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.useLayoutEffect,a=function(e,t){"function"!=typeof e?e.current=t:e(t)},s=function(e,t){var n=Object(i.useRef)();return Object(i.useCallback)((function(o){e.current=o,n.current&&a(n.current,null),n.current=t,t&&a(t,o)}),[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},u=function(e){Object.keys(c).forEach((function(t){e.style.setProperty(t,c[t],"important")}))},l=null;var d=function(){},p=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],f=!!document.documentElement.currentStyle,h=function(e){var t,n,o=(t=e,n=i.useRef(t),r((function(){n.current=t})),n);Object(i.useLayoutEffect)((function(){var e=function(e){o.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},m=function(e,t){var n=e.cacheMeasurements,r=e.maxRows,a=e.minRows,c=e.onChange,m=void 0===c?d:c,g=e.onHeightChange,b=void 0===g?d:g,v=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var y=void 0!==v.value,_=Object(i.useRef)(null),O=s(_,t),w=Object(i.useRef)(0),j=Object(i.useRef)(),E=function(){var e=_.current,t=n&&j.current?j.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,o=(n=t,p.reduce((function(e,t){return e[t]=n[t],e}),{})),i=o.boxSizing;return""===i?null:(f&&"border-box"===i&&(o.width=parseFloat(o.width)+parseFloat(o.borderRightWidth)+parseFloat(o.borderLeftWidth)+parseFloat(o.paddingRight)+parseFloat(o.paddingLeft)+"px"),{sizingStyle:o,paddingSize:parseFloat(o.paddingBottom)+parseFloat(o.paddingTop),borderSize:parseFloat(o.borderBottomWidth)+parseFloat(o.borderTopWidth)})}(e);if(t){j.current=t;var o=function(e,t,n,o){void 0===n&&(n=1),void 0===o&&(o=1/0),l||((l=document.createElement("textarea")).setAttribute("tabindex","-1"),l.setAttribute("aria-hidden","true"),u(l)),null===l.parentNode&&document.body.appendChild(l);var i=e.paddingSize,r=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;l.style[t]=a[t]})),u(l),l.value=t;var c=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(l,e);l.value="x";var d=l.scrollHeight-i,p=d*n;"border-box"===s&&(p=p+i+r),c=Math.max(p,c);var f=d*o;return"border-box"===s&&(f=f+i+r),[c=Math.min(f,c),d]}(t,e.value||e.placeholder||"x",a,r),i=o[0],s=o[1];w.current!==i&&(w.current=i,e.style.setProperty("height",i+"px","important"),b(i,{rowHeight:s}))}};return Object(i.useLayoutEffect)(E),h(E),Object(i.createElement)("textarea",o({},v,{onChange:function(e){y||E(),m(e)},ref:O}))},g=Object(i.forwardRef)(m);t.a=g},254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(n(1)),r=a(n(303));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)((function(e,t,n,r,a){var s=e[t],c=void 0===s?"undefined":o(s);return i.default.isValidElement(s)?new Error("Invalid "+r+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===c&&"function"==typeof s.render||1===s.nodeType?null:new Error("Invalid "+r+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")})),e.exports=t.default},255:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,r.default.findDOMNode(e)||t};var o,i=n(31),r=(o=i)&&o.__esModule?o:{default:o};e.exports=t.default},256:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},257:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},260:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f}));var o=n(8);const i="ACCOUNT_NOTE_SUBMIT_REQUEST",r="ACCOUNT_NOTE_SUBMIT_SUCCESS",a="ACCOUNT_NOTE_SUBMIT_FAIL",s="ACCOUNT_NOTE_INIT_EDIT",c="ACCOUNT_NOTE_CANCEL",u="ACCOUNT_NOTE_CHANGE_COMMENT";function l(){return(e,t)=>{e({type:i});const n=t().getIn(["account_notes","edit","account_id"]);Object(o.a)(t).post("/api/v1/accounts/"+n+"/note",{comment:t().getIn(["account_notes","edit","comment"])}).then((t=>{var n;e((n=t.data,{type:r,relationship:n}))})).catch((t=>e(function(e){return{type:a,error:e}}(t))))}}function d(e){return(t,n)=>{const o=n().getIn(["relationships",e.get("id"),"note"]);t({type:s,account:e,comment:o})}}function p(){return{type:c}}function f(e){return{type:u,comment:e}}},261:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"n",(function(){return _})),n.d(t,"i",(function(){return O}));var o=n(8),i=n(15);const r="CONVERSATIONS_MOUNT",a="CONVERSATIONS_UNMOUNT",s="CONVERSATIONS_FETCH_REQUEST",c="CONVERSATIONS_FETCH_SUCCESS",u="CONVERSATIONS_FETCH_FAIL",l="CONVERSATIONS_UPDATE",d="CONVERSATIONS_READ",p="CONVERSATIONS_DELETE_SUCCESS",f=()=>({type:r}),h=()=>({type:a}),m=e=>(t,n)=>{t({type:d,id:e}),Object(o.a)(n).post("/api/v1/conversations/"+e+"/read")},g=function(e){let{maxId:t}=void 0===e?{}:e;return(e,n)=>{e(b());const r={max_id:t};t||(r.since_id=n().getIn(["conversations","items",0,"last_status"]));const a=!!r.since_id;Object(o.a)(n).get("/api/v1/conversations",{params:r}).then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(i.g)(t.data.reduce(((e,t)=>e.concat(t.accounts)),[]))),e(Object(i.j)(t.data.map((e=>e.last_status)).filter((e=>!!e)))),e(v(t.data,n?n.uri:null,a))})).catch((t=>e(y(t))))}},b=()=>({type:s}),v=(e,t,n)=>({type:c,conversations:e,next:t,isLoadingRecent:n}),y=e=>({type:u,error:e}),_=e=>t=>{t(Object(i.g)(e.accounts)),e.last_status&&t(Object(i.i)(e.last_status)),t({type:l,conversation:e})},O=e=>(t,n)=>{t(w(e)),Object(o.a)(n).delete("/api/v1/conversations/"+e).then((()=>t(j(e)))).catch((n=>t(E(e,n))))},w=e=>({type:"CONVERSATIONS_DELETE_REQUEST",id:e}),j=e=>({type:p,id:e}),E=(e,t)=>({type:"CONVERSATIONS_DELETE_FAIL",id:e,error:t})},266:function(e,t,n){"use strict";e.exports=function(){}},285:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var i=o(n(257));e.exports=t.default},287:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n(0),i=n(1),r=n.n(i),a=n(4),s=n(468),c=n(7),u=n.n(c),l=n(28),d=n(14),p=n(604);const f=(e,t,n)=>e===t||e===n||e.startsWith(t+"/")||e.startsWith(n+"/")||"www."+e===n||("www."+e).startsWith(n+"/"),h=e=>{let t=[];const n=e=>{switch(e.nodeType){case Node.TEXT_NODE:t.push(e.textContent);break;case Node.ELEMENT_NODE:if(e.classList.contains("invisible"))return;const o=e.childNodes;for(let e=0;e<o.length;e++)n(o[e])}};n(e);const o=t.join(""),i=new URL(e.href);if("magnet:"===i.protocol)return!o.startsWith("magnet:");if("xmpp:"===i.protocol)return!(o===i.href||"xmpp:"+o===i.href);if(f(o,i.origin,i.host)||f(o.toLowerCase(),i.origin,i.host))return!1;const r=Object(p.a)(i.hostname).normalize("NFKC"),a=i.host.replace(i.hostname,r),s=i.origin.replace(i.host,a),c=o.normalize("NFKC");return!(f(c,s,a)||f(c.toLowerCase(),s,a))};class m extends r.a.PureComponent{constructor(){super(...arguments),this.state={hidden:!0},this.handleMouseEnter=e=>{let{currentTarget:t}=e;if(d.autoPlayGif)return;const n=t.querySelectorAll(".custom-emoji");for(var o=0;o<n.length;o++){let e=n[o];e.src=e.getAttribute("data-original")}},this.handleMouseLeave=e=>{let{currentTarget:t}=e;if(d.autoPlayGif)return;const n=t.querySelectorAll(".custom-emoji");for(var o=0;o<n.length;o++){let e=n[o];e.src=e.getAttribute("data-static")}},this.onLinkClick=e=>{this.props.collapsed&&this.props.parseClick&&this.props.parseClick(e)},this.onMentionClick=(e,t)=>{this.props.parseClick&&this.props.parseClick(t,"/@"+e.get("acct"))},this.onHashtagClick=(e,t)=>{e=e.replace(/^#/,""),this.props.parseClick&&this.props.parseClick(t,"/tags/"+e)},this.handleMouseDown=e=>{this.startXY=[e.clientX,e.clientY]},this.handleMouseUp=e=>{const{parseClick:t,disabled:n}=this.props;if(n||!this.startXY)return;const[o,i]=this.startXY,[r,a]=[Math.abs(e.clientX-o),Math.abs(e.clientY-i)];let s=e.target;for(;s!==e.currentTarget;){if(["button","video","a","label","canvas"].includes(s.localName)||"button"===s.getAttribute("role"))return;s=s.parentNode}r+a<5&&0===e.button&&t&&t(e),this.startXY=null},this.handleSpoilerClick=e=>{e.preventDefault(),this.props.onExpandedToggle?this.props.onExpandedToggle():this.setState({hidden:!this.state.hidden})},this.setContentsRef=e=>{this.contentsNode=e}}_updateStatusLinks(){const e=this.contentsNode,{tagLinks:t,rewriteMentions:n}=this.props;if(!e)return;const o=e.querySelectorAll("a");for(var i=0;i<o.length;++i){let e=o[i];if(e.classList.contains("status-link"))continue;e.classList.add("status-link");let r=this.props.status.get("mentions").find((t=>e.href===t.get("url")));if(r){if(e.addEventListener("click",this.onMentionClick.bind(this,r),!1),e.setAttribute("title",r.get("acct")),"no"!==n){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode("@"));const t=document.createElement("span");t.textContent="acct"===n?r.get("acct"):r.get("username"),e.appendChild(t)}}else if("#"===e.textContent[0]||e.previousSibling&&e.previousSibling.textContent&&"#"===e.previousSibling.textContent[e.previousSibling.textContent.length-1])e.addEventListener("click",this.onHashtagClick.bind(this,e.text),!1);else{e.addEventListener("click",this.onLinkClick.bind(this),!1),e.setAttribute("title",e.href),e.classList.add("unhandled-link");try{if(t&&h(e)){const t=new URL(e.href),n=document.createElement("span");switch(n.classList.add("link-origin-tag"),t.protocol){case"xmpp:":n.textContent="["+t.href+"]";break;case"magnet:":n.textContent="(magnet)";break;default:n.textContent="["+t.host+"]"}e.insertAdjacentText("beforeend"," "),e.insertAdjacentElement("beforeend",n)}}catch(n){t&&n instanceof TypeError&&e.removeAttribute("href")}}e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")}}componentDidMount(){this._updateStatusLinks()}componentDidUpdate(){this._updateStatusLinks(),this.props.onUpdate&&this.props.onUpdate()}render(){const{status:e,media:t,extraMedia:n,mediaIcons:i,parseClick:c,disabled:d,tagLinks:p,rewriteMentions:f}=this.props,h=this.props.onExpandedToggle?!this.props.expanded:this.state.hidden,m={__html:e.get("contentHtml")},g={__html:e.get("spoilerHtml")},b=e.get("language"),v=u()("status__content",{"status__content--with-action":c&&!d,"status__content--with-spoiler":e.get("spoiler_text").length>0});if(e.get("spoiler_text").length>0){let c="";const u=e.get("mentions").map((e=>Object(o.a)(s.a,{to:"/@"+e.get("acct"),href:e.get("url"),className:"mention"},e.get("id"),"@",Object(o.a)("span",{},void 0,e.get("username"))))).reduce(((e,t)=>[...e,t," "]),[]);let d=null;return h?(d=[Object(o.a)(a.b,{id:"status.show_more",defaultMessage:"Show more"},"0")],i&&i.forEach(((e,t)=>{d.push(Object(o.a)(l.a,{fixedWidth:!0,className:"status__content__spoiler-icon",id:e,"aria-hidden":"true"},"icon-"+t))}))):d=Object(o.a)(a.b,{id:"status.show_less",defaultMessage:"Show less"},"0"),h&&(c=Object(o.a)("div",{},void 0,u)),Object(o.a)("div",{className:v,tabIndex:"0",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},void 0,Object(o.a)("p",{style:{marginBottom:h&&e.get("mentions").isEmpty()?"0px":null}},void 0,Object(o.a)("span",{dangerouslySetInnerHTML:g,className:"translate",lang:b})," ",Object(o.a)("button",{tabIndex:"0",className:"status__content__spoiler-link",onClick:this.handleSpoilerClick},void 0,d)),c,Object(o.a)("div",{className:"status__content__spoiler "+(h?"":"status__content__spoiler--visible")},void 0,r.a.createElement("div",{ref:this.setContentsRef,key:"contents-"+p,tabIndex:h?null:0,dangerouslySetInnerHTML:m,className:"status__content__text translate",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,lang:b}),t),n)}return c?Object(o.a)("div",{className:v,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,tabIndex:"0"},void 0,r.a.createElement("div",{ref:this.setContentsRef,key:"contents-"+p+"-"+f,dangerouslySetInnerHTML:m,className:"status__content__text translate",tabIndex:"0",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,lang:b}),t,n):Object(o.a)("div",{className:"status__content",tabIndex:"0"},void 0,r.a.createElement("div",{ref:this.setContentsRef,key:"contents-"+p,className:"status__content__text translate",dangerouslySetInnerHTML:m,tabIndex:"0",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,lang:b}),t,n)}}m.defaultProps={tagLinks:!0,rewriteMentions:"no"}},288:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return g}));var o=n(8),i=n(15),r=n(19);const a="DIRECTORY_FETCH_REQUEST",s="DIRECTORY_FETCH_SUCCESS",c="DIRECTORY_FETCH_FAIL",u="DIRECTORY_EXPAND_REQUEST",l="DIRECTORY_EXPAND_SUCCESS",d="DIRECTORY_EXPAND_FAIL",p=e=>(t,n)=>{t(f()),Object(o.a)(n).get("/api/v1/directory",{params:{...e,limit:20}}).then((e=>{let{data:n}=e;t(Object(i.g)(n)),t(h(n)),t(Object(r.cb)(n.map((e=>e.id))))})).catch((e=>t(m(e))))},f=()=>({type:a}),h=e=>({type:s,accounts:e}),m=e=>({type:c,error:e}),g=e=>(t,n)=>{t(b());const a=n().getIn(["user_lists","directory","items"]).size;Object(o.a)(n).get("/api/v1/directory",{params:{...e,offset:a,limit:20}}).then((e=>{let{data:n}=e;t(Object(i.g)(n)),t(v(n)),t(Object(r.cb)(n.map((e=>e.id))))})).catch((e=>t(y(e))))},b=()=>({type:u}),v=e=>({type:l,accounts:e}),y=e=>({type:d,error:e})},289:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p}));var o=n(8),i=n(15);const r="FAVOURITED_STATUSES_FETCH_REQUEST",a="FAVOURITED_STATUSES_FETCH_SUCCESS",s="FAVOURITED_STATUSES_FETCH_FAIL",c="FAVOURITED_STATUSES_EXPAND_REQUEST",u="FAVOURITED_STATUSES_EXPAND_SUCCESS",l="FAVOURITED_STATUSES_EXPAND_FAIL";function d(){return(e,t)=>{t().getIn(["status_lists","favourites","isLoading"])||(e({type:r,skipLoading:!0}),Object(o.a)(t).get("/api/v1/favourites").then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(i.j)(t.data)),e(function(e,t){return{type:a,statuses:e,next:t,skipLoading:!0}}(t.data,n?n.uri:null))})).catch((t=>{e(function(e){return{type:s,error:e,skipLoading:!0}}(t))})))}}function p(){return(e,t)=>{const n=t().getIn(["status_lists","favourites","next"],null);null===n||t().getIn(["status_lists","favourites","isLoading"])||(e({type:c}),Object(o.a)(t).get(n).then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(i.j)(t.data)),e(function(e,t){return{type:u,statuses:e,next:t}}(t.data,n?n.uri:null))})).catch((t=>{e(function(e){return{type:l,error:e}}(t))})))}}},290:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p}));var o=n(8),i=n(15);const r="BOOKMARKED_STATUSES_FETCH_REQUEST",a="BOOKMARKED_STATUSES_FETCH_SUCCESS",s="BOOKMARKED_STATUSES_FETCH_FAIL",c="BOOKMARKED_STATUSES_EXPAND_REQUEST",u="BOOKMARKED_STATUSES_EXPAND_SUCCESS",l="BOOKMARKED_STATUSES_EXPAND_FAIL";function d(){return(e,t)=>{t().getIn(["status_lists","bookmarks","isLoading"])||(e({type:r}),Object(o.a)(t).get("/api/v1/bookmarks").then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(i.j)(t.data)),e(function(e,t){return{type:a,statuses:e,next:t}}(t.data,n?n.uri:null))})).catch((t=>{e(function(e){return{type:s,error:e}}(t))})))}}function p(){return(e,t)=>{const n=t().getIn(["status_lists","bookmarks","next"],null);null===n||t().getIn(["status_lists","bookmarks","isLoading"])||(e({type:c}),Object(o.a)(t).get(n).then((t=>{const n=Object(o.b)(t).refs.find((e=>"next"===e.rel));e(Object(i.j)(t.data)),e(function(e,t){return{type:u,statuses:e,next:t}}(t.data,n?n.uri:null))})).catch((t=>{e(function(e){return{type:l,error:e}}(t))})))}}},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"@@redux/INIT"===e.type?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,o,i,r,a){var s=i||"<<anonymous>>",c=a||o;if(null==n[o])return t?new Error("Required "+r+" `"+c+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,l=Array(u>6?u-6:0),d=6;d<u;d++)l[d-6]=arguments[d];return e.apply(void 0,[n,o,s,r,c].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},304:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,r.default)(t),o=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,i.default)(o,e))return s;void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect());return s={top:s.top+(n.pageYOffset||o.scrollTop)-(o.clientTop||0),left:s.left+(n.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}};var i=o(n(305)),r=o(n(257)),a=o(n(256));e.exports=t.default},305:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=void 0;var i=o(n(108)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):r(e,t)}:r;function r(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=i,e.exports=t.default},306:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e,t,n){var o="",l="",d=t;if("string"==typeof t){if(void 0===n)return e.style[(0,i.default)(t)]||(0,a.default)(e).getPropertyValue((0,r.default)(t));(d={})[t]=n}Object.keys(d).forEach((function(t){var n=d[t];n||0===n?(0,u.default)(t)?l+=t+"("+n+") ":o+=(0,r.default)(t)+": "+n+";":(0,s.default)(e,(0,r.default)(t))})),l&&(o+=c.transform+": "+l+";");e.style.cssText+=";"+o};var i=o(n(307)),r=o(n(432)),a=o(n(434)),s=o(n(435)),c=n(436),u=o(n(437));e.exports=t.default},307:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e){return(0,i.default)(e.replace(r,"ms-"))};var i=o(n(431)),r=/^-ms-/;e.exports=t.default},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=void 0;var o,i=n(412),r=(o=i)&&o.__esModule?o:{default:o};t.combineReducers=r.default},315:function(e,t,n){"use strict";function o(e){return function(t){var n=t.dispatch,o=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,o,e):t(i)}}}}var i=o();i.withExtraArgument=o,t.a=i},316:function(e,t,n){"use strict";t.a=n.p+"ocr/tesseract-core.wasm-e4db7f953ac7bcf9f67bd39031e42241.js"},317:function(e,t,n){"use strict";t.a=n.p+"ocr/worker.min-514c4b0a1fa9a086ca9ab8bfb7df6c9d.js"},344:function(e,t,n){"use strict";e.exports=()=>{const e="[\\ud800-\\udfff]",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",n="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",r="[\\ud800-\\udbff][\\udc00-\\udfff]",a="[\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93]",s="(?:"+t+"|"+n+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+s+("(?:\\u200d(?:"+[o,i,r].join("|")+")"+(c+s)+")*"),l="(?:"+[""+o+t+"?",t,i,r,e,a].join("|")+")";return new RegExp("(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)|"+n+"(?="+n+")|"+(l+u),"g")}},353:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n(0),i=(n(1),n(16)),r=n.n(i),a=n(3),s=n.n(a),c=n(18),u=n(4),l=n(7),d=n.n(l),p=n(28);class f extends c.a{render(){const{media:e,compact:t}=this.props;return Object(o.a)("div",{className:d()("attachment-list",{compact:t})},void 0,!t&&Object(o.a)("div",{className:"attachment-list__icon"},void 0,Object(o.a)(p.a,{id:"link"})),Object(o.a)("ul",{className:"attachment-list__list"},void 0,e.map((e=>{const n=e.get("remote_url")||e.get("url");return Object(o.a)("li",{},e.get("id"),Object(o.a)("a",{href:n,target:"_blank",rel:"noopener noreferrer"},void 0,t&&Object(o.a)(p.a,{id:"link"}),t&&" ",n?n.split("/").pop().split("#")[0].split("?")[0]:Object(o.a)(u.b,{id:"attachments_list.unprocessed",defaultMessage:"(unprocessed)"})))}))))}}f.propTypes={media:r.a.list.isRequired,compact:s.a.bool}},357:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return O}));var o=n(8),i=n(19),r=n(15);const a="SEARCH_CHANGE",s="SEARCH_CLEAR",c="SEARCH_SHOW",u="SEARCH_FETCH_REQUEST",l="SEARCH_FETCH_SUCCESS",d="SEARCH_FETCH_FAIL",p="SEARCH_EXPAND_SUCCESS";function f(e){return{type:a,value:e}}function h(){return{type:s}}function m(){return(e,t)=>{const n=t().getIn(["search","value"]);0!==n.length?(e({type:u}),Object(o.a)(t).get("/api/v2/search",{params:{q:n,resolve:!0,limit:10}}).then((t=>{t.data.accounts&&e(Object(r.g)(t.data.accounts)),t.data.statuses&&e(Object(r.j)(t.data.statuses)),e(g(t.data,n)),e(Object(i.cb)(t.data.accounts.map((e=>e.id))))})).catch((t=>{e(function(e){return{type:d,error:e}}(t))}))):e(g({accounts:[],statuses:[],hashtags:[]},""))}}function g(e,t){return{type:l,results:e,searchTerm:t}}const b=e=>(t,n)=>{const a=n().getIn(["search","value"]),s=n().getIn(["search","results",e]).size;t(v()),Object(o.a)(n).get("/api/v2/search",{params:{q:a,type:e,offset:s}}).then((n=>{let{data:o}=n;o.accounts&&t(Object(r.g)(o.accounts)),o.statuses&&t(Object(r.j)(o.statuses)),t(y(o,a,e)),t(Object(i.cb)(o.accounts.map((e=>e.id))))})).catch((e=>{t(_(e))}))},v=()=>({type:"SEARCH_EXPAND_REQUEST"}),y=(e,t,n)=>({type:p,results:e,searchTerm:t,searchType:n}),_=e=>({type:"SEARCH_EXPAND_FAIL",error:e}),O=()=>({type:c})},371:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(0);n(1);const i=e=>{let{size:t,strokeWidth:n}=e;const i="0 0 "+t+" "+t,r=(t-n)/2;return Object(o.a)("svg",{width:t,heigh:t,viewBox:i,className:"circular-progress",role:"progressbar"},void 0,Object(o.a)("circle",{fill:"none",cx:t/2,cy:t/2,r:r,strokeWidth:n+"px"}))};t.b=()=>Object(o.a)("div",{className:"loading-indicator"},void 0,Object(o.a)(i,{size:50,strokeWidth:6}))},373:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return d}));var o=n(83);const i="COLUMN_ADD",r="COLUMN_REMOVE",a="COLUMN_MOVE",s="COLUMN_PARAMS_CHANGE";function c(e,t){return n=>{n({type:i,id:e,params:t}),n(Object(o.d)())}}function u(e){return t=>{t({type:r,uuid:e}),t(Object(o.d)())}}function l(e,t){return n=>{n({type:a,uuid:e,direction:t}),n(Object(o.d)())}}function d(e,t,n){return i=>{i({type:s,uuid:e,path:t,value:n}),i(Object(o.d)())}}},384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(3),r=(o=i)&&o.__esModule?o:{default:o};t.default={message:r.default.oneOfType([r.default.string,r.default.element]).isRequired,action:r.default.oneOfType([r.default.bool,r.default.string,r.default.node]),onClick:r.default.func,style:r.default.bool,actionStyle:r.default.object,titleStyle:r.default.object,barStyle:r.default.object,activeBarStyle:r.default.object,dismissAfter:r.default.oneOfType([r.default.bool,r.default.number]),onDismiss:r.default.func,className:r.default.string,activeClassName:r.default.string,isActive:r.default.bool,title:r.default.oneOfType([r.default.string,r.default.node])}},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o,i,r=n(0),a=(n(1),n(3)),s=n.n(a),c=n(4),u=n(18),l=n(28);const d=Object(c.f)({public:{id:"privacy.public.short",defaultMessage:"Public"},unlisted:{id:"privacy.unlisted.short",defaultMessage:"Unlisted"},private:{id:"privacy.private.short",defaultMessage:"Followers-only"},direct:{id:"privacy.direct.short",defaultMessage:"Mentioned people only"},local:{id:"privacy.local.short",defaultMessage:"Local"}});let p=Object(c.g)(((i=class extends u.a{render(){const{withLabel:e,visibility:t,intl:n}=this.props,o={public:"globe",unlisted:"unlock",private:"lock",direct:"envelope",local:"map-pin"}[t],i=n.formatMessage(d[t]),a=Object(r.a)(l.a,{className:"status__visibility-icon",fixedWidth:!0,id:o,title:i,"aria-hidden":"true"});return e?Object(r.a)("span",{style:{whiteSpace:"nowrap"}},void 0,a," ",i):a}}).propTypes={visibility:s.a.string,intl:s.a.object.isRequired,withLabel:s.a.bool},o=i))||o},396:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return h}));var o=n(8),i=n(15),r=n(19);const a="SUGGESTIONS_FETCH_REQUEST",s="SUGGESTIONS_FETCH_SUCCESS",c="SUGGESTIONS_FETCH_FAIL",u="SUGGESTIONS_DISMISS";function l(e){return void 0===e&&(e=!1),(t,n)=>{t(d()),Object(o.a)(n).get("/api/v2/suggestions",{params:{limit:20}}).then((n=>{t(Object(i.g)(n.data.map((e=>e.account)))),t(p(n.data)),e&&t(Object(r.cb)(n.data.map((e=>e.account.id))))})).catch((e=>t(f(e))))}}function d(){return{type:a,skipLoading:!0}}function p(e){return{type:s,suggestions:e,skipLoading:!0}}function f(e){return{type:c,error:e,skipLoading:!0,skipAlert:!0}}const h=e=>(t,n)=>{t({type:u,id:e}),Object(o.a)(n).delete("/api/v1/suggestions/"+e).then((()=>{t(d()),Object(o.a)(n).get("/api/v2/suggestions").then((e=>{t(Object(i.g)(e.data.map((e=>e.account)))),t(p(e.data))})).catch((e=>t(f(e))))})).catch((()=>{}))}},397:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));var o=n(8),i=n(15);const r="HISTORY_FETCH_REQUEST",a="HISTORY_FETCH_SUCCESS",s="HISTORY_FETCH_FAIL",c=e=>(t,n)=>{n().getIn(["history",e,"loading"])||(t(u(e)),Object(o.a)(n).get("/api/v1/statuses/"+e+"/history").then((n=>{let{data:o}=n;t(Object(i.g)(o.map((e=>e.account)))),t(l(e,o))})).catch((e=>t(d(e)))))},u=e=>({type:r,statusId:e}),l=(e,t)=>({type:a,statusId:e,history:t}),d=e=>({type:s,error:e})},399:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var i=o(n(257));e.exports=t.default},40:function(e,t,n){"use strict";n.d(t,"w",(function(){return a})),n.d(t,"v",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"u",(function(){return u})),n.d(t,"p",(function(){return l})),n.d(t,"q",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"y",(function(){return m})),n.d(t,"z",(function(){return g})),n.d(t,"x",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return O})),n.d(t,"r",(function(){return w})),n.d(t,"t",(function(){return j})),n.d(t,"s",(function(){return E})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return x})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return M})),n.d(t,"e",(function(){return I})),n.d(t,"G",(function(){return L})),n.d(t,"I",(function(){return P})),n.d(t,"P",(function(){return H})),n.d(t,"O",(function(){return B})),n.d(t,"C",(function(){return G})),n.d(t,"Q",(function(){return V})),n.d(t,"M",(function(){return Y})),n.d(t,"F",(function(){return $})),n.d(t,"H",(function(){return ae})),n.d(t,"E",(function(){return ce})),n.d(t,"D",(function(){return ue})),n.d(t,"B",(function(){return le})),n.d(t,"K",(function(){return me})),n.d(t,"L",(function(){return _e})),n.d(t,"N",(function(){return Oe})),n.d(t,"A",(function(){return Se})),n.d(t,"J",(function(){return Te}));var o=n(8),i=n(15),r=n(80);const a="LIST_FETCH_SUCCESS",s="LIST_FETCH_FAIL",c="LISTS_FETCH_SUCCESS",u="LIST_EDITOR_TITLE_CHANGE",l="LIST_EDITOR_RESET",d="LIST_EDITOR_SETUP",p="LIST_CREATE_REQUEST",f="LIST_CREATE_SUCCESS",h="LIST_CREATE_FAIL",m="LIST_UPDATE_REQUEST",g="LIST_UPDATE_SUCCESS",b="LIST_UPDATE_FAIL",v="LIST_DELETE_SUCCESS",y="LIST_ACCOUNTS_FETCH_REQUEST",_="LIST_ACCOUNTS_FETCH_SUCCESS",O="LIST_ACCOUNTS_FETCH_FAIL",w="LIST_EDITOR_SUGGESTIONS_CHANGE",j="LIST_EDITOR_SUGGESTIONS_READY",E="LIST_EDITOR_SUGGESTIONS_CLEAR",C="LIST_EDITOR_ADD_SUCCESS",S="LIST_EDITOR_REMOVE_SUCCESS",T="LIST_ADDER_RESET",x="LIST_ADDER_SETUP",k="LIST_ADDER_LISTS_FETCH_REQUEST",M="LIST_ADDER_LISTS_FETCH_SUCCESS",I="LIST_ADDER_LISTS_FETCH_FAIL",L=e=>(t,n)=>{n().getIn(["lists",e])||(t(N(e)),Object(o.a)(n).get("/api/v1/lists/"+e).then((e=>{let{data:n}=e;return t(A(n))})).catch((n=>t(R(e,n)))))},N=e=>({type:"LIST_FETCH_REQUEST",id:e}),A=e=>({type:a,list:e}),R=(e,t)=>({type:s,id:e,error:t}),P=()=>(e,t)=>{e(D()),Object(o.a)(t).get("/api/v1/lists").then((t=>{let{data:n}=t;return e(U(n))})).catch((t=>e(F(t))))},D=()=>({type:"LISTS_FETCH_REQUEST"}),U=e=>({type:c,lists:e}),F=e=>({type:"LISTS_FETCH_FAIL",error:e}),H=e=>(t,n)=>{const o=n().getIn(["listEditor","listId"]),i=n().getIn(["listEditor","title"]);t(null===o?W(i,e):V(o,i,e))},B=e=>(t,n)=>{t({type:d,list:n().getIn(["lists",e])}),t(ne(e))},G=e=>({type:u,value:e}),W=(e,t)=>(n,i)=>{n(q()),Object(o.a)(i).post("/api/v1/lists",{title:e}).then((e=>{let{data:o}=e;n(z(o)),t&&n(Y())})).catch((e=>n(K(e))))},q=()=>({type:p}),z=e=>({type:f,list:e}),K=e=>({type:h,error:e}),V=(e,t,n,i)=>(r,a)=>{r(Q(e)),Object(o.a)(a).put("/api/v1/lists/"+e,{title:t,replies_policy:i}).then((e=>{let{data:t}=e;r(X(t)),n&&r(Y())})).catch((t=>r(J(e,t))))},Q=e=>({type:m,id:e}),X=e=>({type:g,list:e}),J=(e,t)=>({type:b,id:e,error:t}),Y=()=>({type:l}),$=e=>(t,n)=>{t(Z(e)),Object(o.a)(n).delete("/api/v1/lists/"+e).then((()=>t(ee(e)))).catch((n=>t(te(e,n))))},Z=e=>({type:"LIST_DELETE_REQUEST",id:e}),ee=e=>({type:v,id:e}),te=(e,t)=>({type:"LIST_DELETE_FAIL",id:e,error:t}),ne=e=>(t,n)=>{t(oe(e)),Object(o.a)(n).get("/api/v1/lists/"+e+"/accounts",{params:{limit:0}}).then((n=>{let{data:o}=n;t(Object(i.g)(o)),t(ie(e,o))})).catch((n=>t(re(e,n))))},oe=e=>({type:y,id:e}),ie=(e,t,n)=>({type:_,id:e,accounts:t,next:n}),re=(e,t)=>({type:O,id:e,error:t}),ae=e=>(t,n)=>{const a={q:e,resolve:!1,limit:4,following:!0};Object(o.a)(n).get("/api/v1/accounts/search",{params:a}).then((n=>{let{data:o}=n;t(Object(i.g)(o)),t(se(e,o))})).catch((e=>t(Object(r.f)(e))))},se=(e,t)=>({type:j,query:e,accounts:t}),ce=()=>({type:E}),ue=e=>({type:w,value:e}),le=e=>(t,n)=>{t(de(n().getIn(["listEditor","listId"]),e))},de=(e,t)=>(n,i)=>{n(pe(e,t)),Object(o.a)(i).post("/api/v1/lists/"+e+"/accounts",{account_ids:[t]}).then((()=>n(fe(e,t)))).catch((o=>n(he(e,t,o))))},pe=(e,t)=>({type:"LIST_EDITOR_ADD_REQUEST",listId:e,accountId:t}),fe=(e,t)=>({type:C,listId:e,accountId:t}),he=(e,t,n)=>({type:"LIST_EDITOR_ADD_FAIL",listId:e,accountId:t,error:n}),me=e=>(t,n)=>{t(ge(n().getIn(["listEditor","listId"]),e))},ge=(e,t)=>(n,i)=>{n(be(e,t)),Object(o.a)(i).delete("/api/v1/lists/"+e+"/accounts",{params:{account_ids:[t]}}).then((()=>n(ve(e,t)))).catch((o=>n(ye(e,t,o))))},be=(e,t)=>({type:"LIST_EDITOR_REMOVE_REQUEST",listId:e,accountId:t}),ve=(e,t)=>({type:S,listId:e,accountId:t}),ye=(e,t,n)=>({type:"LIST_EDITOR_REMOVE_FAIL",listId:e,accountId:t,error:n}),_e=()=>({type:T}),Oe=e=>(t,n)=>{t({type:x,account:n().getIn(["accounts",e])}),t(P()),t(we(e))},we=e=>(t,n)=>{t(je(e)),Object(o.a)(n).get("/api/v1/accounts/"+e+"/lists").then((n=>{let{data:o}=n;return t(Ee(e,o))})).catch((n=>t(Ce(e,n))))},je=e=>({type:k,id:e}),Ee=(e,t)=>({type:M,id:e,lists:t}),Ce=(e,t)=>({type:I,id:e,err:t}),Se=e=>(t,n)=>{t(de(e,n().getIn(["listAdder","accountId"])))},Te=e=>(t,n)=>{t(ge(e,n().getIn(["listAdder","accountId"])))}},400:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=void 0;var i=function(){};o(n(108)).default&&(i=document.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,(function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)}))}:void 0);var r=i;t.default=r,e.exports=t.default},401:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=void 0;var i=function(){};o(n(108)).default&&(i=document.addEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var r=i;t.default=r,e.exports=t.default},402:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a}));const o="DROPDOWN_MENU_OPEN",i="DROPDOWN_MENU_CLOSE";function r(e,t,n,i){return{type:o,id:e,placement:t,keyboard:n,scroll_key:i}}function a(e){return{type:i,id:e}}},409:function(e,t,n){var o=n(270);e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),r=(o=i)&&o.__esModule?o:{default:o},a=n(413);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.Map,n=Object.keys(e);return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),i=arguments[1];return o.withMutations((function(t){n.forEach((function(n){var o=(0,e[n])(t.get(n),i);(0,a.validateNextState)(o,n,i),t.set(n,o)}))}))}},e.exports=t.default},413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateNextState=t.getUnexpectedInvocationParameterMessage=t.getStateName=void 0;var o=a(n(295)),i=a(n(414)),r=a(n(415));function a(e){return e&&e.__esModule?e:{default:e}}t.getStateName=o.default,t.getUnexpectedInvocationParameterMessage=i.default,t.validateNextState=r.default},414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(295));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var r=Object.keys(t);if(!r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var a=(0,i.default)(n);if(o.default.isImmutable?!o.default.isImmutable(e):!o.default.Iterable.isIterable(e))return"The "+a+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+r.join('", "')+'".';var s=e.toSeq().keySeq().toArray().filter((function(e){return!t.hasOwnProperty(e)}));return s.length>0?"Unexpected "+(1===s.length?"property":"properties")+' "'+s.join('", "')+'" found in '+a+'. Expected to find one of the known reducer property names instead: "'+r.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default},415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw new Error('Reducer "'+t+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var o=n(14),i=n(51);const r="LOCAL_SETTING_CHANGE",a="LOCAL_SETTING_DELETE";function s(){return(e,t)=>{const n=t().getIn(["local_settings","content_warnings","auto_unfold"]),r=t().getIn(["local_settings","swipe_to_change_columns"]);let a=[];null!=n&&(n===o.expandSpoilers?e(u(["content_warnings","auto_unfold"])):a.push("user_setting_expand_spoilers")),null!=r&&(r===!o.disableSwiping?e(u(["swipe_to_change_columns"])):a.push("user_setting_disable_swiping")),a.length>0&&e(Object(i.d)("DEPRECATED_SETTINGS",{settings:a,onConfirm:()=>e((e=>{e(u(["content_warnings","auto_unfold"])),e(u(["swipe_to_change_columns"]))}))}))}}function c(e,t){return n=>{n({type:r,key:e,value:t}),n(l())}}function u(e){return t=>{t({type:a,key:e}),t(l())}}function l(){return(e,t)=>{const n=t().get("local_settings").toJS();localStorage.setItem("mastodon-settings",JSON.stringify(n))}}},42:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),i=n(86),r=a(n(303));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)((function(e,t,n,r,a){var s=e[t];return o.default.isValidElement(s)?new Error("Invalid "+r+" `"+a+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,i.isValidElementType)(s)?null:new Error("Invalid "+r+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")})),e.exports=t.default},424:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(108)),i=d(n(3)),r=d(n(254)),a=d(n(1)),s=d(n(31)),c=d(n(255)),u=d(n(110)),l=d(n(425));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,o;p(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.getMountNode=function(){return o._portalContainerNode},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){if(o.default){var e=this.props.container;"function"==typeof e&&(e=e()),e&&!s.default.findDOMNode(e)||this.setContainer(e)}},t.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e.container)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.setContainer=function(e){this._portalContainerNode=(0,c.default)(e,(0,u.default)(this).body)},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?s.default.createPortal(this.props.children,this._portalContainerNode):null},t}(a.default.Component);h.displayName="Portal",h.propTypes={container:i.default.oneOfType([r.default,i.default.func]),onRendered:i.default.func},t.default=s.default.createPortal?h:l.default,e.exports=t.default},425:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),i=u(n(254)),r=u(n(1)),a=u(n(31)),s=u(n(255)),c=u(n(110));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;l(this,t);for(var i=arguments.length,u=Array(i),p=0;p<i;p++)u[p]=arguments[p];return n=o=d(this,e.call.apply(e,[this].concat(u))),o._mountOverlayTarget=function(){o._overlayTarget||(o._overlayTarget=document.createElement("div"),o._portalContainerNode=(0,s.default)(o.props.container,(0,c.default)(o).body),o._portalContainerNode.appendChild(o._overlayTarget))},o._unmountOverlayTarget=function(){o._overlayTarget&&(o._portalContainerNode.removeChild(o._overlayTarget),o._overlayTarget=null),o._portalContainerNode=null},o._renderOverlay=function(){var e=o.props.children?r.default.Children.only(o.props.children):null;if(null!==e){o._mountOverlayTarget();var t=!o._overlayInstance;o._overlayInstance=a.default.unstable_renderSubtreeIntoContainer(o,e,o._overlayTarget,(function(){t&&o.props.onRendered&&o.props.onRendered()}))}else o._unrenderOverlay(),o._unmountOverlayTarget()},o._unrenderOverlay=function(){o._overlayTarget&&(a.default.unmountComponentAtNode(o._overlayTarget),o._overlayInstance=null)},o.getMountNode=function(){return o._overlayTarget},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,s.default)(e.container,(0,c.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(r.default.Component);p.displayName="Portal",p.propTypes={container:o.default.oneOfType([i.default,o.default.func]),onRendered:o.default.func},t.default=p,e.exports=t.default},426:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=f(n(7)),r=f(n(3)),a=f(n(254)),s=n(1),c=f(s),u=f(n(31)),l=f(n(427)),d=f(n(255)),p=f(n(110));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var m=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.getTarget=function(){var e=i.props.target,t="function"==typeof e?e():e;return t&&u.default.findDOMNode(t)||null},i.maybeUpdatePosition=function(e){var t=i.getTarget();(i.props.shouldUpdatePosition||t!==i._lastTarget||e)&&i.updatePosition(t)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=h(e,["children","className"]),a=this.state,u=a.positionLeft,l=a.positionTop,d=h(a,["positionLeft","positionTop"]);delete r.target,delete r.container,delete r.containerPadding,delete r.shouldUpdatePosition;var p=c.default.Children.only(t);return(0,s.cloneElement)(p,o({},r,d,{positionLeft:u,positionTop:l,className:(0,i.default)(n,p.props.className),style:o({},p.props.style,{left:u,top:l})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=u.default.findDOMNode(this),n=(0,d.default)(this.props.container,(0,p.default)(this).body);this.setState((0,l.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(c.default.Component);m.propTypes={target:r.default.oneOfType([a.default,r.default.func]),container:r.default.oneOfType([a.default,r.default.func]),containerPadding:r.default.number,placement:r.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:r.default.bool},m.displayName="Position",m.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=m,e.exports=t.default},427:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r,a){var s="BODY"===r.tagName?(0,o.default)(n):(0,i.default)(n,r),u=(0,o.default)(t),l=u.height,d=u.width,p=void 0,f=void 0,h=void 0,m=void 0;if("left"===e||"right"===e){f=s.top+(s.height-l)/2,p="left"===e?s.left-d:s.left+s.width;var g=function(e,t,n,o){var i=c(n),r=i.scroll,a=i.height,s=e-o-r,u=e+o-r+t;return s<0?-s:u>a?a-u:0}(f,l,r,a);f+=g,m=50*(1-2*g/l)+"%",h=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');p=s.left+(s.width-d)/2,f="top"===e?s.top-l:s.top+s.height;var b=function(e,t,n,o){var i=c(n).width,r=e-o,a=e+o+t;if(r<0)return-r;if(a>i)return i-a;return 0}(p,d,r,a);p+=b,h=50*(1-2*b/d)+"%",m=void 0}return{positionLeft:p,positionTop:f,arrowOffsetLeft:h,arrowOffsetTop:m}};var o=s(n(304)),i=s(n(428)),r=s(n(285)),a=s(n(110));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=void 0,n=void 0,i=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,i=(0,r.default)((0,a.default)(e).documentElement)||(0,r.default)(e);else{var s=(0,o.default)(e);t=s.width,n=s.height,i=(0,r.default)(e)}return{width:t,height:n,scroll:i}}e.exports=t.default},428:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e,t){var n,o={top:0,left:0};"fixed"===(0,u.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,a.default)(e),n=(0,r.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(o=(0,r.default)(t)),o.top+=parseInt((0,u.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,o.left+=parseInt((0,u.default)(t,"borderLeftWidth"),10)-(0,c.default)(t)||0);return(0,i.default)({},n,{top:n.top-o.top-(parseInt((0,u.default)(e,"marginTop"),10)||0),left:n.left-o.left-(parseInt((0,u.default)(e,"marginLeft"),10)||0)})};var i=o(n(429)),r=o(n(304)),a=o(n(430)),s=o(n(285)),c=o(n(399)),u=o(n(306));e.exports=t.default},429:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==a(e)&&"static"===(0,r.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var i=o(n(256)),r=o(n(306));function a(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},431:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,(function(e,t){return t.toUpperCase()}))};var o=/-(.)/g;e.exports=t.default},432:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e){return(0,i.default)(e).replace(r,"-ms-")};var i=o(n(433)),r=/^ms-/;e.exports=t.default},433:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,"-$1").toLowerCase()};var o=/([A-Z])/g;e.exports=t.default},434:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,i.default)(t))&&(t="styleFloat");var o=e.currentStyle[t]||null;if(null==o&&n&&n[t]&&(o=n[t]),a.test(o)&&!r.test(t)){var s=n.left,c=e.runtimeStyle,u=c&&c.left;u&&(c.left=e.currentStyle.left),n.left="fontSize"===t?"1em":o,o=n.pixelLeft+"px",n.left=s,u&&(c.left=u)}return o}}};var i=o(n(307)),r=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},435:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},436:function(e,t,n){"use strict";var o=n(42);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,r,a,s,c,u,l,d,p,f,h,m=o(n(108)),g="transform";if(t.transform=g,t.animationEnd=a,t.transitionEnd=r,t.transitionDelay=l,t.transitionTiming=u,t.transitionDuration=c,t.transitionProperty=s,t.animationDelay=h,t.animationTiming=f,t.animationDuration=p,t.animationName=d,m.default){var b=function(){for(var e,t,n=document.createElement("div").style,o={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(o),r="",a=0;a<i.length;a++){var s=i[a];if(s+"TransitionProperty"in n){r="-"+s.toLowerCase(),e=o[s]("TransitionEnd"),t=o[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:r}}();i=b.prefix,t.transitionEnd=r=b.transitionEnd,t.animationEnd=a=b.animationEnd,t.transform=g=i+"-"+g,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=c=i+"-transition-duration",t.transitionDelay=l=i+"-transition-delay",t.transitionTiming=u=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=p=i+"-animation-duration",t.animationTiming=f=i+"-animation-delay",t.animationDelay=h=i+"-animation-timing-function"}var v={transform:g,end:r,property:s,timing:u,delay:l,duration:c};t.default=v},437:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!o.test(e))};var o=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},438:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(305)),i=u(n(3)),r=u(n(1)),a=u(n(31)),s=u(n(439)),c=u(n(110));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return r.addEventListeners=function(){r.currentEvent=window.event;var e=r.props.event,t=(0,c.default)(r);r.documentMouseCaptureListener=(0,s.default)(t,e,r.handleMouseCapture,!0),r.documentMouseListener=(0,s.default)(t,e,r.handleMouse),r.documentKeyupListener=(0,s.default)(t,"keyup",r.handleKeyUp)},r.removeEventListeners=function(){r.documentMouseCaptureListener&&r.documentMouseCaptureListener.remove(),r.documentMouseListener&&r.documentMouseListener.remove(),r.documentKeyupListener&&r.documentKeyupListener.remove()},r.handleMouseCapture=function(e){var t;r.preventMouseRootClose=!!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||!function(e){return 0===e.button}(e)||(0,o.default)(a.default.findDOMNode(r),e.target)},r.handleMouse=function(e){e!==r.currentEvent?!r.preventMouseRootClose&&r.props.onRootClose&&r.props.onRootClose(e):r.currentEvent=void 0},r.handleKeyUp=function(e){e!==r.currentEvent?27===e.keyCode&&r.props.onRootClose&&r.props.onRootClose(e):r.currentEvent=void 0},r.preventMouseRootClose=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(r.default.Component);l.displayName="RootCloseWrapper",l.propTypes={onRootClose:i.default.func,children:i.default.element,disabled:i.default.bool,event:i.default.oneOf(["click","mousedown"])},l.defaultProps={event:"click"},t.default=l,e.exports=t.default},439:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r){return(0,o.default)(e,t,n,r),{remove:function(){(0,i.default)(e,t,n,r)}}};var o=r(n(400)),i=r(n(401));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},458:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a}));const o="PICTURE_IN_PICTURE_DEPLOY",i="PICTURE_IN_PICTURE_REMOVE",r=(e,t,n,i)=>(r,a)=>{a().hasIn(["statuses",e])&&r({type:o,statusId:e,accountId:t,playerType:n,props:i})},a=()=>({type:i})},464:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n(0),i=n(7),r=n.n(i),a=n(1),s=n.n(a),c=n(94),u=n.n(c),l=n(45),d=n(26),p=n.n(d),f=(n(18),n(28)),h=n(613),m=n(227);n(486);const g=p()(1,{damping:35,stiffness:400});class b extends s.a.PureComponent{constructor(){super(...arguments),this.state={mounted:!1,value:this.props.openedViaKeyboard?this.props.items[0].name:void 0},this.handleDocumentClick=e=>{this.node&&!this.node.contains(e.target)&&this.props.onClose()},this.handleRef=e=>{this.node=e},this.handleClick=e=>{const t=Number(e.currentTarget.getAttribute("data-index")),{onChange:n,onClose:o,closeOnChange:i,items:r}=this.props,{name:a}=this.props.items[t];e.preventDefault(),i&&o(),n(a)},this.handleChange=e=>{this.props.value?this.props.onChange(e):this.setState({value:e})},this.handleKeyDown=e=>{const t=Number(e.currentTarget.getAttribute("data-index")),{items:n}=this.props;let o=null;switch(e.key){case"Escape":this.props.onClose();break;case"Enter":case" ":this.handleClick(e);break;case"ArrowDown":o=this.node.childNodes[t+1]||this.node.firstChild;break;case"ArrowUp":o=this.node.childNodes[t-1]||this.node.lastChild;break;case"Tab":o=e.shiftKey?this.node.childNodes[t-1]||this.node.lastChild:this.node.childNodes[t+1]||this.node.firstChild;break;case"Home":o=this.node.firstChild;break;case"End":o=this.node.lastChild}o&&(o.focus(),this.handleChange(this.props.items[Number(o.getAttribute("data-index"))].name),e.preventDefault(),e.stopPropagation())},this.setFocusRef=e=>{this.focusedItem=e},this.renderItem=(e,t)=>{const{name:n,icon:i,meta:a,text:c}=e,u=n===(this.props.value||this.state.value),l=r()("composer--options--dropdown--content--item",{active:u});let d=this.props.renderItemContents&&this.props.renderItemContents(e,t);return d||(d=Object(o.a)(s.a.Fragment,{},void 0,i&&Object(o.a)(f.a,{className:"icon",fixedWidth:!0,id:i}),Object(o.a)("div",{className:"content"},void 0,Object(o.a)("strong",{},void 0,c),a))),s.a.createElement("div",{className:l,onClick:this.handleClick,onKeyDown:this.handleKeyDown,role:"option",tabIndex:"0",key:n,"data-index":t,ref:u?this.setFocusRef:null},d)}}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,h.b),this.focusedItem?this.focusedItem.focus({preventScroll:!0}):this.node.firstChild.focus({preventScroll:!0}),this.setState({mounted:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,h.b)}render(){const{mounted:e}=this.state,{items:t,onChange:n,onClose:i,style:r}=this.props;return Object(o.a)(m.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:g,scaleX:g,scaleY:g}},void 0,(n=>{let{opacity:o,scaleX:i,scaleY:a}=n;return s.a.createElement("div",{className:"composer--options--dropdown--content",ref:this.handleRef,role:"listbox",style:{...r,opacity:o,transform:e?"scale("+i+", "+a+")":null}},!!t&&t.map(((e,t)=>this.renderItem(e,t))))}))}}b.defaultProps={style:{},closeOnChange:!0};var v=n(398);class y extends s.a.PureComponent{constructor(){super(...arguments),this.state={open:!1,openedViaKeyboard:void 0,placement:"bottom"},this.handleToggle=e=>{let{target:t,type:n}=e;const{onModalOpen:o}=this.props,{open:i}=this.state;if(Object(v.c)())if(this.state.open)this.props.onModalClose();else{const e=this.handleMakeModal();e&&o&&o(e)}else{const{top:e}=t.getBoundingClientRect();this.state.open&&this.activeElement&&this.activeElement.focus({preventScroll:!0}),this.setState({placement:2*e<innerHeight?"bottom":"top"}),this.setState({open:!this.state.open,openedViaKeyboard:"click"!==n})}},this.handleKeyDown=e=>{switch(e.key){case"Escape":this.handleClose()}},this.handleMouseDown=()=>{this.state.open||(this.activeElement=document.activeElement)},this.handleButtonKeyDown=e=>{switch(e.key){case" ":case"Enter":this.handleMouseDown()}},this.handleKeyPress=e=>{switch(e.key){case" ":case"Enter":this.handleToggle(e),e.stopPropagation(),e.preventDefault()}},this.handleClose=()=>{this.state.open&&this.activeElement&&this.activeElement.focus({preventScroll:!0}),this.setState({open:!1})},this.handleItemClick=e=>{const{items:t,onChange:n,onModalClose:o,closeOnChange:i}=this.props,r=Number(e.currentTarget.getAttribute("data-index")),{name:a}=t[r];e.preventDefault(),i&&o(),n(a)},this.handleMakeModal=()=>{const{items:e,onChange:t,onModalOpen:n,onModalClose:o,value:i}=this.props;return t&&n&&o&&e?{renderItemContents:this.props.renderItemContents,onClick:this.handleItemClick,actions:e.map((e=>{let{name:t,...n}=e;return{...n,active:i&&t===i,name:t}}))}:null}}render(){const{active:e,disabled:t,title:n,icon:i,items:a,onChange:s,value:c,container:d,renderItemContents:p,closeOnChange:f}=this.props,{open:h,placement:m}=this.state,g=r()("composer--options--dropdown",{active:e,open:h,top:"top"===m});return Object(o.a)("div",{className:g,onKeyDown:this.handleKeyDown},void 0,Object(o.a)(l.a,{active:h||e,className:"value",disabled:t,icon:i,inverted:!0,onClick:this.handleToggle,onMouseDown:this.handleMouseDown,onKeyDown:this.handleButtonKeyDown,onKeyPress:this.handleKeyPress,size:18,style:{height:null,lineHeight:"27px"},title:n}),Object(o.a)(u.a,{containerPadding:20,placement:m,show:h,target:this,container:d},void 0,Object(o.a)(b,{items:a,renderItemContents:p,onChange:s,onClose:this.handleClose,value:c,openedViaKeyboard:this.state.openedViaKeyboard,closeOnChange:f})))}}y.defaultProps={closeOnChange:!0}},465:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s}));var o=n(8);const i="TRENDS_FETCH_REQUEST",r="TRENDS_FETCH_SUCCESS",a="TRENDS_FETCH_FAIL",s=()=>(e,t)=>{e(c()),Object(o.a)(t).get("/api/v1/trends").then((t=>{let{data:n}=t;return e(u(n))})).catch((t=>e(l(t))))},c=()=>({type:i,skipLoading:!0}),u=e=>({type:r,trends:e,skipLoading:!0}),l=e=>({type:a,error:e,skipLoading:!0,skipAlert:!0})},485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),a=c(r),s=c(n(384));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getBarStyle=n.getBarStyle.bind(n),n.getActionStyle=n.getActionStyle.bind(n),n.getTitleStyle=n.getTitleStyle.bind(n),n.handleClick=n.handleClick.bind(n),e.onDismiss&&e.isActive&&(n.dismissTimeout=setTimeout(e.onDismiss,e.dismissAfter)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){!1!==e.dismissAfter&&({}.hasOwnProperty.call(e,"isLast")||clearTimeout(this.dismissTimeout),e.onDismiss&&(e.isActive&&!this.props.isActive||e.dismissAfter&&!1===this.props.dismissAfter)&&(this.dismissTimeout=setTimeout(e.onDismiss,e.dismissAfter)))}},{key:"componentWillUnmount",value:function(){this.props.dismissAfter&&clearTimeout(this.dismissTimeout)}},{key:"getBarStyle",value:function(){if(!1===this.props.style)return{};var e=this.props,t=e.isActive,n=e.barStyle,i=e.activeBarStyle,r={position:"fixed",bottom:"2rem",left:"-100%",width:"auto",padding:"1rem",margin:0,color:"#fafafa",font:"1rem normal Roboto, sans-serif",borderRadius:"5px",background:"#212121",borderSizing:"border-box",boxShadow:"0 0 1px 1px rgba(10, 10, 11, .125)",cursor:"default",WebKitTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",MozTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",msTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",OTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",transition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",WebkitTransform:"translatez(0)",MozTransform:"translatez(0)",msTransform:"translatez(0)",OTransform:"translatez(0)",transform:"translatez(0)"};return t?o({},r,{left:"1rem"},n,i):o({},r,n)}},{key:"getActionStyle",value:function(){return!1!==this.props.style?o({},{padding:"0.125rem",marginLeft:"1rem",color:"#f44336",font:".75rem normal Roboto, sans-serif",lineHeight:"1rem",letterSpacing:".125ex",textTransform:"uppercase",borderRadius:"5px",cursor:"pointer"},this.props.actionStyle):{}}},{key:"getTitleStyle",value:function(){return!1!==this.props.style?o({},{fontWeight:"700",marginRight:".5rem"},this.props.titleStyle):{}}},{key:"handleClick",value:function(){if(this.props.onClick&&"function"==typeof this.props.onClick)return this.props.onClick()}},{key:"render",value:function(){var e="notification-bar";return this.props.isActive&&(e+=" "+this.props.activeClassName),this.props.className&&(e+=" "+this.props.className),a.default.createElement("div",{className:e,style:this.getBarStyle()},a.default.createElement("div",{className:"notification-bar-wrapper"},this.props.title?a.default.createElement("span",{className:"notification-bar-title",style:this.getTitleStyle()},this.props.title):null,a.default.createElement("span",{className:"notification-bar-message"},this.props.message),this.props.action?a.default.createElement("span",{className:"notification-bar-action",onClick:this.handleClick,style:this.getActionStyle()},this.props.action):null))}}]),t}(r.Component);u.propTypes=s.default,u.defaultProps={isActive:!1,dismissAfter:2e3,activeClassName:"notification-bar-active"},t.default=u},573:function(e,t,n){"use strict";n.r(t),t.default=n.p+"media/flavours/glitch/images/logo_warn_glitch-68f2721071b15e54520ac713d29675cf.svg"},581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(485);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return r(o).default}});var i=n(673);function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"NotificationStack",{enumerable:!0,get:function(){return r(i).default}})},595:function(e,t,n){var o=n(267),i=n(270),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!r.test(e)||null!=t&&e in Object(t))}},600:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var o=n(83);const i="LANGUAGE_USE",r=e=>t=>{t({type:i,language:e}),t(Object(o.d)())}},601:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const o=["public","unlisted","private","direct"];function i(e,t){return o[Math.max(o.indexOf(e),o.indexOf(t),0)]}},602:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a}));const o="HEIGHT_CACHE_SET",i="HEIGHT_CACHE_CLEAR";function r(e,t,n){return{type:o,key:e,id:t,height:n}}function a(){return{type:i}}},603:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var o=n(8);const i="CUSTOM_EMOJIS_FETCH_REQUEST",r="CUSTOM_EMOJIS_FETCH_SUCCESS",a="CUSTOM_EMOJIS_FETCH_FAIL";function s(){return(e,t)=>{e({type:i,skipLoading:!0}),Object(o.a)(t).get("/api/v1/custom_emojis").then((t=>{var n;e((n=t.data,{type:r,custom_emojis:n,skipLoading:!0}))})).catch((t=>{e(function(e){return{type:a,error:e,skipLoading:!0}}(t))}))}}},605:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o,i=n(0),r=n(1),a=n.n(r),s=n(4),c=n(464);const u=Object(s.f)({public_short:{id:"privacy.public.short",defaultMessage:"Public"},public_long:{id:"privacy.public.long",defaultMessage:"Visible for all"},unlisted_short:{id:"privacy.unlisted.short",defaultMessage:"Unlisted"},unlisted_long:{id:"privacy.unlisted.long",defaultMessage:"Visible for all, but opted-out of discovery features"},private_short:{id:"privacy.private.short",defaultMessage:"Followers only"},private_long:{id:"privacy.private.long",defaultMessage:"Visible for followers only"},direct_short:{id:"privacy.direct.short",defaultMessage:"Only people I mention"},direct_long:{id:"privacy.direct.long",defaultMessage:"Visible for mentioned users only"},change_privacy:{id:"privacy.change",defaultMessage:"Adjust status privacy"}});let l=Object(s.g)(o=class extends a.a.PureComponent{render(){const{value:e,onChange:t,onModalOpen:n,onModalClose:o,disabled:r,noDirect:a,container:s,intl:{formatMessage:l}}=this.props,d={direct:{icon:"envelope",meta:l(u.direct_long),name:"direct",text:l(u.direct_short)},private:{icon:"lock",meta:l(u.private_long),name:"private",text:l(u.private_short)},public:{icon:"globe",meta:l(u.public_long),name:"public",text:l(u.public_short)},unlisted:{icon:"unlock",meta:l(u.unlisted_long),name:"unlisted",text:l(u.unlisted_short)}},p=[d.public,d.unlisted,d.private];return a||p.push(d.direct),Object(i.a)(c.a,{disabled:r,icon:(d[e]||{}).icon,items:p,onChange:t,onModalClose:o,onModalOpen:n,title:l(u.change_privacy),container:s,value:e})}})||o},606:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(0),i=n(1),r=n.n(i),a=n(227),s=n(26),c=n.n(s),u=n(28);class l extends r.a.PureComponent{render(){const{active:e,progress:t,icon:n,message:i}=this.props;return e?Object(o.a)("div",{className:"composer--upload_form--progress"},void 0,Object(o.a)(u.a,{id:n}),Object(o.a)("div",{className:"message"},void 0,i,Object(o.a)("div",{className:"backdrop"},void 0,Object(o.a)(a.a,{defaultStyle:{width:0},style:{width:c()(t)}},void 0,(e=>{let{width:t}=e;return Object(o.a)("div",{className:"tracker",style:{width:t+"%"}})}))))):null}}},607:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0),i=n(1),r=n.n(i),a=n(88);class s extends r.a.PureComponent{checkRemainingText(e){return e<0?Object(o.a)("span",{className:"character-counter character-counter--over"},void 0,e):Object(o.a)("span",{className:"character-counter"},void 0,e)}render(){const e=this.props.max-Object(a.length)(this.props.text);return this.checkRemainingText(e)}}},613:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const o=!!n(251).a&&{passive:!0};function i(){let e;document&&(e=document.querySelector(".ui"))&&(e=e.parentElement)&&e.focus()}},620:function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,o=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function r(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var n=e,o=i(e);if(o){if(!o.path)return e;n=o.path}for(var a,s=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(a=c[l])?c.splice(l,1):".."===a?u++:u>0&&(""===a?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=s?"/":"."),o?(o.path=n,r(o)):n}t.urlParse=i,t.urlGenerate=r,t.normalize=a,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),s=i(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),r(n);if(n||t.match(o))return t;if(s&&!s.host&&!s.path)return s.host=t,r(s);var c="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=c,r(s)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var o=e.lastIndexOf("/");if(o<0)return t;if((e=e.slice(0,o)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var s=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=s?c:function(e){return u(e)?"$"+e:e},t.fromSetString=s?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var o=e.source-t.source;return 0!==o||0!==(o=e.originalLine-t.originalLine)||0!==(o=e.originalColumn-t.originalColumn)||n||0!==(o=e.generatedColumn-t.generatedColumn)||0!==(o=e.generatedLine-t.generatedLine)?o:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var o=e.generatedLine-t.generatedLine;return 0!==o||0!==(o=e.generatedColumn-t.generatedColumn)||n||0!==(o=e.source-t.source)||0!==(o=e.originalLine-t.originalLine)||0!==(o=e.originalColumn-t.originalColumn)?o:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=l(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},631:function(e,t,n){var o=n(135);e.exports=function(e){return e==e&&!o(e)}},632:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},633:function(e,t,n){var o=n(634),i=n(409);e.exports=function(e,t){for(var n=0,r=(t=o(t,e)).length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}},634:function(e,t,n){var o=n(267),i=n(595),r=n(934),a=n(937);e.exports=function(e,t){return o(e)?e:i(e,t)?[e]:r(a(e))}},635:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var o=n(8);const i="RULES_FETCH_SUCCESS",r=()=>(e,t)=>{e(a()),Object(o.a)(t).get("/api/v1/instance").then((t=>{let{data:n}=t;return e(s(n.rules))})).catch((t=>e(c(t))))},a=()=>({type:"RULES_FETCH_REQUEST"}),s=e=>({type:i,rules:e}),c=e=>({type:"RULES_FETCH_FAIL",error:e})},636:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var o=n(8);const i="FILTERS_FETCH_SUCCESS",r=()=>(e,t)=>{e({type:"FILTERS_FETCH_REQUEST",skipLoading:!0}),Object(o.a)(t).get("/api/v1/filters").then((t=>{let{data:n}=t;return e({type:i,filters:n,skipLoading:!0})})).catch((t=>e({type:"FILTERS_FETCH_FAIL",err:t,skipLoading:!0,skipAlert:!0})))}},637:function(e,t,n){"use strict";var o=n(0),i=n(1),r=n.n(i);const a=()=>null,s=()=>{};class c extends r.a.Component{constructor(){super(...arguments),this.state={mod:void 0,forceRender:!1},this.load=e=>{const{fetchComponent:t,onFetch:n,onFetchSuccess:o,onFetchFail:i,renderDelay:r}=e||this.props;if(void 0===t)return this.setState({mod:null}),Promise.resolve();if(n(),c.cache[t.name]){const e=c.cache[t.name];return this.setState({mod:e.default}),o(),Promise.resolve()}return this.setState({mod:void 0}),0!==r&&(this.timestamp=new Date,this.timeout=setTimeout((()=>this.setState({forceRender:!0})),r)),t().then((e=>{c.cache[t.name]=e,this.setState({mod:e.default}),o()})).catch((e=>{this.setState({mod:null}),i(e)}))}}componentWillMount(){this.load(this.props)}componentWillReceiveProps(e){e.fetchComponent!==this.props.fetchComponent&&this.load(e)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const{loading:e,error:t,children:n,renderDelay:i}=this.props,{mod:r,forceRender:a}=this.state,s=this.timestamp?new Date-this.timestamp:i;return void 0===r?s>=i||a?Object(o.a)(e,{}):null:null===r?Object(o.a)(t,{onRetry:this.load}):n(r)}}c.defaultProps={loading:a,error:a,renderDelay:0,onFetch:s,onFetchSuccess:s,onFetchFail:s},c.cache={},t.a=c},673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=c(n(1)),r=c(n(3)),a=c(n(674)),s=c(n(384));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return o({},t,{bottom:2+4*e+"rem"})}var l=function(e){return i.default.createElement("div",{className:"notification-list"},e.notifications.map((function(t,n){var r=0===n&&1===e.notifications.length,s=r||!e.dismissInOrder,c=e.barStyleFactory(n,t.barStyle,t),u=e.actionStyleFactory(n,t.actionStyle,t),l=e.activeBarStyleFactory(n,t.activeBarStyle,t),d=t.onClick||e.onClick,p=e.onDismiss,f=t.dismissAfter;return!1!==f&&(null==f&&(f=e.dismissAfter),s||(f+=1e3*n)),i.default.createElement(a.default,o({},t,{key:t.key,isLast:r,action:t.action||e.action,dismissAfter:f,onDismiss:p.bind(void 0,t),onClick:d.bind(void 0,t),activeBarStyle:l,barStyle:c,actionStyle:u}))})))};l.propTypes={activeBarStyleFactory:r.default.func,barStyleFactory:r.default.func,actionStyleFactory:r.default.func,dismissInOrder:r.default.bool,notifications:r.default.array.isRequired,onDismiss:r.default.func.isRequired,onClick:r.default.func,action:s.default.action},l.defaultProps={activeBarStyleFactory:u,barStyleFactory:u,actionStyleFactory:function(e,t){return o({},t,{})},dismissInOrder:!0,dismissAfter:1e3,onClick:function(){}},t.default=l},674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),a=u(r),s=u(n(384)),c=u(n(485));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isActive:!1},n.handleClick=n.handleClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.activeTimeout=setTimeout(this.setState.bind(this,{isActive:!0}),1),this.dismiss(this.props.dismissAfter)}},{key:"componentWillReceiveProps",value:function(e){e.dismissAfter!==this.props.dismissAfter&&this.dismiss(e.dismissAfter)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.activeTimeout),clearTimeout(this.dismissTimeout)}},{key:"dismiss",value:function(e){!1!==e&&(this.dismissTimeout=setTimeout(this.setState.bind(this,{isActive:!1}),e))}},{key:"handleClick",value:function(){if(this.props.onClick&&"function"==typeof this.props.onClick)return this.props.onClick(this.setState.bind(this,{isActive:!1}))}},{key:"render",value:function(){var e=this;return a.default.createElement(c.default,o({},this.props,{onClick:this.handleClick,onDismiss:function(){return setTimeout(e.props.onDismiss,300)},isActive:this.state.isActive}))}}]),t}(r.Component);l.propTypes=s.default,t.default=l},678:function(e,t,n){"use strict";var o=n(12),i=n(637);t.a=Object(o.connect)(null,(e=>({onFetch(){var t;e({type:"BUNDLE_FETCH_REQUEST",skipLoading:t})},onFetchSuccess(){var t;e({type:"BUNDLE_FETCH_SUCCESS",skipLoading:t})},onFetchFail(t){e(function(e,t){return{type:"BUNDLE_FETCH_FAIL",error:e,skipLoading:t}}(t))}})))(i.a)},679:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var o=n(8),i=n(15),r=n(14);const a="PINNED_STATUSES_FETCH_REQUEST",s="PINNED_STATUSES_FETCH_SUCCESS",c="PINNED_STATUSES_FETCH_FAIL";function u(){return(e,t)=>{e({type:a}),Object(o.a)(t).get("/api/v1/accounts/"+r.me+"/statuses",{params:{pinned:!0}}).then((t=>{var n;e(Object(i.j)(t.data)),e((n=t.data,{type:s,statuses:n,next:null}))})).catch((t=>{e(function(e){return{type:c,error:e}}(t))}))}}},840:function(e,t,n){var o=n(863),i=n(869),r=n(884);e.exports=function(e,t){var n={};return t=r(t,3),i(e,(function(e,i,r){o(n,i,t(e,i,r))})),n}},841:function(e,t,n){"use strict";var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(947),a=(o=r)&&o.__esModule?o:{default:o};function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=function(){function e(t,n,o,i){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!document)throw new Error("no DOM found");if(t instanceof window.Node&&"CANVAS"===t.tagName)this.canvas=t;else{if("string"!=typeof t)throw new Error("can't look for canvas based on '"+t+"'");this.canvas=document.querySelector(t)}if(!this.canvas)throw new Error("canvas not found");this.canvas.width=n||500,this.canvas.height=o||500,this.canvas.style.cursor="crosshair",this.mouse=new a.default;var s=function(e){e.preventDefault();var t=r.canvas.getBoundingClientRect(),n=e.changedTouches&&e.changedTouches[0]||e,o=n.offsetX,i=n.offsetY;void 0===o&&(o=n.clientX+document.documentElement.scrollLeft-t.left),void 0===i&&(i=n.clientY+document.documentElement.scrollTop-t.top),r.mouse.down?(r.draw(o,i),r._dirty||o===r.mouse.x&&i===r.mouse.y||(r._dirty=!0,r.fireDirty())):(r.mouse.x=o,r.mouse.y=i)},c=function(e){e.preventDefault(),s(e),"fill"!==r._mode?(r.mouse.px=r.mouse.x,r.mouse.py=r.mouse.y,r.mouse.down=!0,r.context.beginPath(),r.context.moveTo(r.mouse.px,r.mouse.py)):r.fill()},u=function(){r.mouse.down=!1,r.context.closePath()};this.canvas.addEventListener("mousemove",s),this.canvas.addEventListener("mousedown",c),document.addEventListener("mouseup",u),this.canvas.addEventListener("touchstart",c),this.canvas.addEventListener("touchend",u),this.canvas.addEventListener("touchmove",s),this.destroy=function(){r.clear(),r.canvas.removeEventListener("mousemove",s),r.canvas.removeEventListener("mousedown",c),document.removeEventListener("mouseup",u),r.canvas.removeEventListener("touchstart",c),r.canvas.removeEventListener("touchend",u),r.canvas.removeEventListener("touchmove",s)},this.context=this.canvas.getContext("2d"),this.context.globalCompositeOperation="source-over",this.context.globalAlpha=1,this.context.strokeStyle=i||"rgba(0,0,0,1)",this.context.lineCap="round",this.context.lineJoin="round",this.context.translate(.5,.5),this._filling=!1,this._fillStack=[],this.SMOOTHING_INIT=.85,this.WEIGHT_SPREAD=10,this._smoothing=this.SMOOTHING_INIT,this._maxWeight=12,this._thickness=2,this._targetThickness=2,this._weight=2,this._mode="draw",this._adaptive=!0}return i(e,[{key:"draw",value:function(t,n){var o=this.mouse,i=this.context,r=e.lineDistance(t,n,o.px,o.py),a=Math.min(.87,this._smoothing+(r-60)/3e3);o.x=t-(t-o.px)*a,o.y=n-(n-o.py)*a;var s=e.lineDistance(o.x,o.y,o.px,o.py);this._adaptive?(this._targetThickness=(s-1)/49*(this._maxWeight-this._weight)+this._weight,this._thickness>this._targetThickness?this._thickness-=.5:this._thickness<this._targetThickness&&(this._thickness+=.5),i.lineWidth=this._thickness):i.lineWidth=this._weight,i.quadraticCurveTo(o.px,o.py,o.x,o.y),i.stroke(),o.px=o.x,o.py=o.y}},{key:"fireDirty",value:function(){var e=document.createEvent("Event");e.initEvent("dirty",!0,!0),this.canvas.dispatchEvent(e)}},{key:"clear",value:function(){this.dirty&&(this._dirty=!1,this.fireDirty(),"destination-out"===this.context.globalCompositeOperation?(this.mode="draw",this.context.clearRect(-10,-10,this.canvas.width+20,this.canvas.height+20),this.mode="erase"):this.context.clearRect(-10,-10,this.canvas.width+20,this.canvas.height+20))}},{key:"toImage",value:function(){return this.canvas.toDataURL()}},{key:"fill",value:function(){var e=this,t=this.mouse,n=this.context,o=Array.prototype.slice.call(n.getImageData(t.x,t.y,1,1).data,0);this._filling?this._fillStack.push([t.x,t.y,o]):(this.canvas.style.cursor="progress",this._filling=!0,setTimeout((function(){e._floodFill(t.x,t.y,o)}),100))}},{key:"_floodFill",value:function(t,n,o){var i=this,r=this.context,a=Math.floor(t),c=Math.floor(n),u=r.canvas.width,l=r.canvas.height,d=[[a,c]],p=e.hexToRgb(this.color),f=r.getImageData(0,0,r.canvas.width,r.canvas.height),h=Math.min(10*r.globalAlpha*255,255),m=e.colorPixel.apply(e,[f.data].concat(s(p),[o,h])),g=e.matchColor.apply(e,[f.data].concat(s(o)));if(e.matchColor.apply(e,[f.data].concat([].concat(s(p),[255])))(4*(c*r.canvas.width+a)))return this._filling=!1,void setTimeout((function(){i.canvas.style.cursor="crosshair"}),100);for(;d.length;){for(var b=d.pop(),v=b[0],y=b[1],_=4*(y*u+v);y-- >=0&&g(_);)_-=4*u;_+=4*u,++y;for(var O=!1,w=!1;y++<l-1&&g(_);)m(_),v>0&&(g(_-4)?O||(d.push([v-1,y]),O=!0):O&&(O=!1)),v<u-1&&(g(_+4)?w||(d.push([v+1,y]),w=!0):w&&(w=!1)),_+=4*u}r.putImageData(f,0,0),this._fillStack.length?this._floodFill.apply(this,s(this._fillStack.shift())):(this._filling=!1,setTimeout((function(){i.canvas.style.cursor="crosshair"}),100))}},{key:"color",get:function(){return this.context.strokeStyle},set:function(e){if("string"!=typeof e)throw new Error("wrong argument type");this.context.strokeStyle=e}},{key:"weight",get:function(){return this._weight},set:function(e){if("number"!=typeof e)throw new Error("wrong argument type");this._weight=e,this._thickness=e,this._targetThickness=e,this._maxWeight=e+this.WEIGHT_SPREAD}},{key:"adaptiveStroke",get:function(){return this._adaptive},set:function(e){this._adaptive=!!e}},{key:"mode",get:function(){return this._mode},set:function(e){if("string"!=typeof e)throw new Error("wrong argument type");switch(e){case"erase":this._mode="erase",this.context.globalCompositeOperation="destination-out";break;case"fill":this._mode="fill",this.context.globalCompositeOperation="source-over";break;default:this._mode="draw",this.context.globalCompositeOperation="source-over"}}},{key:"dirty",get:function(){return!!this._dirty}},{key:"smoothing",get:function(){return this._smoothing===this.SMOOTHING_INIT},set:function(e){if("boolean"!=typeof e)throw new Error("wrong argument type");this._smoothing=e?this.SMOOTHING_INIT:0}},{key:"opacity",set:function(e){if("number"!=typeof e)throw new Error("wrong argument type");this.context.globalAlpha=e>=1?1:e/10}}],[{key:"lineDistance",value:function(e,t,n,o){var i=Math.pow(n-e,2),r=Math.pow(o-t,2);return Math.sqrt(i+r)}},{key:"hexToRgb",value:function(e){var t=e.match(/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{key:"matchColor",value:function(e,t,n,o,i){return function(r){var a=e[r],s=e[r+1],c=e[r+2],u=e[r+3];return a===t&&s===n&&c===o&&u===i}}},{key:"colorPixel",value:function(t,n,o,i,r,a){var c=e.matchColor.apply(e,[t].concat(s(r)));return function(e){t[e]=n,t[e+1]=o,t[e+2]=i,t[e+3]=a,c(e+4)||(t[e+4]=.01*t[e+4]+.99*n,t[e+4+1]=.01*t[e+4+1]+.99*o,t[e+4+2]=.01*t[e+4+2]+.99*i,t[e+4+3]=.01*t[e+4+3]+.99*a),c(e-4)||(t[e-4]=.01*t[e-4]+.99*n,t[e-4+1]=.01*t[e-4+1]+.99*o,t[e-4+2]=.01*t[e-4+2]+.99*i,t[e-4+3]=.01*t[e-4+3]+.99*a)}}}]),e}();e.exports=function(e,t,n,o){return new c(e,t,n,o)},e.exports.Atrament=c},844:function(e,t,n){"use strict";n.d(t,"a",(function(){return It}));var o=n(213),i=n(315),r=n(314),a=n(2),s=n(402);const c=a.default.Map({openId:null,placement:null,keyboard:!1,scroll_key:null});var u=n(41),l=n(19),d=n(50);const p=Object(a.Map)(),f=Object(a.Map)({unread:0,online:!1,top:!0,isLoading:!1,hasMore:!0,pendingItems:Object(a.List)(),items:Object(a.List)()}),h=function(e,t,n,o){return void 0===o&&(o=null),e.keySeq().forEach((n=>{if(null===o||n!=="account:"+o&&!n.startsWith("account:"+o+":")){const o=e=>e.filterNot((e=>e===t));e=e.updateIn([n,"items"],o).updateIn([n,"pendingItems"],o)}})),n.forEach((t=>{e=h(e,t,[],o)})),e};var m=n(133);const g=Object(a.Map)({streaming_api_base_url:null,access_token:null,permissions:"0"});var b=n(80);const v=Object(a.List)([]);var y=n(69),_=n(51),O=n(17);const w=Object(a.Map)({ignoreFocus:!1,stack:Object(a.Stack)()}),j=(e,t)=>{let{modalType:n,ignoreFocus:o}=t;return void 0===n||n===e.getIn(["stack",0,"modalType"])?e.set("ignoreFocus",!!o).update("stack",(e=>e.shift())):e};var E=n(58),C=n(57),S=n(234),T=n(141),x=n(288);const k=Object(a.Map)({next:null,isLoading:!1,items:Object(a.List)()}),M=Object(a.Map)({followers:k,following:k,reblogged_by:k,favourited_by:k,follow_requests:k,blocks:k,mutes:k}),I=(e,t,n,o)=>e.setIn(t,Object(a.Map)({next:o,items:Object(a.List)(n.map((e=>e.id))),isLoading:!1})),L=(e,t,n,o)=>e.updateIn(t,(e=>e.set("next",o).set("isLoading",!1).update("items",(e=>e.concat(n.map((e=>e.id)))))));var N=n(140);const A=Object(a.Map)({blocks:Object(a.Map)({items:Object(a.OrderedSet)()})});var R=n(15);const P=Object(a.Map)(),D=(e,t)=>(delete(t={...t}).followers_count,delete t.following_count,delete t.statuses_count,t.hidden=!1!==e.getIn([t.id,"hidden"])&&t.limited,e.set(t.id,Object(a.fromJS)(t)));const U=(e,t)=>e.set(t.id,Object(a.fromJS)({followers_count:t.followers_count,following_count:t.following_count,statuses_count:t.statuses_count})),F=Object(a.Map)();var H=n(204);const B=(e,t)=>e.set(t.id,Object(a.fromJS)(t)),G=(e,t,n)=>(n.forEach((t=>{e=G(e,t,[])})),e.delete(t)),W=Object(a.Map)();var q=n(260);const z=(e,t)=>e.set(t.id,Object(a.fromJS)(t)),K=(e,t,n)=>e.withMutations((e=>{t.forEach((t=>{e.setIn([t,"domain_blocking"],n)}))})),V=Object(a.Map)();var Q=n(83),X=n(373),J=n(395),Y=n(600),$=n(40);function Z(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,Z)}const ee=Object(a.Map)({saved:!0,onboarded:!1,layout:"auto",skinTone:1,trends:Object(a.Map)({show:!0}),home:Object(a.Map)({shows:Object(a.Map)({reblog:!0,reply:!0,direct:!0}),regex:Object(a.Map)({body:""})}),notifications:Object(a.Map)({alerts:Object(a.Map)({follow:!1,follow_request:!1,favourite:!1,reblog:!1,mention:!1,poll:!1,status:!1,update:!1,"admin.sign_up":!1,"admin.report":!1}),quickFilter:Object(a.Map)({active:"all",show:!0,advanced:!1}),dismissPermissionBanner:!1,showUnread:!0,shows:Object(a.Map)({follow:!0,follow_request:!1,favourite:!0,reblog:!0,mention:!0,poll:!0,status:!0,update:!0,"admin.sign_up":!0,"admin.report":!0}),sounds:Object(a.Map)({follow:!0,follow_request:!1,favourite:!0,reblog:!0,mention:!0,poll:!0,status:!0,update:!0,"admin.sign_up":!0,"admin.report":!0})}),community:Object(a.Map)({regex:Object(a.Map)({body:""})}),public:Object(a.Map)({regex:Object(a.Map)({body:""})}),direct:Object(a.Map)({conversations:!0,regex:Object(a.Map)({body:""})})}),te=Object(a.fromJS)([{id:"COMPOSE",uuid:Z(),params:{}},{id:"HOME",uuid:Z(),params:{}},{id:"NOTIFICATIONS",uuid:Z(),params:{}}]),ne=(e,t)=>e.update("columns",(e=>e.filterNot((e=>"LIST"===e.get("id")&&e.get("params").get("id")===t))));var oe=n(419);const ie=Object(a.Map)({layout:"auto",stretch:!0,navbar_under:!1,side_arm:"none",side_arm_reply_mode:"keep",show_reply_count:!1,always_show_spoilers_field:!1,confirm_missing_media_description:!1,confirm_boost_missing_media_description:!1,confirm_before_clearing_draft:!0,prepend_cw_re:!0,preselect_on_reply:!0,inline_preview_cards:!0,hicolor_privacy_icons:!1,show_content_type_choice:!1,filtering_behavior:"hide",tag_misleading_links:!0,rewrite_mentions:"no",content_warnings:Object(a.Map)({filter:null,media_outside:!1,shared_state:!1}),collapsed:Object(a.Map)({enabled:!0,auto:Object(a.Map)({all:!1,notifications:!0,lengthy:!0,reblogs:!1,replies:!1,media:!1}),backgrounds:Object(a.Map)({user_backgrounds:!1,preview_images:!1}),show_action_bar:!0}),media:Object(a.Map)({letterbox:!0,fullwidth:!0,reveal_behind_cw:!1,pop_in_player:!0,pop_in_position:"right"}),notifications:Object(a.Map)({favicon_badge:!1,tab_badge:!0}),status_icons:Object(a.Map)({language:!0,reply:!0,local_only:!0,media:!0,visibility:!0})});var re=n(361);const ae=a.default.Map({subscription:null,alerts:new a.default.Map({follow:!1,follow_request:!1,favourite:!1,reblog:!1,mention:!1,poll:!1}),isSubscribed:!1,browserSupport:!1});var se=n(289),ce=n(290),ue=n(679);const le=Object(a.Map)({favourites:Object(a.Map)({next:null,loaded:!1,items:Object(a.List)()}),bookmarks:Object(a.Map)({next:null,loaded:!1,items:Object(a.List)()}),pins:Object(a.Map)({next:null,loaded:!1,items:Object(a.List)()})}),de=(e,t,n,o)=>e.update(t,(e=>e.withMutations((e=>{e.set("next",o),e.set("loaded",!0),e.set("isLoading",!1),e.set("items",Object(a.List)(n.map((e=>e.id))))})))),pe=(e,t,n,o)=>e.update(t,(e=>e.withMutations((e=>{e.set("next",o),e.set("isLoading",!1),e.set("items",e.get("items").concat(n.map((e=>e.id))))})))),fe=(e,t,n)=>e.update(t,(e=>e.withMutations((e=>{e.set("items",e.get("items").unshift(n.get("id")))})))),he=(e,t,n)=>e.update(t,(e=>e.withMutations((e=>{e.set("items",e.get("items").filter((e=>e!==n.get("id"))))}))));const me=a.default.Map({new:a.default.Map({account:null,notifications:!0,duration:0})});const ge=a.default.Map({new:a.default.Map({account_id:null})});var be=n(635);const ve=Object(a.List)();var ye=n(277);const _e=a.default.Map({new:a.default.Map({privacy:"public"})});const Oe=Object(a.Map)({inReplyTos:Object(a.Map)(),replies:Object(a.Map)()}),we=(e,t)=>e.withMutations((e=>{e.update("inReplyTos",(n=>n.withMutations((n=>{e.update("replies",(e=>e.withMutations((e=>{t.forEach((t=>{const o=n.get(t),i=e.get(t),r=e.get(o);r&&e.set(o,r.filterNot((e=>e===t))),i&&i.forEach((e=>n.delete(e))),n.delete(t),e.delete(t)}))}))))}))))}));var je=n(601),Ee=n(14);function Ce(e,t){return null==t?e:t}var Se=n(220),Te=n(460);const xe=Object(a.Map)({mounted:0,advanced_options:Object(a.Map)({do_not_federate:!1,threaded_mode:!1}),sensitive:!1,elefriend:Math.random()<.9579784472?Math.floor(3*Math.random()):3,spoiler:!1,spoiler_text:"",privacy:null,id:null,content_type:Ee.defaultContentType||"text/plain",text:"",focusDate:null,caretPosition:null,preselectDate:null,in_reply_to:null,is_submitting:!1,is_uploading:!1,is_changing_upload:!1,progress:0,isUploadingThumbnail:!1,thumbnailProgress:0,media_attachments:Object(a.List)(),pending_media_attachments:0,poll:null,suggestion_token:null,suggestions:Object(a.List)(),default_advanced_options:Object(a.Map)({do_not_federate:!1,threaded_mode:null}),default_privacy:"public",default_sensitive:!1,default_language:"en",resetFileKey:Math.floor(65536*Math.random()),idempotencyKey:null,tagHistory:Object(a.List)(),media_modal:Object(a.Map)({id:null,description:"",focusX:0,focusY:0,dirty:!1}),doodle:Object(a.Map)({fg:"rgb(  0,    0,    0)",bg:"rgb(255,  255,  255)",swapped:!1,mode:"draw",size:"normal",weight:2,opacity:1,adaptiveStroke:!0,smoothing:!1})}),ke=Object(a.Map)({options:Object(a.List)(["",""]),expires_in:86400,multiple:!1});function Me(e){return e.withMutations((t=>{t.set("id",null),t.set("text",""),Ee.defaultContentType&&t.set("content_type",Ee.defaultContentType),t.set("spoiler",!1),t.set("spoiler_text",""),t.set("is_submitting",!1),t.set("is_changing_upload",!1),t.set("in_reply_to",null),t.update("advanced_options",(t=>t.mergeWith(Ce,e.get("default_advanced_options")))),t.set("privacy",e.get("default_privacy")),t.set("sensitive",e.get("default_sensitive")),t.set("language",e.get("default_language")),t.update("media_attachments",(e=>e.clear())),t.set("poll",null),t.set("idempotencyKey",Z())}))}function Ie(e,t){return e.withMutations((function(e){let n=function(e,t){let n=Object(a.OrderedSet)([]);return t.account.id!==Ee.me&&(n=n.add("@"+t.account.acct+" ")),n.union(t.mentions.filter((e=>e.id!==Ee.me)).map((e=>"@"+e.acct+" "))).join("")}(0,t);n+=function(e,t){const n=Object(Se.a)(t.content);return Object(a.OrderedSet)([]).union(Object(Te.a)(t.tags,n).map((e=>"#"+e+" "))).join("")}(0,t),e.set("text",n),t.spoiler_text?(e.set("spoiler",!0),e.set("spoiler_text",t.spoiler_text)):(e.set("spoiler",!1),e.set("spoiler_text","")),e.set("is_submitting",!1),e.set("in_reply_to",t.id),e.update("advanced_options",(e=>e.merge(new a.Map({do_not_federate:t.local_only})))),e.set("privacy",t.visibility),e.set("sensitive",!1),e.update("media_attachments",(e=>e.clear())),e.set("poll",null),e.set("idempotencyKey",Z()),e.set("focusDate",new Date),e.set("caretPosition",null),e.set("preselectDate",new Date)}))}const Le=new DOMParser,Ne=e=>{if(!e)return 86400;const t=(new Date(e).getTime()-Date.now())/1e3;return[300,1800,3600,21600,86400,259200,604800].find((e=>e>=t))||86400},Ae=(e,t,n)=>{if(t=t.toLowerCase(),e.length<4){const o=n.filter((n=>n.toLowerCase().startsWith(t)&&!e.some((e=>"hashtag"===e.type&&e.name.toLowerCase()===n.toLowerCase()))));return e.concat(o.slice(0,4-e.length).toJS().map((e=>({type:"hashtag",name:e}))))}return e};var Re=n(357);const Pe=Object(a.Map)({value:"",submitted:!1,hidden:!1,results:Object(a.Map)(),searchTerm:""});const De=Object(a.Map)({accept_content_types:[]});var Ue=n(208);const Fe=Object(a.Map)({pendingItems:Object(a.List)(),items:Object(a.List)(),hasMore:!0,top:!1,mounted:0,unread:0,lastReadId:"0",readMarkerId:"0",isLoading:!1,cleaningMode:!1,isTabVisible:!0,browserSupport:!1,browserPermission:"default",markNewForDelete:!1}),He=(e,t)=>Object(a.Map)({id:t.id,type:t.type,account:t.account.id,markedForDelete:e.get("markNewForDelete"),status:t.status?t.status.id:null,report:t.report?Object(a.fromJS)(t.report):null}),Be=(e,t,n)=>{const o=e=>e.filterNot((e=>null!==e&&t.includes(e.get("account"))&&(void 0===n||n===e.get("type"))));return e.update("items",o).update("pendingItems",o)},Ge=e=>{const t=(e=e.set("unread",e.get("pendingItems").size)).get("items").find((e=>null!==e));return e.set("lastReadId",t?t.get("id"):"0")},We=function(e,t){void 0===t&&(t=!1);const n=e.get("isTabVisible"),o=e.get("top"),i=e.get("mounted")>0,r=e.get("lastReadId"),a=e.get("items").findLast((e=>null!==e)),s=!e.get("hasMore")||"0"===r||a&&Object(d.a)(a.get("id"),r)<=0;return!(n&&(t||o)&&i&&s)},qe=(e,t)=>e.withMutations((n=>{Object(d.a)(t,n.get("lastReadId"))>0&&n.set("lastReadId",t),Object(d.a)(t,n.get("readMarkerId"))>0&&n.set("readMarkerId",t),(e.get("unread")>0||We(e))&&n.set("unread",n.get("pendingItems").count((e=>null!==e))+n.get("items").count((e=>e&&Object(d.a)(e.get("id"),t)>0)))}));var ze=n(602);const Ke=Object(a.Map)();var Ve=n(603),Qe=n(463),Xe=n(64);const Je=Object(a.List)([]);const Ye=Object(a.Map)(),$e=(e,t)=>e.set(t.id,Object(a.fromJS)(t));const Ze=Object(a.Map)({listId:null,isSubmitting:!1,isChanged:!1,title:"",accounts:Object(a.Map)({items:Object(a.List)(),loaded:!1,isLoading:!1}),suggestions:Object(a.Map)({value:"",items:Object(a.List)()})});const et=Object(a.Map)({accountId:null,lists:Object(a.Map)({items:Object(a.List)(),loaded:!1,isLoading:!1})});var tt=n(636);var nt=n(261);const ot=Object(a.Map)({items:Object(a.List)(),isLoading:!1,hasMore:!0,mounted:0}),it=e=>Object(a.Map)({id:e.id,unread:e.unread,accounts:Object(a.List)(e.accounts.map((e=>e.id))),last_status:e.last_status?e.last_status.id:null}),rt=(e,t)=>e.update("items",(e=>e.filterNot((e=>e.get("accounts").some((e=>t.includes(e)))))));var at=n(396);const st=Object(a.Map)({items:Object(a.List)(),isLoading:!1});const ct=Object(a.Map)({accounts:Object(a.Map)({items:Object(a.List)(),loaded:!1,isLoading:!1}),suggestions:Object(a.Map)({value:"",items:Object(a.List)()})});const ut=Object(a.Map)();var lt=n(465);const dt=Object(a.Map)({items:Object(a.List)(),isLoading:!1});var pt=n(142);const ft=Object(a.Map)({items:Object(a.List)(),isLoading:!1,show:!1}),ht=(e,t,n,o)=>e.update("items",(e=>e.map((e=>e.get("id")===t?e.update("reactions",(e=>{const t=e.findIndex((e=>e.get("name")===n));return t>-1?e.update(t,(e=>o(e))):e.push(o(Object(a.fromJS)({name:n,count:0})))})):e)))),mt=e=>e.sortBy((e=>e.get("starts_at")||e.get("published_at"))),gt=(e,t)=>{const n=e.get("items").findIndex((e=>e.get("id")===t.get("id")));return n>-1?e.update("items",(e=>mt(e.update(n,(e=>e.mergeDeep(t)))))):e.update("items",(e=>mt(e.unshift(t))))};const bt=Object(a.Map)({home:"0",notifications:"0"});const vt=Object(a.Map)({edit:Object(a.Map)({isSubmitting:!1,account_id:null,comment:null})});var yt=n(458);const _t={statusId:null,accountId:null,type:null,src:null,muted:!1,volume:0,currentTime:0};const Ot=Object(a.Map)();var wt=n(397);const jt=Object(a.Map)({loading:!1,items:Object(a.List)()}),Et=Object(a.Map)();var Ct=n(96);const St=Object(a.Map)();const Tt={announcements:function(e,t){switch(void 0===e&&(e=ft),t.type){case pt.k:return e.withMutations((e=>{e.set("show",!e.get("show"))}));case pt.d:return e.set("isLoading",!0);case pt.e:return e.withMutations((e=>{const n=Object(a.fromJS)(t.announcements);e.set("items",n),e.set("isLoading",!1)}));case pt.c:return e.set("isLoading",!1);case pt.l:return gt(e,Object(a.fromJS)(t.announcement));case pt.j:return((e,t)=>ht(e,t.announcement_id,t.name,(e=>e.set("count",t.count))))(e,t.reaction);case pt.g:case pt.h:return((e,t,n)=>ht(e,t,n,(e=>e.set("me",!0).update("count",(e=>e+1)))))(e,t.id,t.name);case pt.i:case pt.f:return((e,t,n)=>ht(e,t,n,(e=>e.set("me",!1).update("count",(e=>e-1)))))(e,t.id,t.name);case pt.b:return gt(e,Object(a.fromJS)({id:t.id,read:!0}));case pt.a:return e.update("items",(e=>{const n=e.findIndex((e=>e.get("id")===t.id));return n>-1?e.delete(n):e}));default:return e}},dropdown_menu:function(e,t){switch(void 0===e&&(e=c),t.type){case s.b:return e.merge({openId:t.id,placement:t.placement,keyboard:t.keyboard,scroll_key:t.scroll_key});case s.a:return e.get("openId")===t.id?e.set("openId",null).set("scroll_key",null):e;default:return e}},timelines:function(e,t){switch(void 0===e&&(e=p),t.type){case u.h:return e.update(t.timeline,f,(e=>e.update("items",(t=>e.get("pendingItems").concat(t.take(40)))).set("pendingItems",Object(a.List)()).set("unread",0)));case u.f:return e.update(t.timeline,f,(e=>e.set("isLoading",!0)));case u.e:return e.update(t.timeline,f,(e=>e.set("isLoading",!1)));case u.g:return((e,t,n,o,i,r,s)=>e.update(t,f,(e=>e.withMutations((e=>{e.set("isLoading",!1),e.set("isPartial",i),o||r||e.set("hasMore",!1),t.endsWith(":pinned")?e.set("items",n.map((e=>e.get("id")))):n.isEmpty()||(s=r&&(s||!e.get("pendingItems").isEmpty()),e.update(s?"pendingItems":"items",Object(a.List)(),(e=>{const t=n.map((e=>e.get("id"))),o=e.findLastIndex((e=>null!==e&&Object(d.a)(e,t.last())>=0))+1,r=e.take(o).findLastIndex((e=>null!==e&&Object(d.a)(e,t.first())>0))+1;let s=Object(a.OrderedSet)(t).withMutations((n=>{const i=e.slice(r,o).filter((e=>null!==e&&Object(d.a)(e,t.last())<0));n.union(i),n.subtract(e.take(r),e.skip(o))})).toList();return!i||0!==r&&null===e.get(r-1)||(s=s.unshift(null)),e.take(r).concat(s,e.skip(o))})))})))))(e,t.timeline,Object(a.fromJS)(t.statuses),t.next,t.partial,t.isLoadingRecent,t.usePendingItems);case u.k:return((e,t,n,o,i)=>{const r=e.getIn([t,"top"]);if(o||!e.getIn([t,"pendingItems"]).isEmpty())return e.getIn([t,"pendingItems"],Object(a.List)()).includes(n.get("id"))||e.getIn([t,"items"],Object(a.List)()).includes(n.get("id"))||(e=e.update(t,f,(e=>e.update("pendingItems",(e=>e.unshift(n.get("id")))))),i||(e=e.updateIn([t,"unread"],(e=>e+1)))),e;const s=e.getIn([t,"items"],Object(a.List)()),c=s.includes(n.get("id")),u=e.getIn([t,"unread"],0);if(c)return e;let l=s;return e.update(t,f,(e=>e.withMutations((e=>{r||i||e.set("unread",u+1),r&&s.size>40&&(l=l.take(20)),e.set("items",l.unshift(n.get("id")))}))))})(e,t.timeline,Object(a.fromJS)(t.status),t.usePendingItems,t.filtered);case u.c:return h(e,t.id,t.references,t.reblogOf);case u.a:return((e,t)=>e.set(t,f))(e,t.timeline);case l.a:case l.e:return((e,t,n)=>{let o;return n.forEach((i=>{i.get("account")===t.id&&(o=n.filter((e=>e.get("reblog")===i.get("id"))).map((e=>e.get("id"))),e=h(e,i.get("id"),o,t.id))})),e})(e,t.relationship,t.statuses);case l.k:return((e,t,n,o)=>{const i=e=>e.filterNot((e=>o.getIn([e,"account"])===n.id));return t.updateIn([e,"items"],Object(a.List)(),i).updateIn([e,"pendingItems"],Object(a.List)(),i)})("home",e,t.relationship,t.statuses);case u.j:return((e,t,n)=>e.update(t,f,(e=>e.withMutations((e=>{n&&e.set("unread",e.get("pendingItems").size),e.set("top",n)})))))(e,t.timeline,t.top);case u.b:return e.update(t.timeline,f,(e=>((e,t)=>e.get("online")?e:e.withMutations((e=>{e.update(t?"pendingItems":"items",(e=>e.first()?e.unshift(null):e)),e.set("online",!0)})))(e,t.usePendingItems)));case u.d:return e.update(t.timeline,f,(e=>e.set("online",!1).update(t.usePendingItems?"pendingItems":"items",(e=>e.first()?e.unshift(null):e))));case u.i:return e.update(t.timeline,f,(e=>e.set("isPartial",!0).set("items",Object(a.List)()).set("pendingItems",Object(a.List)()).set("unread",0)));default:return e}},meta:function(e,t){switch(void 0===e&&(e=g),t.type){case m.a:return e.merge(t.state.get("meta")).set("permissions",t.state.getIn(["role","permissions"]));default:return e}},alerts:function(e,t){switch(void 0===e&&(e=v),t.type){case b.c:return e.push(Object(a.Map)({key:e.size>0?e.last().get("key")+1:0,title:t.title,message:t.message,message_values:t.message_values}));case b.b:return e.filterNot((e=>e.get("key")===t.alert.key));case b.a:return e.clear();default:return e}},loadingBar:y.loadingBarReducer,modal:function(e,t){switch(void 0===e&&(e=w),t.type){case _.b:return((e,t,n)=>e.withMutations((e=>{e.set("ignoreFocus",!1),e.update("stack",(e=>e.unshift(Object(a.Map)({modalType:t,modalProps:n}))))})))(e,t.modalType,t.modalProps);case _.a:return j(e,t);case O.L:return j(e,{modalType:"FOCAL_POINT",ignoreFocus:!1});case u.c:return e.update("stack",(e=>e.filterNot((e=>e.get("modalProps").statusId===t.id))));default:return e}},user_lists:function(e,t){switch(void 0===e&&(e=M),t.type){case l.s:return I(e,["followers",t.id],t.accounts,t.next);case l.p:return L(e,["followers",t.id],t.accounts,t.next);case l.r:case l.o:return e.setIn(["followers",t.id,"isLoading"],!0);case l.q:case l.n:return e.setIn(["followers",t.id,"isLoading"],!1);case l.y:return I(e,["following",t.id],t.accounts,t.next);case l.v:return L(e,["following",t.id],t.accounts,t.next);case l.x:case l.u:return e.setIn(["following",t.id,"isLoading"],!0);case l.w:case l.t:return e.setIn(["following",t.id,"isLoading"],!1);case C.i:return e.setIn(["reblogged_by",t.id],Object(a.List)(t.accounts.map((e=>e.id))));case C.d:return e.setIn(["favourited_by",t.id],Object(a.List)(t.accounts.map((e=>e.id))));case E.s:return"follow_request"===t.notification.type?((e,t)=>e.updateIn(["follow_requests","items"],(e=>e.filterNot((e=>e===t.account.id)).unshift(t.account.id))))(e,t.notification):e;case l.E:return I(e,["follow_requests"],t.accounts,t.next);case l.B:return L(e,["follow_requests"],t.accounts,t.next);case l.D:case l.A:return e.setIn(["follow_requests","isLoading"],!0);case l.C:case l.z:return e.setIn(["follow_requests","isLoading"],!1);case l.F:case l.G:return e.updateIn(["follow_requests","items"],(e=>e.filterNot((e=>e===t.id))));case S.f:return I(e,["blocks"],t.accounts,t.next);case S.c:return L(e,["blocks"],t.accounts,t.next);case S.e:case S.b:return e.setIn(["blocks","isLoading"],!0);case S.d:case S.a:return e.setIn(["blocks","isLoading"],!1);case T.g:return I(e,["mutes"],t.accounts,t.next);case T.d:return L(e,["mutes"],t.accounts,t.next);case T.f:case T.c:return e.setIn(["mutes","isLoading"],!0);case T.e:case T.b:return e.setIn(["mutes","isLoading"],!1);case x.f:return I(e,["directory"],t.accounts,t.next);case x.c:return L(e,["directory"],t.accounts,t.next);case x.e:case x.b:return e.setIn(["directory","isLoading"],!0);case x.d:case x.a:return e.setIn(["directory","isLoading"],!1);default:return e}},domain_lists:function(e,t){switch(void 0===e&&(e=A),t.type){case N.b:return e.setIn(["blocks","items"],Object(a.OrderedSet)(t.domains)).setIn(["blocks","next"],t.next);case N.a:return e.updateIn(["blocks","items"],(e=>e.union(t.domains))).setIn(["blocks","next"],t.next);case N.d:return e.updateIn(["blocks","items"],(e=>e.delete(t.domain)));default:return e}},status_lists:function(e,t){switch(void 0===e&&(e=le),t.type){case se.e:case se.b:return e.setIn(["favourites","isLoading"],!0);case se.d:case se.a:return e.setIn(["favourites","isLoading"],!1);case se.f:return de(e,"favourites",t.statuses,t.next);case se.c:return pe(e,"favourites",t.statuses,t.next);case ce.e:case ce.b:return e.setIn(["bookmarks","isLoading"],!0);case ce.d:case ce.a:return e.setIn(["bookmarks","isLoading"],!1);case ce.f:return de(e,"bookmarks",t.statuses,t.next);case ce.c:return pe(e,"bookmarks",t.statuses,t.next);case C.g:return fe(e,"favourites",t.status);case C.m:return he(e,"favourites",t.status);case C.c:return fe(e,"bookmarks",t.status);case C.l:return he(e,"bookmarks",t.status);case ue.a:return de(e,"pins",t.statuses,t.next);case C.h:return fe(e,"pins",t.status);case C.n:return he(e,"pins",t.status);default:return e}},accounts:function(e,t){switch(void 0===e&&(e=P),t.type){case R.b:return D(e,t.account);case R.a:return((e,t)=>(t.forEach((t=>{e=D(e,t)})),e))(e,t.accounts);case l.g:return e.setIn([t.id,"hidden"],!1);default:return e}},accounts_counters:function(e,t){switch(void 0===e&&(e=F),t.type){case R.b:return U(e,t.account);case R.a:return((e,t)=>(t.forEach((t=>{e=U(e,t)})),e))(e,t.accounts);case l.d:return t.alreadyFollowing?e:e.updateIn([t.relationship.id,"followers_count"],(e=>e+1));case l.k:return e.updateIn([t.relationship.id,"followers_count"],(e=>Math.max(0,e-1)));default:return e}},accounts_map:function(e,t){switch(void 0===e&&(e=Ot),t.type){case R.b:return e.set(t.account.acct,t.account.id);case R.a:return e.withMutations((e=>t.accounts.forEach((t=>e.set(t.acct,t.id)))));default:return e}},statuses:function(e,t){switch(void 0===e&&(e=W),t.type){case R.e:return B(e,t.status);case R.d:return((e,t)=>e.withMutations((e=>t.forEach((t=>B(e,t))))))(e,t.statuses);case C.f:return e.setIn([t.status.get("id"),"favourited"],!0);case C.m:return e.updateIn([t.status.get("id"),"favourites_count"],(e=>Math.max(0,e-1)));case C.e:return void 0===e.get(t.status.get("id"))?e:e.setIn([t.status.get("id"),"favourited"],!1);case C.b:return e.setIn([t.status.get("id"),"bookmarked"],!0);case C.a:return void 0===e.get(t.status.get("id"))?e:e.setIn([t.status.get("id"),"bookmarked"],!1);case C.k:return e.setIn([t.status.get("id"),"reblogged"],!0);case C.j:return void 0===e.get(t.status.get("id"))?e:e.setIn([t.status.get("id"),"reblogged"],!1);case H.e:return e.setIn([t.id,"muted"],!0);case H.g:return e.setIn([t.id,"muted"],!1);case H.f:return e.withMutations((n=>{t.ids.forEach((t=>{void 0!==e.get(t)&&n.setIn([t,"hidden"],!1)}))}));case H.d:return e.withMutations((n=>{t.ids.forEach((t=>{void 0!==e.get(t)&&n.setIn([t,"hidden"],!0)}))}));case H.c:return e.setIn([t.id,"collapsed"],t.isCollapsed);case u.c:return G(e,t.id,t.references);default:return e}},relationships:function(e,t){switch(void 0===e&&(e=V),t.type){case l.c:return e.getIn([t.id,"following"])?e:e.setIn([t.id,t.locked?"requested":"following"],!0);case l.b:return e.setIn([t.id,t.locked?"requested":"following"],!1);case l.j:return e.setIn([t.id,"following"],!1);case l.i:return e.setIn([t.id,"following"],!0);case l.d:case l.k:case l.a:case l.h:case l.e:case l.l:case l.f:case l.m:case q.f:return z(e,t.relationship);case l.O:return((e,t)=>(t.forEach((t=>{e=z(e,t)})),e))(e,t.relationships);case N.c:return K(e,t.accounts,!0);case N.d:return K(e,t.accounts,!1);default:return e}},settings:function(e,t){switch(void 0===e&&(e=ee),t.type){case m.a:return((e,t)=>e.mergeDeep(t).update("columns",(function(e){return void 0===e&&(e=te),e})))(e,t.state.get("settings"));case E.i:case Q.a:return e.setIn(t.path,t.value).set("saved",!1);case X.a:return e.update("columns",(e=>e.push(Object(a.fromJS)({id:t.id,uuid:Z(),params:t.params})))).set("saved",!1);case X.d:return e.update("columns",(e=>e.filterNot((e=>e.get("uuid")===t.uuid)))).set("saved",!1);case X.b:return((e,t,n)=>{const o=e.get("columns"),i=o.findIndex((e=>e.get("uuid")===t)),r=i+n;let a;return a=o.splice(i,1),a=a.splice(r,0,o.get(i)),e.set("columns",a).set("saved",!1)})(e,t.uuid,t.direction);case X.c:return((e,t,n,o)=>{const i=e.get("columns"),r=i.findIndex((e=>e.get("uuid")===t)),a=i.update(r,(e=>e.updateIn(["params",...n],(()=>o))));return e.set("columns",a).set("saved",!1)})(e,t.uuid,t.path,t.value);case J.a:return((e,t)=>e.update("frequentlyUsedEmojis",Object(a.Map)(),(e=>e.update(t.id,0,(e=>e+1)))).set("saved",!1))(e,t.emoji);case Y.a:return((e,t)=>e.update("frequentlyUsedLanguages",Object(a.Map)(),(e=>e.update(t,0,(e=>e+1)))).set("saved",!1))(e,t.language);case Q.b:return e.set("saved",!0);case $.v:return 404===t.error.response.status?ne(e,t.id):e;case $.m:return ne(e,t.id);default:return e}},local_settings:function(e,t){switch(void 0===e&&(e=ie),t.type){case m.a:return((e,t)=>e.mergeDeep(t))(e,t.state.get("local_settings"));case oe.a:return e.setIn(t.key,t.value);case oe.b:return e.deleteIn(t.key);default:return e}},push_notifications:function(e,t){switch(void 0===e&&(e=ae),t.type){case m.a:{const n=t.state.get("push_subscription");return n?e.set("subscription",new a.default.Map({id:n.get("id"),endpoint:n.get("endpoint")})).set("alerts",n.get("alerts")||ae.get("alerts")).set("isSubscribed",!0):e}case re.d:return e.set("subscription",new a.default.Map({id:t.subscription.id,endpoint:t.subscription.endpoint})).set("alerts",new a.default.Map(t.subscription.alerts)).set("isSubscribed",!0);case re.c:return e.set("browserSupport",t.value);case re.a:return ae;case re.b:return e.setIn(t.path,t.value);default:return e}},mutes:function(e,t){switch(void 0===e&&(e=me),t.type){case T.h:return e.withMutations((e=>{e.setIn(["new","account"],t.account),e.setIn(["new","notifications"],!0)}));case T.i:return e.updateIn(["new","notifications"],(e=>!e));case T.a:return e.setIn(["new","duration"],Number(t.duration));default:return e}},blocks:function(e,t){switch(void 0===e&&(e=ge),t.type){case S.g:return e.withMutations((e=>{e.setIn(["new","account_id"],t.account.get("id"))}));default:return e}},rules:function(e,t){switch(void 0===e&&(e=ve),t.type){case be.a:return Object(a.fromJS)(t.rules);default:return e}},boosts:function(e,t){switch(void 0===e&&(e=_e),t.type){case ye.b:return e.withMutations((e=>{e.setIn(["new","privacy"],t.privacy)}));case ye.a:return e.setIn(["new","privacy"],t.privacy);default:return e}},contexts:function(e,t){switch(void 0===e&&(e=Oe),t.type){case l.a:case l.e:return((e,t,n)=>{const o=n.filter((e=>e.get("account")===t.id)).map((e=>e.get("id")));return we(e,o)})(e,t.relationship,t.statuses);case H.a:return n=e,o=t.id,i=t.ancestors,r=t.descendants,n.withMutations((e=>{e.update("inReplyTos",(t=>t.withMutations((t=>{e.update("replies",(e=>e.withMutations((e=>{function n(n){let{id:o,in_reply_to_id:i}=n;i&&!t.has(o)&&(e.update(i,Object(a.List)(),(e=>{const t=e.findLastIndex((e=>Object(d.a)(e,o)<0));return e.insert(t+1,o)})),t.set(o,i))}i.forEach(n),i[0]&&n({id:o,in_reply_to_id:i[i.length-1].id}),r.forEach(n)}))))}))))}));case u.c:return we(e,[t.id]);case u.k:return((e,t)=>t.in_reply_to_id?e.withMutations((e=>{const n=e.getIn(["replies",t.in_reply_to_id],Object(a.List)());e.setIn(["inReplyTos",t.id],t.in_reply_to_id),n.includes(t.id)||e.setIn(["replies",t.in_reply_to_id],n.push(t.id))})):e)(e,t.status);default:return e}var n,o,i,r},compose:function(e,t){switch(void 0===e&&(e=xe),t.type){case m.a:return((e,t)=>(e=Me(e.merge(t)),t.has("text")&&(e=e.set("text",t.get("text"))),e))(e,t.state.get("compose"));case O.l:return e.set("mounted",e.get("mounted")+1);case O.I:return e.set("mounted",Math.max(e.get("mounted")-1,0));case O.a:return e.set("advanced_options",e.get("advanced_options").set(t.option,!!Ce(!e.getIn(["advanced_options",t.option]),t.value))).set("idempotencyKey",Z());case O.v:return e.withMutations((t=>{e.get("spoiler")||t.set("sensitive",!e.get("sensitive")),t.set("idempotencyKey",Z())}));case O.x:return e.withMutations((t=>{t.set("spoiler",!e.get("spoiler")),t.set("idempotencyKey",Z()),!e.get("sensitive")&&e.get("media_attachments").size>=1&&t.set("sensitive",!0)}));case O.y:return e.set("spoiler_text",t.text).set("idempotencyKey",Z());case O.R:return e.set("privacy",t.value).set("idempotencyKey",Z());case O.e:return e.set("content_type",t.value).set("idempotencyKey",Z());case O.b:return e.set("text",t.text).set("idempotencyKey",Z());case O.f:return e.set("elefriend",(e.get("elefriend")+1)%3);case O.s:return e.withMutations((n=>{if(n.set("id",null),n.set("in_reply_to",t.status.get("id")),n.set("text",function(e,t){let n=Object(a.OrderedSet)([]);return t.getIn(["account","id"])!==Ee.me&&(n=n.add("@"+t.getIn(["account","acct"])+" ")),n.union(t.get("mentions").filterNot((e=>e.get("id")===Ee.me)).map((e=>"@"+e.get("acct")+" "))).join("")}(0,t.status)),n.set("privacy",Object(je.a)(t.status.get("visibility"),e.get("default_privacy"))),n.update("advanced_options",(e=>e.merge(new a.Map({do_not_federate:!!t.status.get("local_only")})))),n.set("focusDate",new Date),n.set("caretPosition",null),n.set("preselectDate",new Date),n.set("idempotencyKey",Z()),t.status.get("language")&&n.set("language",t.status.get("language")),t.status.get("spoiler_text").length>0){let e=t.status.get("spoiler_text");t.prependCWRe&&!e.match(/^re[: ]/i)&&(e="re: ".concat(e)),n.set("spoiler",!0),n.set("spoiler_text",e)}else n.set("spoiler",!1),n.set("spoiler_text","")}));case O.t:e=e.setIn(["advanced_options","threaded_mode"],!1);case O.u:return e.withMutations((t=>{t.set("in_reply_to",null),Ee.defaultContentType&&t.set("content_type",Ee.defaultContentType),t.set("text",""),t.set("spoiler",!1),t.set("spoiler_text",""),t.set("privacy",e.get("default_privacy")),t.set("id",null),t.set("poll",null),t.update("advanced_options",(t=>t.mergeWith(Ce,e.get("default_advanced_options")))),t.set("idempotencyKey",Z())}));case O.A:return e.set("is_submitting",!0);case O.K:return e.set("is_changing_upload",!0);case O.B:return t.status&&e.getIn(["advanced_options","threaded_mode"])?Ie(e,t.status):Me(e);case O.z:return e.set("is_submitting",!1);case O.J:return e.set("is_changing_upload",!1);case O.O:return e.set("is_uploading",!0).update("pending_media_attachments",(e=>e+1));case O.P:return function(e,t,n){const o=e.get("media_attachments").size;return e.withMutations((i=>{"image"===t.get("type")&&(t=t.set("file",n)),i.update("media_attachments",(e=>e.push(t))),i.set("is_uploading",!1),i.set("resetFileKey",Math.floor(65536*Math.random())),i.set("idempotencyKey",Z()),i.update("pending_media_attachments",(e=>e-1)),0===o&&(e.get("default_sensitive")||e.get("spoiler"))&&i.set("sensitive",!0)}))}(e,Object(a.fromJS)(t.media),t.file);case O.M:return e.set("is_uploading",!1).update("pending_media_attachments",(e=>e-1));case O.Q:return function(e,t){const n=e.get("media_attachments").size;return e.withMutations((e=>{e.update("media_attachments",(e=>e.filterNot((e=>e.get("id")===t)))),e.set("idempotencyKey",Z()),1===n&&e.set("sensitive",!1)}))}(e,t.media_id);case O.N:return e.set("progress",Math.round(t.loaded/t.total*100));case O.V:return e.set("isUploadingThumbnail",!0);case O.U:return e.set("thumbnailProgress",Math.round(t.loaded/t.total*100));case O.T:return e.set("isUploadingThumbnail",!1);case O.W:return e.set("isUploadingThumbnail",!1).update("media_attachments",(e=>e.map((e=>e.get("id")===t.media.id?Object(a.fromJS)(t.media):e))));case O.S:const n=e.get("media_attachments").find((e=>e.get("id")===t.id));return e.set("media_modal",Object(a.Map)({id:t.id,description:n.get("description")||"",focusX:n.getIn(["meta","focus","x"],0),focusY:n.getIn(["meta","focus","y"],0),dirty:!1}));case O.c:return e.setIn(["media_modal","description"],t.description).setIn(["media_modal","dirty"],!0);case O.d:return e.setIn(["media_modal","focusX"],t.focusX).setIn(["media_modal","focusY"],t.focusY).setIn(["media_modal","dirty"],!0);case O.k:return e.withMutations((e=>{e.update("text",(e=>[e.trim(),"@"+t.account.get("acct")+" "].filter((e=>0!==e.length)).join(" "))),e.set("focusDate",new Date),e.set("caretPosition",null),e.set("idempotencyKey",Z())}));case O.g:return e.withMutations((e=>{e.update("text",(e=>[e.trim(),"@"+t.account.get("acct")+" "].filter((e=>0!==e.length)).join(" "))),e.set("privacy","direct"),e.set("focusDate",new Date),e.set("caretPosition",null),e.set("idempotencyKey",Z())}));case O.C:return e.update("suggestions",Object(a.List)(),(e=>e.clear())).set("suggestion_token",null);case O.D:return e.set("suggestions",Object(a.List)(((e,t)=>{let{accounts:n,emojis:o,tags:i,token:r}=t;return n?n.map((e=>({id:e.id,type:"account"}))):o?o.map((e=>({...e,type:"emoji"}))):Ae(((e,t)=>{const n=e.get("tagHistory");return t.sort(((e,t)=>{const o=n.includes(e.name),i=n.includes(t.name);return o===i?0:o&&!i?1:-1}))})(e,i.map((e=>({...e,type:"hashtag"})))),r.slice(1),e.get("tagHistory"))})(e,t))).set("suggestion_token",t.token);case O.F:return((e,t,n,o,i)=>e.withMutations((e=>{e.updateIn(i,(e=>""+e.slice(0,t)+o+(":"===o[0]?"​":" ")+e.slice(t+n.length))),e.set("suggestion_token",null),e.set("suggestions",Object(a.List)()),1===i.length&&"text"===i[0]&&(e.set("focusDate",new Date),e.set("caretPosition",t+o.length+1)),e.set("idempotencyKey",Z())})))(e,t.position,t.token,t.completion,t.path);case O.E:return((e,t,n,o,i)=>e.withMutations((e=>{e.updateIn(i,(e=>e.slice(0,t+n.length)+" "+e.slice(t+n.length))),e.set("suggestion_token",null),e.set("suggestions",Object(a.List)()),e.set("focusDate",new Date),e.set("caretPosition",t+n.length+1),e.set("idempotencyKey",Z())})))(e,t.position,t.token,t.completion,t.path);case O.G:return((e,t)=>{const n=t.slice(1),o=e.get("suggestions").toJS();return e.merge({suggestions:Object(a.List)(Ae(o,n,e.get("tagHistory"))),suggestion_token:t})})(e,t.token);case O.H:return e.set("tagHistory",Object(a.fromJS)(t.tags));case u.c:return t.id===e.get("in_reply_to")?e.set("in_reply_to",null):e;case O.i:return((e,t,n)=>{const o=n.native;return e.withMutations((e=>{e.update("text",(e=>""+e.slice(0,t)+o+"​"+e.slice(t))),e.set("focusDate",new Date),e.set("caretPosition",t+o.length+1),e.set("idempotencyKey",Z())}))})(e,t.position,t.emoji);case O.L:return e.set("is_changing_upload",!1).setIn(["media_modal","dirty"],!1).update("media_attachments",(e=>e.map((e=>e.get("id")===t.media.id?Object(a.fromJS)(t.media):e))));case O.h:return e.mergeIn(["doodle"],t.options);case H.b:const o=!!t.status.get("local_only");let i=t.raw_text||Object(Se.a)((e=>{const t=Le.parseFromString(e.get("content"),"text/html").documentElement;return e.get("mentions").forEach((e=>{t.querySelector('a[href="'+e.get("url")+'"]').textContent="@"+e.get("acct")})),t.innerHTML})(t.status));return o&&(i=i.replace(/ ?👁\ufe0f?\u200b?$/,"")),e.withMutations((e=>{e.set("text",i),e.set("content_type",t.content_type||"text/plain"),e.set("in_reply_to",t.status.get("in_reply_to_id")),e.set("privacy",t.status.get("visibility")),e.set("media_attachments",t.status.get("media_attachments")),e.set("focusDate",new Date),e.set("caretPosition",null),e.set("idempotencyKey",Z()),e.set("sensitive",t.status.get("sensitive")),e.set("language",t.status.get("language")),e.update("advanced_options",(e=>e.merge(new a.Map({do_not_federate:o})))),t.status.get("spoiler_text").length>0?(e.set("spoiler",!0),e.set("spoiler_text",t.status.get("spoiler_text"))):(e.set("spoiler",!1),e.set("spoiler_text","")),t.status.get("poll")&&e.set("poll",Object(a.Map)({options:t.status.getIn(["poll","options"]).map((e=>e.get("title"))),multiple:t.status.getIn(["poll","multiple"]),expires_in:Ne(t.status.getIn(["poll","expires_at"]))}))}));case O.w:return e.withMutations((e=>{e.set("id",t.status.get("id")),e.set("text",t.text),e.set("in_reply_to",t.status.get("in_reply_to_id")),e.set("privacy",t.status.get("visibility")),e.set("media_attachments",t.status.get("media_attachments")),e.set("focusDate",new Date),e.set("caretPosition",null),e.set("idempotencyKey",Z()),e.set("sensitive",t.status.get("sensitive")),e.set("language",t.status.get("language")),t.spoiler_text.length>0?(e.set("spoiler",!0),e.set("spoiler_text",t.spoiler_text)):(e.set("spoiler",!1),e.set("spoiler_text","")),t.status.get("poll")&&e.set("poll",Object(a.Map)({options:t.status.getIn(["poll","options"]).map((e=>e.get("title"))),multiple:t.status.getIn(["poll","multiple"]),expires_in:Ne(t.status.getIn(["poll","expires_at"]))}))}));case O.m:return e.set("poll",ke);case O.q:return e.set("poll",null);case O.n:return e.updateIn(["poll","options"],(e=>e.push(t.title)));case O.o:return e.setIn(["poll","options",t.index],t.title);case O.p:return e.updateIn(["poll","options"],(e=>e.delete(t.index)));case O.r:return e.update("poll",(e=>e.set("expires_in",t.expiresIn).set("multiple",t.isMultiple)));case O.j:return e.set("language",t.language);default:return e}},search:function(e,t){switch(void 0===e&&(e=Pe),t.type){case Re.a:return e.set("value",t.value);case Re.b:return e.withMutations((e=>{e.set("value",""),e.set("results",Object(a.Map)()),e.set("submitted",!1),e.set("hidden",!1)}));case Re.e:return e.set("hidden",!1);case O.s:case O.k:case O.g:return e.set("hidden",!0);case Re.d:return e.set("results",Object(a.Map)({accounts:Object(a.List)(t.results.accounts.map((e=>e.id))),statuses:Object(a.List)(t.results.statuses.map((e=>e.id))),hashtags:Object(a.fromJS)(t.results.hashtags)})).set("submitted",!0).set("searchTerm",t.searchTerm);case Re.c:const n="hashtags"===t.searchType?Object(a.fromJS)(t.results.hashtags):t.results[t.searchType].map((e=>e.id));return e.updateIn(["results",t.searchType],(e=>e.concat(n)));default:return e}},media_attachments:function(e,t){switch(void 0===e&&(e=De),t.type){case m.a:return e.merge(t.state.get("media_attachments"));default:return e}},notifications:function(e,t){let n;switch(void 0===e&&(e=Fe),t.type){case Ue.a:return t.markers.notifications?qe(e,t.markers.notifications.last_read_id):e;case E.m:return(e=>(e=e.update("mounted",(e=>e+1)),We(e,1===e.get("mounted"))||(e=e.set("readMarkerId",e.get("lastReadId")),e=Ge(e)),e))(e);case E.r:return e.update("mounted",(e=>e-1));case E.q:return((e,t)=>(e=e.set("isTabVisible",t),We(e)||(e=e.set("readMarkerId",e.get("lastReadId")),e=Ge(e)),e))(e,t.visibility);case E.j:return e.update("items",(t=>e.get("pendingItems").concat(t.take(40)))).set("pendingItems",Object(a.List)()).set("unread",0);case E.g:case E.c:return e.set("isLoading",!0);case E.b:case E.f:return e.set("isLoading",!1);case E.i:return e.set("items",Object(a.List)()).set("hasMore",!0);case E.n:return((e,t)=>(e=e.set("top",t),We(e)||(e=Ge(e)),e))(e,t.top);case E.s:return((e,t,n)=>{const o=e.get("top");return n||!e.get("pendingItems").isEmpty()?e.update("pendingItems",(n=>n.unshift(He(e,t)))).update("unread",(e=>e+1)):(e=We(e)?e.update("unread",(e=>e+1)):e.set("lastReadId",t.id)).update("items",(n=>(o&&n.size>40&&(n=n.take(20)),n.unshift(He(e,t)))))})(e,t.notification,t.usePendingItems);case E.h:return((e,t,n,o,i)=>{const r=e.get("lastReadId");let s=Object(a.List)();return t.forEach(((t,n)=>{s=s.set(n,He(e,t))})),e.withMutations((t=>{if(s.isEmpty()||(i=o&&(i||!t.get("pendingItems").isEmpty()),t.update(i?"pendingItems":"items",(e=>{const t=1+e.findLastIndex((e=>null!==e&&(Object(d.a)(e.get("id"),s.last().get("id"))>0||e.get("id")===s.last().get("id")))),n=1+e.take(t).findLastIndex((e=>null!==e&&Object(d.a)(e.get("id"),s.first().get("id"))>0));return e.take(n).concat(s,e.skip(t))}))),n||t.set("hasMore",!1),We(e))t.set("unread",t.get("pendingItems").count((e=>null!==e))+t.get("items").count((e=>e&&Object(d.a)(e.get("id"),r)>0)));else{const e=s.find((e=>null!==e));e&&Object(d.a)(r,e.get("id"))<0&&t.set("lastReadId",e.get("id"))}t.set("isLoading",!1)}))})(e,t.notifications,t.next,t.isLoadingRecent,t.usePendingItems);case l.a:return Be(e,[t.relationship.id]);case l.e:return t.relationship.muting_notifications?Be(e,[t.relationship.id]):e;case N.c:return Be(e,t.accounts);case l.F:case l.G:return Be(e,[t.id],"follow_request");case E.a:return e.set("items",Object(a.List)()).set("pendingItems",Object(a.List)()).set("hasMore",!1);case u.c:return((e,t)=>{const n=e.get("lastReadId");if(We(e)){const o=e.get("items").filter((e=>null!==e&&e.get("status")===t&&Object(d.a)(e.get("id"),n)>0));e=e.update("unread",(e=>e-o.size))}const o=e=>e.filterNot((e=>null!==e&&e.get("status")===t)),i=e.get("pendingItems").filter((e=>null!==e&&e.get("status")===t&&Object(d.a)(e.get("id"),n)>0));return(e=e.update("unread",(e=>e-i.size))).update("items",o).update("pendingItems",o)})(e,t.id);case u.d:return"home"===t.timeline?e.update(t.usePendingItems?"pendingItems":"items",(e=>e.first()?e.unshift(null):e)):e;case E.p:return e.set("browserSupport",t.value);case E.o:return e.set("browserPermission",t.value);case E.t:return((e,t,n)=>e.update("items",(e=>e.map((e=>e.get("id")===t?e.set("markedForDelete",n):e)))))(e,t.id,t.yes);case E.d:return(e=>e.update("items",(e=>e.filterNot((e=>e.get("markedForDelete"))))))(e).set("isLoading",!1);case E.e:return n=e.set("cleaningMode",t.yes),t.yes?n:(e=>e.update("items",(e=>e.map((e=>e.set("markedForDelete",!1))))))(n).set("markNewForDelete",!1);case E.k:return n=e,null===t.yes||(n=n.set("markNewForDelete",t.yes)),((e,t)=>e.update("items",(e=>e.map((e=>null!==t?e.set("markedForDelete",t):e.set("markedForDelete",!e.get("markedForDelete")))))))(n,t.yes);case E.l:const o=e.get("items").find((e=>null!==e));return o?qe(e,o.get("id")):e;default:return e}},height_cache:function(e,t){switch(void 0===e&&(e=Ke),t.type){case ze.b:return((e,t,n,o)=>e.update(t,Object(a.Map)(),(e=>e.set(n,o))))(e,t.key,t.id,t.height);case ze.a:return Object(a.Map)();default:return e}},custom_emojis:function(e,t){return void 0===e&&(e=Je),t.type===Ve.a&&(e=Object(a.fromJS)(t.custom_emojis),Object(Qe.a)("",{custom:Object(Xe.buildCustomEmojis)(e)})),e},lists:function(e,t){switch(void 0===e&&(e=Ye),t.type){case $.w:case $.l:case $.z:return $e(e,t.list);case $.a:return((e,t)=>(t.forEach((t=>{e=$e(e,t)})),e))(e,t.lists);case $.m:case $.v:return e.set(t.id,!1);default:return e}},listEditor:function(e,t){switch(void 0===e&&(e=Ze),t.type){case $.p:return Ze;case $.q:return e.withMutations((e=>{e.set("listId",t.list.get("id")),e.set("title",t.list.get("title")),e.set("isSubmitting",!1)}));case $.u:return e.withMutations((e=>{e.set("title",t.value),e.set("isChanged",!0)}));case $.k:case $.y:return e.withMutations((e=>{e.set("isSubmitting",!0),e.set("isChanged",!1)}));case $.j:case $.x:return e.set("isSubmitting",!1);case $.l:case $.z:return e.withMutations((e=>{e.set("isSubmitting",!1),e.set("listId",t.list.id)}));case $.c:return e.setIn(["accounts","isLoading"],!0);case $.b:return e.setIn(["accounts","isLoading"],!1);case $.d:return e.update("accounts",(e=>e.withMutations((e=>{e.set("isLoading",!1),e.set("loaded",!0),e.set("items",Object(a.List)(t.accounts.map((e=>e.id))))}))));case $.r:return e.setIn(["suggestions","value"],t.value);case $.t:return e.setIn(["suggestions","items"],Object(a.List)(t.accounts.map((e=>e.id))));case $.s:return e.update("suggestions",(e=>e.withMutations((e=>{e.set("items",Object(a.List)()),e.set("value","")}))));case $.n:return e.updateIn(["accounts","items"],(e=>e.unshift(t.accountId)));case $.o:return e.updateIn(["accounts","items"],(e=>e.filterNot((e=>e===t.accountId))));default:return e}},listAdder:function(e,t){switch(void 0===e&&(e=et),t.type){case $.h:return et;case $.i:return e.withMutations((e=>{e.set("accountId",t.account.get("id"))}));case $.f:return e.setIn(["lists","isLoading"],!0);case $.e:return e.setIn(["lists","isLoading"],!1);case $.g:return e.update("lists",(e=>e.withMutations((e=>{e.set("isLoading",!1),e.set("loaded",!0),e.set("items",Object(a.List)(t.lists.map((e=>e.id))))}))));case $.n:return e.updateIn(["lists","items"],(e=>e.unshift(t.listId)));case $.o:return e.updateIn(["lists","items"],(e=>e.filterNot((e=>e===t.listId))));default:return e}},filters:function(e,t){switch(void 0===e&&(e=Object(a.List)()),t.type){case tt.a:return Object(a.fromJS)(t.filters);default:return e}},conversations:function(e,t){switch(void 0===e&&(e=ot),t.type){case nt.c:return e.set("isLoading",!0);case nt.b:return e.set("isLoading",!1);case nt.d:return((e,t,n,o)=>{let i=Object(a.List)(t.map(it));return e.withMutations((e=>{i.isEmpty()||e.update("items",(e=>(e=(e=e.map((e=>{const t=i.findIndex((t=>t.get("id")===e.get("id")));if(-1===t)return e;const n=i.get(t);return i=i.delete(t),n}))).concat(i)).sortBy((e=>e.get("last_status")),((e,t)=>null===e||null===t?-1:-1*Object(d.a)(e,t))))),n||o||e.set("hasMore",!1),e.set("isLoading",!1)}))})(e,t.conversations,t.next,t.isLoadingRecent);case nt.h:return((e,t)=>e.update("items",(e=>{const n=e.findIndex((e=>e.get("id")===t.id)),o=it(t);return-1===n?e.unshift(o):e.set(n,o)})))(e,t.conversation);case nt.e:return e.update("mounted",(e=>e+1));case nt.g:return e.update("mounted",(e=>e-1));case nt.f:return e.update("items",(e=>e.map((e=>e.get("id")===t.id?e.set("unread",!1):e))));case l.a:case l.e:return rt(e,[t.relationship.id]);case N.c:return rt(e,t.accounts);case nt.a:return e.update("items",(e=>e.filterNot((e=>e.get("id")===t.id))));default:return e}},suggestions:function(e,t){switch(void 0===e&&(e=st),t.type){case at.c:return e.set("isLoading",!0);case at.d:return e.withMutations((e=>{e.set("items",Object(a.fromJS)(t.suggestions.map((e=>({...e,account:e.account.id}))))),e.set("isLoading",!1)}));case at.b:return e.set("isLoading",!1);case at.a:return e.update("items",(e=>e.filterNot((e=>e.account===t.id))));case l.a:case l.e:return e.update("items",(e=>e.filterNot((e=>e.account===t.relationship.id))));case N.c:return e.update("items",(e=>e.filterNot((e=>t.accounts.includes(e.account)))));default:return e}},pinnedAccountsEditor:function(e,t){switch(void 0===e&&(e=ct),t.type){case l.H:return ct;case l.M:return e.setIn(["accounts","isLoading"],!0);case l.L:return e.setIn(["accounts","isLoading"],!1);case l.N:return e.update("accounts",(e=>e.withMutations((e=>{e.set("isLoading",!1),e.set("loaded",!0),e.set("items",Object(a.List)(t.accounts.map((e=>e.id))))}))));case l.I:return e.setIn(["suggestions","value"],t.value);case l.K:return e.setIn(["suggestions","items"],Object(a.List)(t.accounts.map((e=>e.id))));case l.J:return e.update("suggestions",(e=>e.withMutations((e=>{e.set("items",Object(a.List)()),e.set("value","")}))));case l.f:return e.updateIn(["accounts","items"],(e=>e.unshift(t.relationship.id)));case l.m:return e.updateIn(["accounts","items"],(e=>e.filterNot((e=>e===t.relationship.id))));default:return e}},polls:function(e,t){switch(void 0===e&&(e=ut),t.type){case R.c:return((e,t)=>e.withMutations((e=>t.forEach((t=>e.set(t.id,Object(a.fromJS)(t)))))))(e,t.polls);default:return e}},trends:function(e,t){switch(void 0===e&&(e=dt),t.type){case lt.b:return e.set("isLoading",!0);case lt.c:return e.withMutations((e=>{e.set("items",Object(a.fromJS)(t.trends)),e.set("isLoading",!1)}));case lt.a:return e.set("isLoading",!1);default:return e}},markers:function(e,t){switch(void 0===e&&(e=bt),t.type){case Ue.b:return t.home&&(e=e.set("home",t.home)),t.notifications&&(e=e.set("notifications",t.notifications)),e;default:return e}},account_notes:function(e,t){switch(void 0===e&&(e=vt),t.type){case q.c:return e.withMutations((e=>{e.setIn(["edit","isSubmitting"],!1),e.setIn(["edit","account_id"],t.account.get("id")),e.setIn(["edit","comment"],t.comment)}));case q.b:return e.setIn(["edit","comment"],t.comment);case q.e:return e.setIn(["edit","isSubmitting"],!0);case q.d:return e.setIn(["edit","isSubmitting"],!1);case q.f:case q.a:return e.withMutations((e=>{e.setIn(["edit","isSubmitting"],!1),e.setIn(["edit","account_id"],null),e.setIn(["edit","comment"],null)}));default:return e}},picture_in_picture:function(e,t){switch(void 0===e&&(e=_t),t.type){case yt.a:return{statusId:t.statusId,accountId:t.accountId,type:t.playerType,...t.props};case yt.b:return{..._t};case u.c:return e.statusId===t.id?{..._t}:e;default:return e}},history:function(e,t){switch(void 0===e&&(e=Et),t.type){case wt.b:return e.update(t.statusId,jt,(e=>e.withMutations((e=>{e.set("loading",!0),e.set("items",Object(a.List)())}))));case wt.c:return e.update(t.statusId,jt,(e=>e.withMutations((e=>{e.set("loading",!1),e.set("items",Object(a.fromJS)(t.history.map(((e,t)=>({...e,account:e.account.id,original:0===t}))).reverse()))}))));case wt.a:return e.update(t.statusId,jt,(e=>e.set("loading",!1)));default:return e}},tags:function(e,t){switch(void 0===e&&(e=St),t.type){case Ct.a:return e.set(t.name,Object(a.fromJS)(t.tag));case Ct.c:case Ct.d:return e.setIn([t.name,"following"],!0);case Ct.b:case Ct.e:return e.setIn([t.name,"following"],!1);default:return e}}};var xt=Object(r.combineReducers)(Tt);const kt=["PENDING","FULFILLED","REJECTED"];const Mt=e=>{const t=new Audio;return e.forEach((e=>{let{type:n,src:o}=e;const i=document.createElement("source");i.type=n,i.src=o,t.appendChild(i)})),t};function It(){return Object(o.c)(xt,Object(o.b)(Object(o.a)(i.a,function(e){void 0===e&&(e={});const t=e.promiseTypeSuffixes||kt;return e=>{let{dispatch:n}=e;return e=>o=>{if(o.type&&!o.skipLoading){const[e,i,r]=t,a=new RegExp(e+"$","g"),s=new RegExp(i+"$","g"),c=new RegExp(r+"$","g");o.type.match(a)?n(Object(y.showLoading)()):(o.type.match(s)||o.type.match(c))&&n(Object(y.hideLoading)())}return e(o)}}}({promiseTypeSuffixes:["REQUEST","SUCCESS","FAIL"]}),(e=>{let{dispatch:t}=e;return e=>n=>{if(n.type&&!n.skipAlert){const e=new RegExp("FAIL$","g");n.type.match(e)&&t(Object(b.f)(n.error,n.skipNotFound))}return e(n)}}),function(){const e={boop:Mt([{src:"/sounds/boop.ogg",type:"audio/ogg"},{src:"/sounds/boop.mp3",type:"audio/mpeg"}])};return()=>t=>n=>{var o;return n.meta&&n.meta.sound&&e[n.meta.sound]&&((o=e[n.meta.sound]).paused||(o.pause(),"function"==typeof o.fastSeek?o.fastSeek(0):o.currentTime=0),o.play()),t(n)}}()),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e))}},846:function(e,t,n){"use strict";var o=n(12),i=n(51),r=n(36),a=n(0),s=n(1),c=n.n(s),u=n(681),l=n(682),d=n(678),p=n(4),f=n(45);const h=Object(p.f)({error:{id:"bundle_modal_error.message",defaultMessage:"Something went wrong while loading this component."},retry:{id:"bundle_modal_error.retry",defaultMessage:"Try again"},close:{id:"bundle_modal_error.close",defaultMessage:"Close"}});class m extends c.a.Component{constructor(){super(...arguments),this.handleRetry=()=>{this.props.onRetry()}}render(){const{onClose:e,intl:{formatMessage:t}}=this.props;return Object(a.a)("div",{className:"modal-root__modal error-modal"},void 0,Object(a.a)("div",{className:"error-modal__body"},void 0,Object(a.a)(f.a,{title:t(h.retry),icon:"refresh",onClick:this.handleRetry,size:64}),t(h.error)),Object(a.a)("div",{className:"error-modal__footer"},void 0,Object(a.a)("div",{},void 0,Object(a.a)("button",{onClick:e,className:"error-modal__nav onboarding-modal__skip"},void 0,t(h.close)))))}}var g=Object(p.g)(m),b=n(371);var v=()=>Object(a.a)("div",{className:"modal-root__modal error-modal"},void 0,Object(a.a)("div",{className:"error-modal__body"},void 0,Object(a.a)(b.b,{})),Object(a.a)("div",{className:"error-modal__footer"},void 0,Object(a.a)("div",{},void 0,Object(a.a)("button",{className:"error-modal__nav onboarding-modal__skip"})))),y=n(3),_=n.n(y),O=n(16),w=n.n(O),j=n(18),E=n(287),C=n(226),S=n(139),T=n(236),x=n(7),k=n.n(x);class M extends j.a{constructor(){super(...arguments),this.renderAction=(e,t)=>{if(null===e)return Object(a.a)("li",{className:"dropdown-menu__separator"},"sep-"+t);const{icon:n=null,text:o,meta:i=null,active:r=!1,href:s="#"}=e;let u=this.props.renderItemContents&&this.props.renderItemContents(e,t);return u||(u=Object(a.a)(c.a.Fragment,{},void 0,n&&Object(a.a)(f.a,{title:o,icon:n,role:"presentation",tabIndex:"-1",inverted:!0}),Object(a.a)("div",{},void 0,Object(a.a)("div",{className:k()({"actions-modal__item-label":!!i})},void 0,o),Object(a.a)("div",{},void 0,i)))),Object(a.a)("li",{},o+"-"+t,Object(a.a)("a",{href:s,target:"_blank",rel:"noopener noreferrer",onClick:this.props.onClick,"data-index":t,className:k()("link",{active:r})},void 0,u))}}render(){const e=this.props.status&&Object(a.a)("div",{className:"status light"},void 0,Object(a.a)("div",{className:"boost-modal__status-header"},void 0,Object(a.a)("div",{className:"boost-modal__status-time"},void 0,Object(a.a)("a",{href:this.props.status.get("url"),className:"status__relative-time",target:"_blank",rel:"noopener noreferrer"},void 0,Object(a.a)(S.default,{timestamp:this.props.status.get("created_at")}))),Object(a.a)("a",{href:this.props.status.getIn(["account","url"]),className:"status__display-name",rel:"noopener noreferrer"},void 0,Object(a.a)("div",{className:"status__avatar"},void 0,Object(a.a)(C.a,{account:this.props.status.get("account"),size:48})),Object(a.a)(T.a,{account:this.props.status.get("account")}))),Object(a.a)(E.a,{status:this.props.status}));return Object(a.a)("div",{className:"modal-root__modal actions-modal"},void 0,e,Object(a.a)("ul",{className:k()({"with-status":!!e})},void 0,this.props.actions.map(this.renderAction)))}}M.propTypes={status:w.a.map,onClick:_.a.func,actions:_.a.arrayOf(_.a.shape({active:_.a.bool,href:_.a.string,icon:_.a.string,meta:_.a.string,name:_.a.string,text:_.a.string})),renderItemContents:_.a.func};var I=n(685),L=n(90),N=n(354),A=n(462);class R extends j.a{componentDidMount(){const{media:e,onChangeBackgroundColor:t,onClose:n}=this.props,o=Object(A.a)(e.get("blurhash"));o&&t(o)}render(){const{media:e,statusId:t,onClose:n}=this.props,o=this.props.options||{};return Object(a.a)("div",{className:"modal-root__modal video-modal"},void 0,Object(a.a)("div",{className:"video-modal__container"},void 0,Object(a.a)(L.default,{preview:e.get("preview_url"),frameRate:e.getIn(["meta","original","frame_rate"]),blurhash:e.get("blurhash"),src:e.get("url"),currentTime:o.startTime,autoPlay:o.autoPlay,volume:o.defaultVolume,onCloseVideo:n,detailed:!0,alt:e.get("description")})),Object(a.a)("div",{className:"media-modal__overlay"},void 0,t&&Object(a.a)(N.a,{statusId:t,withOpenButton:!0,onClose:n})))}}R.contextTypes={router:_.a.object},R.propTypes={media:w.a.map.isRequired,statusId:_.a.string,options:_.a.shape({startTime:_.a.number,autoPlay:_.a.bool,defaultVolume:_.a.number}),onClose:_.a.func.isRequired,onChangeBackgroundColor:_.a.func.isRequired};var P,D,U=n(87),F=n(353),H=n(28),B=n(605),G=n(277),W=n(391);const q=Object(p.f)({cancel_reblog:{id:"status.cancel_reblog_private",defaultMessage:"Unboost"},reblog:{id:"status.reblog",defaultMessage:"Boost"}});let z=Object(o.connect)((e=>({privacy:e.getIn(["boosts","new","privacy"])})),(e=>({onChangeBoostPrivacy(t){e(Object(G.c)(t))}})))(P=Object(p.g)(((D=class extends j.a{constructor(){super(...arguments),this.handleReblog=()=>{this.props.onReblog(this.props.status,this.props.privacy),this.props.onClose()},this.handleAccountClick=e=>{if(0===e.button){e.preventDefault(),this.props.onClose();let t={...this.context.router.history.location.state};t.mastodonBackSteps=(t.mastodonBackSteps||0)+1,this.context.router.history.push("/@"+this.props.status.getIn(["account","acct"]),t)}},this._findContainer=()=>document.getElementsByClassName("modal-root__container")[0],this.setRef=e=>{this.button=e}}componentDidMount(){this.button.focus()}render(){const{status:e,missingMediaDescription:t,privacy:n,intl:o}=this.props,i=e.get("reblogged")?q.cancel_reblog:q.reblog;return Object(a.a)("div",{className:"modal-root__modal boost-modal"},void 0,Object(a.a)("div",{className:"boost-modal__container"},void 0,Object(a.a)("div",{className:k()("status","status-"+e.get("visibility"),"light")},void 0,Object(a.a)("div",{className:"boost-modal__status-header"},void 0,Object(a.a)("div",{className:"boost-modal__status-time"},void 0,Object(a.a)("a",{href:e.get("url"),className:"status__relative-time",target:"_blank",rel:"noopener noreferrer"},void 0,Object(a.a)(W.a,{visibility:e.get("visibility")}),Object(a.a)(S.default,{timestamp:e.get("created_at")}))),Object(a.a)("a",{onClick:this.handleAccountClick,href:e.getIn(["account","url"]),className:"status__display-name"},void 0,Object(a.a)("div",{className:"status__avatar"},void 0,Object(a.a)(C.a,{account:e.get("account"),size:48})),Object(a.a)(T.a,{account:e.get("account")}))),Object(a.a)(E.a,{status:e}),e.get("media_attachments").size>0&&Object(a.a)(F.a,{compact:!0,media:e.get("media_attachments")}))),Object(a.a)("div",{className:"boost-modal__action-bar"},void 0,Object(a.a)("div",{},void 0,t?Object(a.a)(p.b,{id:"boost_modal.missing_description",defaultMessage:"This toot contains some media without description"}):Object(a.a)(p.b,{id:"boost_modal.combo",defaultMessage:"You can press {combo} to skip this next time",values:{combo:Object(a.a)("span",{},void 0,"Shift + ",Object(a.a)(H.a,{id:"retweet"}))}})),"private"!==e.get("visibility")&&!e.get("reblogged")&&Object(a.a)(B.a,{noDirect:!0,value:n,container:this._findContainer,onChange:this.props.onChangeBoostPrivacy}),c.a.createElement(U.a,{text:o.formatMessage(i),onClick:this.handleReblog,ref:this.setRef})))}}).contextTypes={router:_.a.object},D.propTypes={status:w.a.map.isRequired,onReblog:_.a.func.isRequired,onClose:_.a.func.isRequired,missingMediaDescription:_.a.bool,intl:_.a.object.isRequired},P=D))||P)||P;var K,V;const Q=Object(p.f)({favourite:{id:"status.favourite",defaultMessage:"Favourite"}});let X=Object(p.g)(((V=class extends j.a{constructor(){super(...arguments),this.handleFavourite=()=>{this.props.onFavourite(this.props.status),this.props.onClose()},this.handleAccountClick=e=>{if(0===e.button){e.preventDefault(),this.props.onClose();let t={...this.context.router.history.location.state};t.mastodonBackSteps=(t.mastodonBackSteps||0)+1,this.context.router.history.push("/@"+this.props.status.getIn(["account","acct"]),t)}},this.setRef=e=>{this.button=e}}componentDidMount(){this.button.focus()}render(){const{status:e,intl:t}=this.props;return Object(a.a)("div",{className:"modal-root__modal favourite-modal"},void 0,Object(a.a)("div",{className:"favourite-modal__container"},void 0,Object(a.a)("div",{className:k()("status","status-"+e.get("visibility"),"light")},void 0,Object(a.a)("div",{className:"favourite-modal__status-header"},void 0,Object(a.a)("div",{className:"favourite-modal__status-time"},void 0,Object(a.a)("a",{href:e.get("url"),className:"status__relative-time",target:"_blank",rel:"noopener noreferrer"},void 0,Object(a.a)(W.a,{visibility:e.get("visibility")}),Object(a.a)(S.default,{timestamp:e.get("created_at")}))),Object(a.a)("a",{onClick:this.handleAccountClick,href:e.getIn(["account","url"]),className:"status__display-name"},void 0,Object(a.a)("div",{className:"status__avatar"},void 0,Object(a.a)(C.a,{account:e.get("account"),size:48})),Object(a.a)(T.a,{account:e.get("account")}))),Object(a.a)(E.a,{status:e}),e.get("media_attachments").size>0&&Object(a.a)(F.a,{compact:!0,media:e.get("media_attachments")}))),Object(a.a)("div",{className:"favourite-modal__action-bar"},void 0,Object(a.a)("div",{},void 0,Object(a.a)(p.b,{id:"favourite_modal.combo",defaultMessage:"You can press {combo} to skip this next time",values:{combo:Object(a.a)("span",{},void 0,"Shift + ",Object(a.a)(H.a,{id:"star"}))}})),c.a.createElement(U.a,{text:t.formatMessage(Q.favourite),onClick:this.handleFavourite,ref:this.setRef})))}}).contextTypes={router:_.a.object},V.propTypes={status:w.a.map.isRequired,onFavourite:_.a.func.isRequired,onClose:_.a.func.isRequired,intl:_.a.object.isRequired},K=V))||K;var J,Y,$=n(350);let Z=Object(o.connect)(((e,t)=>{let{statusId:n}=t;return{accountStaticAvatar:e.getIn(["accounts",e.getIn(["statuses",n,"account"]),"avatar_static"])}}))(((Y=class extends j.a{render(){const{media:e,accountStaticAvatar:t,statusId:n,onClose:o}=this.props,i=this.props.options||{};return Object(a.a)("div",{className:"modal-root__modal audio-modal"},void 0,Object(a.a)("div",{className:"audio-modal__container"},void 0,Object(a.a)($.default,{src:e.get("url"),alt:e.get("description"),duration:e.getIn(["meta","original","duration"],0),height:150,poster:e.get("preview_url")||t,backgroundColor:e.getIn(["meta","colors","background"]),foregroundColor:e.getIn(["meta","colors","foreground"]),accentColor:e.getIn(["meta","colors","accent"]),autoPlay:i.autoPlay})),Object(a.a)("div",{className:"media-modal__overlay"},void 0,n&&Object(a.a)(N.a,{statusId:n,withOpenButton:!0,onClose:o})))}}).propTypes={media:w.a.map.isRequired,statusId:_.a.string.isRequired,accountStaticAvatar:_.a.string.isRequired,options:_.a.shape({autoPlay:_.a.bool}),onClose:_.a.func.isRequired,onChangeBackgroundColor:_.a.func.isRequired},Y.contextTypes={router:_.a.object},J=Y))||J;var ee,te,ne=n(840),oe=n.n(ne),ie=n(29),re=n.n(ie),ae=n(841),se=n.n(ae),ce=n(17);const ue=[["rgb(  0,    0,    0)","Black"],["rgb( 38,   38,   38)","Gray 15"],["rgb( 77,   77,   77)","Grey 30"],["rgb(128,  128,  128)","Grey 50"],["rgb(171,  171,  171)","Grey 67"],["rgb(217,  217,  217)","Grey 85"],["rgb(255,  255,  255)","White"],["rgb(128,    0,    0)","Maroon"],["rgb(209,    0,    0)","English-red"],["rgb(255,   54,   34)","Tomato"],["rgb(252,   60,    3)","Orange-red"],["rgb(255,  140,  105)","Salmon"],["rgb(252,  232,   32)","Cadium-yellow"],["rgb(243,  253,   37)","Lemon yellow"],["rgb(121,    5,   35)","Dark crimson"],["rgb(169,   32,   62)","Deep carmine"],["rgb(255,  140,    0)","Orange"],["rgb(255,  168,   18)","Dark tangerine"],["rgb(217,  144,   88)","Persian orange"],["rgb(194,  178,  128)","Sand"],["rgb(255,  229,  180)","Peach"],["rgb(100,   54,   46)","Bole"],["rgb(108,   41,   52)","Dark cordovan"],["rgb(163,   65,   44)","Chestnut"],["rgb(228,  136,  100)","Dark salmon"],["rgb(255,  195,  143)","Apricot"],["rgb(255,  219,  188)","Unbleached silk"],["rgb(242,  227,  198)","Straw"],["rgb( 53,   19,   13)","Bistre"],["rgb( 84,   42,   14)","Dark chocolate"],["rgb(102,   51,   43)","Burnt sienna"],["rgb(184,   66,    0)","Sienna"],["rgb(216,  153,   12)","Yellow ochre"],["rgb(210,  180,  140)","Tan"],["rgb(232,  204,  144)","Dark wheat"],["rgb(  0,   49,   83)","Prussian blue"],["rgb( 48,   69,  119)","Dark grey blue"],["rgb(  0,   71,  171)","Cobalt blue"],["rgb( 31,  117,  254)","Blue"],["rgb(120,  180,  255)","Bright french blue"],["rgb(171,  200,  255)","Bright steel blue"],["rgb(208,  231,  255)","Ice blue"],["rgb( 30,   51,   58)","Medium jungle green"],["rgb( 47,   79,   79)","Dark slate grey"],["rgb( 74,  104,   93)","Dark grullo green"],["rgb(  0,  128,  128)","Teal"],["rgb( 67,  170,  176)","Turquoise"],["rgb(109,  174,  199)","Cerulean frost"],["rgb(173,  217,  186)","Tiffany green"],["rgb( 22,   34,   29)","Gray-asparagus"],["rgb( 36,   48,   45)","Medium dark teal"],["rgb( 74,  104,   93)","Xanadu"],["rgb(119,  198,  121)","Mint"],["rgb(175,  205,  182)","Timberwolf"],["rgb(185,  245,  246)","Celeste"],["rgb(193,  255,  234)","Aquamarine"],["rgb( 29,   52,   35)","Cal Poly Pomona"],["rgb(  1,   68,   33)","Forest green"],["rgb( 42,  128,    0)","Napier green"],["rgb(128,  128,    0)","Olive"],["rgb( 65,  156,  105)","Sea green"],["rgb(189,  246,   29)","Green-yellow"],["rgb(231,  244,  134)","Bright chartreuse"],["rgb(138,   23,  137)","Purple"],["rgb( 78,   39,  138)","Violet"],["rgb(193,   75,  110)","Dark thulian pink"],["rgb(222,   49,   99)","Cerise"],["rgb(255,   20,  147)","Deep pink"],["rgb(255,  102,  204)","Rose pink"],["rgb(255,  203,  219)","Pink"],["rgb(255,  255,  255)","White"],["rgb(229,   17,    1)","RGB Red"],["rgb(  0,  255,    0)","RGB Green"],["rgb(  0,    0,  255)","RGB Blue"],["rgb(  0,  255,  255)","CMYK Cyan"],["rgb(255,    0,  255)","CMYK Magenta"],["rgb(255,  255,    0)","CMYK Yellow"]];let le=[];for(let e=0;e<7;e++){for(let t=0;t<11;t++)le.push(ue[7*t+e]);le.push(null)}const de={normal:[500,500,"Square 500"],tootbanner:[702,330,"Tootbanner"],s640x480:[640,480,"640×480 - 480p"],s800x600:[800,600,"800×600 - SVGA"],s720x480:[720,405,"720x405 - 16:9"]};let pe=Object(o.connect)((e=>({options:e.getIn(["compose","doodle"])})),(e=>({setOpt:t=>e(Object(ce.ob)(t)),submit:t=>e(Object(ce.Hb)([t]))})))(((te=class extends j.a{constructor(){super(...arguments),this.handleKeyUp=e=>{if("INPUT"!==e.target.nodeName){if("Delete"===e.key)return e.preventDefault(),void this.handleClearBtn();("Backspace"===e.key||"z"===e.key&&(e.ctrlKey||e.metaKey))&&(e.preventDefault(),this.undo()),"Control"!==e.key&&"Meta"!==e.key||(this.controlHeld=!1,this.swapped=!1),"Shift"===e.key&&(this.shiftHeld=!1,this.mode="draw")}},this.handleKeyDown=e=>{"Control"!==e.key&&"Meta"!==e.key||(this.controlHeld=!0,this.swapped=!0),"Shift"===e.key&&(this.shiftHeld=!0,this.mode="fill")},this.setCanvasRef=e=>{this.canvas=e,e&&(e.addEventListener("dirty",(()=>{this.saveUndo(),this.sketcher._dirty=!1})),e.addEventListener("click",(()=>{"fill"===this.mode&&this.saveUndo()})),e.addEventListener("contextmenu",(e=>{e.preventDefault()})),e.addEventListener("mousedown",(e=>{2===e.button&&(this.swapped=!0)})),e.addEventListener("mouseup",(e=>{2===e.button&&(this.swapped=this.controlHeld)})),this.initSketcher(e),this.mode="draw")},this.onDoneButton=()=>{const e=function(e,t){let n=e.split(","),o=n[0].match(/:(.*?);/)[1],i=atob(n[1]),r=i.length,a=new Uint8Array(r);for(;r--;)a[r]=i.charCodeAt(r);return new File([a],t,{type:o})}(this.sketcher.toImage(),"doodle.png");this.props.submit(e),this.props.onClose()},this.onCancelButton=()=>{this.undos.length>1&&!confirm("Discard doodle? All changes will be lost!")||this.props.onClose()},this.clearScreen=()=>{this.ctx.fillStyle=this.bg,this.ctx.fillRect(-1,-1,this.canvas.width+2,this.canvas.height+2),this.undos=[],this.doSaveUndo()},this.undo=()=>{if(this.undos.length>1){this.undos.pop();const e=this.undos.pop();this.sketcher.clear(),this.ctx.putImageData(e,0,0),this.doSaveUndo()}},this.doSaveUndo=()=>{this.undos.push(this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height))},this.saveUndo=re()((()=>{this.doSaveUndo()}),100),this.onPaletteClick=e=>{const t=e.target.dataset.color;this.controlHeld?this.bg=t:this.fg=t,e.target.blur(),e.preventDefault()},this.onPaletteRClick=e=>{this.bg=e.target.dataset.color,e.target.blur(),e.preventDefault()},this.setModeDraw=e=>{this.mode="draw",e.target.blur()},this.setModeFill=e=>{this.mode="fill",e.target.blur()},this.tglSmooth=e=>{this.smoothing=!this.smoothing,e.target.blur()},this.tglAdaptive=e=>{this.adaptiveStroke=!this.adaptiveStroke,e.target.blur()},this.setWeight=e=>{this.weight=+e.target.value||1},this.changeSize=e=>{let t=e.target.value;t!==this.oldSize&&(this.undos.length>1&&!confirm("Change canvas size? This will erase your current drawing!")||(this.size=t))},this.handleClearBtn=()=>{this.undos.length>1&&!confirm("Clear canvas? This will erase your current drawing!")||this.clearScreen()}}get fg(){return this.props.options.get("fg")}set fg(e){this.props.setOpt({fg:e})}get bg(){return this.props.options.get("bg")}set bg(e){this.props.setOpt({bg:e})}get swapped(){return this.props.options.get("swapped")}set swapped(e){this.props.setOpt({swapped:e})}get mode(){return this.props.options.get("mode")}set mode(e){this.props.setOpt({mode:e})}get weight(){return this.props.options.get("weight")}set weight(e){this.props.setOpt({weight:e})}get opacity(){return this.props.options.get("opacity")}set opacity(e){this.props.setOpt({opacity:e})}get adaptiveStroke(){return this.props.options.get("adaptiveStroke")}set adaptiveStroke(e){this.props.setOpt({adaptiveStroke:e})}get smoothing(){return this.props.options.get("smoothing")}set smoothing(e){this.props.setOpt({smoothing:e})}get size(){return this.props.options.get("size")}set size(e){this.props.setOpt({size:e})}componentDidMount(){this.controlHeld=!1,this.shiftHeld=!1,this.swapped=!1,window.addEventListener("keyup",this.handleKeyUp,!1),window.addEventListener("keydown",this.handleKeyDown,!1)}componentWillUnmount(){window.removeEventListener("keyup",this.handleKeyUp,!1),window.removeEventListener("keydown",this.handleKeyDown,!1),this.sketcher&&this.sketcher.destroy()}initSketcher(e){void 0===e&&(e=null);const t=de[this.size];this.sketcher&&this.sketcher.destroy(),this.sketcher=new se.a(e||this.canvas,t[0],t[1]),e&&(this.ctx=this.sketcher.context,this.updateSketcherSettings()),this.clearScreen()}updateSketcherSettings(){this.sketcher&&(this.oldSize!==this.size&&this.initSketcher(),this.sketcher.color=this.swapped?this.bg:this.fg,this.sketcher.opacity=this.opacity,this.sketcher.weight=this.weight,this.sketcher.mode=this.mode,this.sketcher.smoothing=this.smoothing,this.sketcher.adaptiveStroke=this.adaptiveStroke,this.oldSize=this.size)}render(){return this.updateSketcherSettings(),Object(a.a)("div",{className:"modal-root__modal doodle-modal"},void 0,Object(a.a)("div",{className:"doodle-modal__container"},void 0,c.a.createElement("canvas",{ref:this.setCanvasRef})),Object(a.a)("div",{className:"doodle-modal__action-bar"},void 0,Object(a.a)("div",{className:"doodle-toolbar"},void 0,Object(a.a)(U.a,{text:"Done",onClick:this.onDoneButton}),Object(a.a)(U.a,{text:"Cancel",onClick:this.onCancelButton})),Object(a.a)("div",{className:"filler"}),Object(a.a)("div",{className:"doodle-toolbar with-inputs"},void 0,Object(a.a)("div",{},void 0,Object(a.a)("label",{htmlFor:"dd_smoothing"},void 0,"Smoothing"),Object(a.a)("span",{className:"val"},void 0,Object(a.a)("input",{type:"checkbox",id:"dd_smoothing",onChange:this.tglSmooth,checked:this.smoothing}))),Object(a.a)("div",{},void 0,Object(a.a)("label",{htmlFor:"dd_adaptive"},void 0,"Adaptive"),Object(a.a)("span",{className:"val"},void 0,Object(a.a)("input",{type:"checkbox",id:"dd_adaptive",onChange:this.tglAdaptive,checked:this.adaptiveStroke}))),Object(a.a)("div",{},void 0,Object(a.a)("label",{htmlFor:"dd_weight"},void 0,"Weight"),Object(a.a)("span",{className:"val"},void 0,Object(a.a)("input",{type:"number",min:1,id:"dd_weight",value:this.weight,onChange:this.setWeight}))),Object(a.a)("div",{},void 0,Object(a.a)("select",{"aria-label":"Canvas size",onInput:this.changeSize,defaultValue:this.size},void 0,Object.values(oe()(de,((e,t)=>Object(a.a)("option",{value:t},t,e[2]))))))),Object(a.a)("div",{className:"doodle-toolbar"},void 0,Object(a.a)(f.a,{icon:"pencil",title:"Draw",label:"Draw",onClick:this.setModeDraw,size:18,active:"draw"===this.mode,inverted:!0}),Object(a.a)(f.a,{icon:"bath",title:"Fill",label:"Fill",onClick:this.setModeFill,size:18,active:"fill"===this.mode,inverted:!0}),Object(a.a)(f.a,{icon:"undo",title:"Undo",label:"Undo",onClick:this.undo,size:18,inverted:!0}),Object(a.a)(f.a,{icon:"trash",title:"Clear",label:"Clear",onClick:this.handleClearBtn,size:18,inverted:!0})),Object(a.a)("div",{className:"doodle-palette"},void 0,le.map(((e,t)=>null===e?Object(a.a)("br",{},t):Object(a.a)("button",{style:{backgroundColor:e[0]},onClick:this.onPaletteClick,onContextMenu:this.onPaletteRClick,"data-color":e[0],title:e[1],className:k()({foreground:this.fg===e[0],background:this.bg===e[0]})},t))))))}}).propTypes={options:w.a.map,onClose:_.a.func.isRequired,setOpt:_.a.func.isRequired,submit:_.a.func.isRequired},ee=te))||ee;var fe,he;let me=Object(p.g)(((he=class extends c.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.closeWhenConfirm&&this.props.onClose(),this.props.onConfirm(),this.props.onDoNotAsk&&this.doNotAskCheckbox.checked&&this.props.onDoNotAsk()},this.handleSecondary=()=>{this.props.onClose(),this.props.onSecondary()},this.handleCancel=()=>{this.props.onClose()},this.setRef=e=>{this.button=e},this.setDoNotAskRef=e=>{this.doNotAskCheckbox=e}}componentDidMount(){this.button.focus()}render(){const{message:e,confirm:t,secondary:n,onDoNotAsk:o}=this.props;return Object(a.a)("div",{className:"modal-root__modal confirmation-modal"},void 0,Object(a.a)("div",{className:"confirmation-modal__container"},void 0,e),Object(a.a)("div",{},void 0,o&&Object(a.a)("div",{className:"confirmation-modal__do_not_ask_again"},void 0,c.a.createElement("input",{type:"checkbox",id:"confirmation-modal__do_not_ask_again-checkbox",ref:this.setDoNotAskRef}),Object(a.a)("label",{for:"confirmation-modal__do_not_ask_again-checkbox"},void 0,Object(a.a)(p.b,{id:"confirmation_modal.do_not_ask_again",defaultMessage:"Do not ask for confirmation again"}))),Object(a.a)("div",{className:"confirmation-modal__action-bar"},void 0,Object(a.a)(U.a,{onClick:this.handleCancel,className:"confirmation-modal__cancel-button"},void 0,Object(a.a)(p.b,{id:"confirmation_modal.cancel",defaultMessage:"Cancel"})),void 0!==n&&Object(a.a)(U.a,{text:n,onClick:this.handleSecondary,className:"confirmation-modal__secondary-button"}),c.a.createElement(U.a,{text:t,onClick:this.handleClick,ref:this.setRef}))))}}).defaultProps={closeWhenConfirm:!0},fe=he))||fe;var ge,be,ve=n(248),ye=n(606),_e=n(607),Oe=n(88),we=n(134),je=n(461),Ee=n(14),Ce=n(316),Se=n(317),Te=n(132);const xe=Object(p.f)({close:{id:"lightbox.close",defaultMessage:"Close"},apply:{id:"upload_modal.apply",defaultMessage:"Apply"},applying:{id:"upload_modal.applying",defaultMessage:"Applying…"},placeholder:{id:"upload_modal.description_placeholder",defaultMessage:"A quick brown fox jumps over the lazy dog"},chooseImage:{id:"upload_modal.choose_image",defaultMessage:"Choose image"},discardMessage:{id:"confirmations.discard_edit_media.message",defaultMessage:"You have unsaved changes to the media description or preview, discard them anyway?"},discardConfirm:{id:"confirmations.discard_edit_media.confirm",defaultMessage:"Discard"}});class ke extends c.a.PureComponent{constructor(){super(...arguments),this.state={loading:!0}}componentDidMount(){const e=new Image;e.addEventListener("load",(()=>this.setState({loading:!1}))),e.src=this.props.src}render(){const{loading:e}=this.state;return e?Object(a.a)("canvas",{width:this.props.width,height:this.props.height}):c.a.createElement("img",Object(r.a)({},this.props,{alt:""}))}}let Me=Object(o.connect)(((e,t)=>{let{id:n}=t;return{media:e.getIn(["compose","media_attachments"]).find((e=>e.get("id")===n)),account:e.getIn(["accounts",Ee.me]),isUploadingThumbnail:e.getIn(["compose","isUploadingThumbnail"]),description:e.getIn(["compose","media_modal","description"]),focusX:e.getIn(["compose","media_modal","focusX"]),focusY:e.getIn(["compose","media_modal","focusY"]),dirty:e.getIn(["compose","media_modal","dirty"]),is_changing_upload:e.getIn(["compose","is_changing_upload"])}}),((e,t)=>{let{id:n}=t;return{onSave:(t,o,i)=>{e(Object(ce.kb)(n,{description:t,focus:o.toFixed(2)+","+i.toFixed(2)}))},onChangeDescription:t=>{e(Object(ce.wb)(t))},onChangeFocus:(t,n)=>{e(Object(ce.xb)(t,n))},onSelectThumbnail:t=>{e(Object(ce.Ib)(n,t[0]))}}}),null,{forwardRef:!0})(ge=(e=>Object(p.g)(e,{withRef:!0}))(((be=class extends j.a{constructor(){var e;super(...arguments),e=this,this.state={dragging:!1,dirty:!1,progress:0,loading:!0,ocrStatus:""},this.handleMouseDown=e=>{document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.updatePosition(e),this.setState({dragging:!0})},this.handleTouchStart=e=>{document.addEventListener("touchmove",this.handleMouseMove),document.addEventListener("touchend",this.handleTouchEnd),this.updatePosition(e),this.setState({dragging:!0})},this.handleMouseMove=e=>{this.updatePosition(e)},this.handleMouseUp=()=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.setState({dragging:!1})},this.handleTouchEnd=()=>{document.removeEventListener("touchmove",this.handleMouseMove),document.removeEventListener("touchend",this.handleTouchEnd),this.setState({dragging:!1})},this.updatePosition=e=>{const{x:t,y:n}=Object(L.getPointerPosition)(this.node,e),o=2*(t-.5),i=-2*(n-.5);this.props.onChangeFocus(o,i)},this.handleChange=e=>{this.props.onChangeDescription(e.target.value)},this.handleKeyDown=e=>{13===e.keyCode&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopPropagation(),this.props.onChangeDescription(e.target.value),this.handleSubmit())},this.handleSubmit=()=>{this.props.onSave(this.props.description,this.props.focusX,this.props.focusY)},this.getCloseConfirmationMessage=()=>{const{intl:e,dirty:t}=this.props;return t?{message:e.formatMessage(xe.discardMessage),confirm:e.formatMessage(xe.discardConfirm)}:null},this.setRef=e=>{this.node=e},this.handleTextDetection=()=>{this._detectText()},this._detectText=function(t){void 0===t&&(t=!1);const{media:n}=e.props;e.setState({detecting:!0}),Object(we.R)().then((o=>{let{createWorker:i}=o;const r=i({workerPath:Se.a,corePath:Ce.a,langPath:Te.a+"/ocr/lang-data/",logger:t=>{let{status:n,progress:o}=t;"recognizing text"===n?e.setState({ocrStatus:"detecting",progress:o}):e.setState({ocrStatus:"preparing",progress:o})},cacheMethod:t?"refresh":"write"});let a=n.get("url");if(window.URL&&URL.createObjectURL)try{a=URL.createObjectURL(n.get("file"))}catch(e){console.error(e)}return(async()=>{await r.load(),await r.loadLanguage("eng"),await r.initialize("eng");const{data:{text:t}}=await r.recognize(a);e.setState({detecting:!1}),e.props.onChangeDescription(t.replace(/\n\n/g,"******").replace(/\n/g," ").replace(/\*\*\*\*\*\*/g,"\n\n")),await r.terminate()})().catch((n=>{if(t)throw n;e._detectText(!0)}))})).catch((t=>{console.error(t),e.setState({detecting:!1})}))},this.handleThumbnailChange=e=>{e.target.files.length>0&&this.props.onSelectThumbnail(e.target.files)},this.setFileInputRef=e=>{this.fileInput=e},this.handleFileInputClick=()=>{this.fileInput.click()}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){const{media:e,intl:t,account:n,onClose:o,isUploadingThumbnail:i,description:r,focusX:s,focusY:u,dirty:l,is_changing_upload:d}=this.props,{dragging:h,detecting:m,progress:g,ocrStatus:b}=this.state,v=s/2+.5,y=u/-2+.5,_=e.getIn(["meta","original","width"])||null,O=e.getIn(["meta","original","height"])||null,w=["image","gifv"].includes(e.get("type")),j=["audio","video"].includes(e.get("type"));let E=null;E="audio"===e.get("type")?Object(a.a)(p.b,{id:"upload_form.audio_description",defaultMessage:"Describe for people with hearing loss"}):"video"===e.get("type")?Object(a.a)(p.b,{id:"upload_form.video_description",defaultMessage:"Describe for people with hearing loss or visual impairment"}):Object(a.a)(p.b,{id:"upload_form.description",defaultMessage:"Describe for the visually impaired"});let C="";return C="detecting"===b?Object(a.a)(p.b,{id:"upload_modal.analyzing_picture",defaultMessage:"Analyzing picture…"}):Object(a.a)(p.b,{id:"upload_modal.preparing_ocr",defaultMessage:"Preparing OCR…"}),Object(a.a)("div",{className:"modal-root__modal report-modal",style:{maxWidth:960}},void 0,Object(a.a)("div",{className:"report-modal__target"},void 0,Object(a.a)(f.a,{className:"report-modal__close",title:t.formatMessage(xe.close),icon:"times",onClick:o,size:20}),Object(a.a)(p.b,{id:"upload_modal.edit_media",defaultMessage:"Edit media"})),Object(a.a)("div",{className:"report-modal__container"},void 0,Object(a.a)("div",{className:"report-modal__comment"},void 0,w&&Object(a.a)("p",{},void 0,Object(a.a)(p.b,{id:"upload_modal.hint",defaultMessage:"Click or drag the circle on the preview to choose the focal point which will always be in view on all thumbnails."})),j&&Object(a.a)(c.a.Fragment,{},void 0,Object(a.a)("label",{className:"setting-text-label",htmlFor:"upload-modal__thumbnail"},void 0,Object(a.a)(p.b,{id:"upload_form.thumbnail",defaultMessage:"Change thumbnail"})),Object(a.a)(U.a,{disabled:i,text:t.formatMessage(xe.chooseImage),onClick:this.handleFileInputClick}),Object(a.a)("label",{},void 0,Object(a.a)("span",{style:{display:"none"}},void 0,t.formatMessage(xe.chooseImage)),c.a.createElement("input",{id:"upload-modal__thumbnail",ref:this.setFileInputRef,type:"file",accept:"image/png,image/jpeg",onChange:this.handleThumbnailChange,style:{display:"none"},disabled:i||d})),Object(a.a)("hr",{className:"setting-divider"})),Object(a.a)("label",{className:"setting-text-label",htmlFor:"upload-modal__description"},void 0,E),Object(a.a)("div",{className:"setting-text__wrapper"},void 0,Object(a.a)(ve.a,{id:"upload-modal__description",className:"setting-text light",value:m?"…":r,onChange:this.handleChange,onKeyDown:this.handleKeyDown,disabled:m||d,autoFocus:!0}),Object(a.a)("div",{className:"setting-text__modifiers"},void 0,Object(a.a)(ye.a,{progress:100*g,active:m,icon:"file-text-o",message:C}))),Object(a.a)("div",{className:"setting-text__toolbar"},void 0,Object(a.a)("button",{disabled:m||"image"!==e.get("type")||d,className:"link-button",onClick:this.handleTextDetection},void 0,Object(a.a)(p.b,{id:"upload_modal.detect_text",defaultMessage:"Detect text from picture"})),Object(a.a)(_e.a,{max:1500,text:m?"":r})),Object(a.a)(U.a,{disabled:!l||m||i||Object(Oe.length)(r)>1500||d,text:t.formatMessage(d?xe.applying:xe.apply),onClick:this.handleSubmit})),Object(a.a)("div",{className:"focal-point-modal__content"},void 0,w&&c.a.createElement("div",{className:k()("focal-point",{dragging:h}),ref:this.setRef,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart},"image"===e.get("type")&&Object(a.a)(ke,{src:e.get("url"),width:_,height:O,alt:""}),"gifv"===e.get("type")&&Object(a.a)(je.a,{src:e.get("url"),width:_,height:O}),Object(a.a)("div",{className:"focal-point__preview"},void 0,Object(a.a)("strong",{},void 0,Object(a.a)(p.b,{id:"upload_modal.preview_label",defaultMessage:"Preview ({ratio})",values:{ratio:"16:9"}})),Object(a.a)("div",{style:{width:200,height:112.5,backgroundImage:"url("+e.get("preview_url")+")",backgroundSize:"cover",backgroundPosition:100*v+"% "+100*y+"%"}})),Object(a.a)("div",{className:"focal-point__reticle",style:{top:100*y+"%",left:100*v+"%"}}),Object(a.a)("div",{className:"focal-point__overlay"})),"video"===e.get("type")&&Object(a.a)(L.default,{preview:e.get("preview_url"),frameRate:e.getIn(["meta","original","frame_rate"]),blurhash:e.get("blurhash"),src:e.get("url"),detailed:!0,inline:!0,editable:!0}),"audio"===e.get("type")&&Object(a.a)($.default,{src:e.get("url"),duration:e.getIn(["meta","original","duration"],0),height:150,poster:e.get("preview_url")||n.get("avatar_static"),backgroundColor:e.getIn(["meta","colors","background"]),foregroundColor:e.getIn(["meta","colors","foreground"]),accentColor:e.getIn(["meta","colors","accent"]),editable:!0}))))}}).propTypes={media:w.a.map.isRequired,account:w.a.map.isRequired,isUploadingThumbnail:_.a.bool,onSave:_.a.func.isRequired,onChangeDescription:_.a.func.isRequired,onChangeFocus:_.a.func.isRequired,onSelectThumbnail:_.a.func.isRequired,onClose:_.a.func.isRequired,intl:_.a.object.isRequired},ge=be))||ge)||ge;var Ie,Le=n(372),Ne=n(573);const Ae=Object(p.f)({discardChanges:{id:"confirmations.deprecated_settings.confirm",defaultMessage:"Use Mastodon preferences"},user_setting_expand_spoilers:{id:"settings.enable_content_warnings_auto_unfold",defaultMessage:"Automatically unfold content-warnings"},user_setting_disable_swiping:{id:"settings.swipe_to_change_columns",defaultMessage:"Allow swiping to change columns (Mobile only)"}});let Re=Object(p.g)(Ie=class extends c.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onConfirm(),this.props.onClose()},this.setRef=e=>{this.button=e}}componentDidMount(){this.button.focus()}render(){const{settings:e,intl:t}=this.props;return Object(a.a)("div",{className:"modal-root__modal confirmation-modal"},void 0,Object(a.a)("div",{className:"confirmation-modal__container"},void 0,Object(a.a)("img",{src:Ne.default,className:"modal-warning",alt:""}),Object(a.a)(p.b,{id:"confirmations.deprecated_settings.message",defaultMessage:"Some of the glitch-soc device-specific {app_settings} you are using have been replaced by Mastodon {preferences} and will be overriden:",values:{app_settings:Object(a.a)("strong",{className:"deprecated-settings-label"},void 0,Object(a.a)(H.a,{id:"cogs"})," ",Object(a.a)(p.b,{id:"navigation_bar.app_settings",defaultMessage:"App settings"})),preferences:Object(a.a)("strong",{className:"deprecated-settings-label"},void 0,Object(a.a)(H.a,{id:"cog"})," ",Object(a.a)(p.b,{id:"navigation_bar.preferences",defaultMessage:"Preferences"}))}}),Object(a.a)("div",{className:"deprecated-settings-info"},void 0,Object(a.a)("ul",{},void 0,e.map((e=>Object(a.a)("li",{},void 0,Object(a.a)("a",{href:Object(Le.c)(e)},void 0,c.a.createElement(p.b,Ae[e])))))))),Object(a.a)("div",{},void 0,Object(a.a)("div",{className:"confirmation-modal__action-bar"},void 0,Object(a.a)("div",{}),c.a.createElement(U.a,{text:t.formatMessage(Ae.discardChanges),onClick:this.handleClick,ref:this.setRef}))))}})||Ie;const Pe={MEDIA:()=>Promise.resolve({default:I.a}),ONBOARDING:we.I,VIDEO:()=>Promise.resolve({default:R}),AUDIO:()=>Promise.resolve({default:Z}),BOOST:()=>Promise.resolve({default:z}),FAVOURITE:()=>Promise.resolve({default:X}),DOODLE:()=>Promise.resolve({default:pe}),CONFIRM:()=>Promise.resolve({default:me}),MUTE:we.F,BLOCK:we.d,REPORT:we.N,SETTINGS:we.P,DEPRECATED_SETTINGS:()=>Promise.resolve({default:Re}),ACTIONS:()=>Promise.resolve({default:M}),EMBED:we.m,LIST_EDITOR:we.B,FOCAL_POINT:()=>Promise.resolve({default:Me}),LIST_ADDER:we.A,PINNED_ACCOUNTS_EDITOR:we.J,COMPARE_HISTORY:we.h};class De extends c.a.PureComponent{constructor(){var e;super(...arguments),e=this,this.state={backgroundColor:null},this.setBackgroundColor=e=>{this.setState({backgroundColor:e})},this.renderLoading=e=>()=>-1===["MEDIA","VIDEO","BOOST","FAVOURITE","DOODLE","CONFIRM","ACTIONS"].indexOf(e)?Object(a.a)(v,{}):null,this.renderError=e=>{const{onClose:t}=this.props;return c.a.createElement(g,Object(r.a)({},e,{onClose:t}))},this.handleClose=function(t){void 0===t&&(t=!1);const{onClose:n}=e.props;let o=null;try{var i,r,a;o=null==(i=e._modal)||null==i.getWrappedInstance||null==(r=(a=i.getWrappedInstance()).getCloseConfirmationMessage)?void 0:r.call(a)}catch(e){}n(o,t)},this.setModalRef=e=>{this._modal=e}}componentDidUpdate(){this.props.type?(document.body.classList.add("with-modals--active"),document.documentElement.style.marginRight=Object(u.a)()+"px"):(document.body.classList.remove("with-modals--active"),document.documentElement.style.marginRight=0)}render(){const{type:e,props:t,ignoreFocus:n}=this.props,{backgroundColor:o}=this.state,i=!!e;return Object(a.a)(l.a,{backgroundColor:o,onClose:this.handleClose,noEsc:!!t&&t.noEsc,ignoreFocus:n},void 0,i&&Object(a.a)(d.a,{fetchComponent:Pe[e],loading:this.renderLoading(e),error:this.renderError,renderDelay:200},void 0,(e=>c.a.createElement(e,Object(r.a)({},t,{onChangeBackgroundColor:this.setBackgroundColor,onClose:this.handleClose,ref:this.setModalRef})))))}}t.a=Object(o.connect)((e=>({ignoreFocus:e.getIn(["modal","ignoreFocus"]),type:e.getIn(["modal","stack",0,"modalType"],null),props:e.getIn(["modal","stack",0,"modalProps"],{})})),(e=>({onClose(t,n){void 0===n&&(n=!1),e(t?Object(i.d)("CONFIRM",{message:t.message,confirm:t.confirm,onConfirm:()=>e(Object(i.c)(void 0,{ignoreFocus:n}))}):Object(i.c)(void 0,{ignoreFocus:n}))}})))(De)},860:function(e,t,n){var o,i,r;!function(n,a){"use strict";i=[],void 0===(r="function"==typeof(o=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],r=["fileName","functionName","source"],a=["args"],s=["evalOrigin"],c=o.concat(i,r,a,s);function u(e){if(e)for(var n=0;n<c.length;n++)void 0!==e[c[n]]&&this["set"+t(c[n])](e[c[n]])}u.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof u)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new u(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",o=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:o?o+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},u.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),o=e.substring(0,t),i=e.substring(t+1,n).split(","),r=e.substring(n+1);if(0===r.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r,""),s=a[1],c=a[2],l=a[3];return new u({functionName:o,args:i||void 0,fileName:s,lineNumber:c||void 0,columnNumber:l||void 0})};for(var l=0;l<o.length;l++)u.prototype["get"+t(o[l])]=n(o[l]),u.prototype["set"+t(o[l])]=function(e){return function(t){this[e]=Boolean(t)}}(o[l]);for(var d=0;d<i.length;d++)u.prototype["get"+t(i[d])]=n(i[d]),u.prototype["set"+t(i[d])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[d]);for(var p=0;p<r.length;p++)u.prototype["get"+t(r[p])]=n(r[p]),u.prototype["set"+t(r[p])]=function(e){return function(t){this[e]=String(t)}}(r[p]);return u})?o.apply(t,i):o)||(e.exports=r)}()},863:function(e,t,n){var o=n(864);e.exports=function(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},864:function(e,t,n){var o=n(284),i=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},869:function(e,t,n){var o=n(870),i=n(591);e.exports=function(e,t){return e&&o(e,t,i)}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(1),i=n.n(o),r=n(7),a=n.n(r);class s extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{this.props.disabled||this.props.onClick(e)},this.setRef=e=>{this.node=e}}focus(){this.node.focus()}render(){let e={className:a()("button",this.props.className,{"button-secondary":this.props.secondary,"button--block":this.props.block}),disabled:this.props.disabled,onClick:this.handleClick,ref:this.setRef};return this.props.title&&(e.title=this.props.title),i.a.createElement("button",e,this.props.text||this.props.children)}}},870:function(e,t,n){var o=n(871)();e.exports=o},871:function(e,t){e.exports=function(e){return function(t,n,o){for(var i=-1,r=Object(t),a=o(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(r[c],c,r))break}return t}}},88:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(344));function r(e){if("string"!=typeof e)throw new Error("A string is expected as input");return e.match(i.default())||[]}function a(e){if("string"!=typeof e)throw new Error("Input must be a string");var t=e.match(i.default());return null===t?0:t.length}function s(e,t,n){if(void 0===t&&(t=0),"string"!=typeof e)throw new Error("Input must be a string");("number"!=typeof t||t<0)&&(t=0),"number"==typeof n&&n<0&&(n=0);var o=e.match(i.default());return o?o.slice(t,n).join(""):""}t.toArray=r,t.length=a,t.substring=s,t.substr=function(e,t,n){if(void 0===t&&(t=0),"string"!=typeof e)throw new Error("Input must be a string");var o,r=a(e);if("number"!=typeof t&&(t=parseInt(t,10)),t>=r)return"";t<0&&(t+=r),void 0===n?o=r:("number"!=typeof n&&(n=parseInt(n,10)),o=n>=0?n+t:t);var s=e.match(i.default());return s?s.slice(t,o).join(""):""},t.limit=function(e,t,n,o){if(void 0===t&&(t=16),void 0===n&&(n="#"),void 0===o&&(o="right"),"string"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments specified");if(-1===["left","right"].indexOf(o))throw new Error("Pad position should be either left or right");"string"!=typeof n&&(n=String(n));var i=a(e);if(i>t)return s(e,0,t);if(i<t){var r=n.repeat(t-i);return"left"===o?r+e:e+r}return e},t.indexOf=function(e,t,n){if(void 0===n&&(n=0),"string"!=typeof e)throw new Error("Input must be a string");if(""===e)return""===t?0:-1;n=Number(n),n=isNaN(n)?0:n,t=String(t);var o=r(e);if(n>=o.length)return""===t?o.length:-1;if(""===t)return n;var i,a=r(t),s=!1;for(i=n;i<o.length;i+=1){for(var c=0;c<a.length&&a[c]===o[i+c];)c+=1;if(c===a.length&&a[c-1]===o[i+c-1]){s=!0;break}}return s?i:-1}},884:function(e,t,n){var o=n(885),i=n(932),r=n(943),a=n(267),s=n(944);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?a(e)?i(e[0],e[1]):o(e):s(e)}},885:function(e,t,n){var o=n(886),i=n(931),r=n(632);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}},886:function(e,t,n){var o=n(628),i=n(621);e.exports=function(e,t,n,r){var a=n.length,s=a,c=!r;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],p=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var f=new o;if(r)var h=r(d,p,l,e,t,f);if(!(void 0===h?i(p,d,3,r,f):h))return!1}}return!0}},931:function(e,t,n){var o=n(631),i=n(591);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,o(a)]}return t}},932:function(e,t,n){var o=n(621),i=n(933),r=n(940),a=n(595),s=n(631),c=n(632),u=n(409);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?r(n,e):o(t,a,3)}}},933:function(e,t,n){var o=n(633);e.exports=function(e,t,n){var i=null==e?void 0:o(e,t);return void 0===i?n:i}},934:function(e,t,n){var o=n(935),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=o((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,o,i){t.push(o?i.replace(r,"$1"):n||e)})),t}));e.exports=a},935:function(e,t,n){var o=n(936);e.exports=function(e){var t=o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},936:function(e,t,n){var o=n(594);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=e.apply(this,o);return n.cache=r.set(i,a)||r,a};return n.cache=new(i.Cache||o),n}i.Cache=o,e.exports=i},937:function(e,t,n){var o=n(938);e.exports=function(e){return null==e?"":o(e)}},938:function(e,t,n){var o=n(230),i=n(939),r=n(267),a=n(270),s=o?o.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},939:function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}},94:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=l(n(3)),r=l(n(423)),a=l(n(1)),s=l(n(424)),c=l(n(426)),u=l(n(438));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.handleHidden=function(){var e;(i.setState({exited:!0}),i.props.onExited)&&(e=i.props).onExited.apply(e,arguments)},i.state={exited:!n.show},i.onHiddenListener=i.handleHidden.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,o=e.target,i=e.placement,r=e.shouldUpdatePosition,l=e.rootClose,d=e.children,p=e.transition,f=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(f.show||p&&!this.state.exited))return null;var h=d;if(h=a.default.createElement(c.default,{container:t,containerPadding:n,target:o,placement:i,shouldUpdatePosition:r},h),p){var m=f.onExit,g=f.onExiting,b=f.onEnter,v=f.onEntering,y=f.onEntered;h=a.default.createElement(p,{in:f.show,appear:!0,onExit:m,onExiting:g,onExited:this.onHiddenListener,onEnter:b,onEntering:v,onEntered:y},h)}return l&&(h=a.default.createElement(u.default,{onRootClose:f.onHide,event:f.rootCloseEvent},h)),a.default.createElement(s.default,{container:t},h)},t}(a.default.Component);d.propTypes=o({},s.default.propTypes,c.default.propTypes,{show:i.default.bool,rootClose:i.default.bool,rootCloseEvent:u.default.propTypes.event,onHide:function(e){var t=i.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.apply(void 0,[e].concat(o))},transition:r.default,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func}),t.default=d,e.exports=t.default},940:function(e,t,n){var o=n(941),i=n(942);e.exports=function(e,t){return null!=e&&i(e,t,o)}},941:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},942:function(e,t,n){var o=n(634),i=n(624),r=n(267),a=n(626),s=n(592),c=n(409);e.exports=function(e,t,n){for(var u=-1,l=(t=o(t,e)).length,d=!1;++u<l;){var p=c(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(p,l)&&(r(e)||i(e))}},943:function(e,t){e.exports=function(e){return e}},944:function(e,t,n){var o=n(945),i=n(946),r=n(595),a=n(409);e.exports=function(e){return r(e)?o(a(e)):i(e)}},945:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},946:function(e,t,n){var o=n(633);e.exports=function(e){return function(t){return o(t,e)}}},947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(e){function t(){i(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,0,0));return e._down=!1,e._px=0,e._py=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"down",get:function(){return this._down},set:function(e){this._down=e}},{key:"x",get:function(){return this._x},set:function(e){this._x=e}},{key:"y",get:function(){return this._y},set:function(e){this._y=e}},{key:"px",get:function(){return this._px},set:function(e){this._px=e}},{key:"py",get:function(){return this._py},set:function(e){this._py=e}}]),t}(function(){function e(t,n){i(this,e),this._x=t,this._y=n}return o(e,[{key:"set",value:function(e,t){this._x=e,this._y=t}},{key:"x",get:function(){return this._x},set:function(e){this._x=e}},{key:"y",get:function(){return this._y},set:function(e){this._y=e}}]),e}());t.default=r},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return y}));var o=n(6);const i="HASHTAG_FETCH_REQUEST",r="HASHTAG_FETCH_SUCCESS",a="HASHTAG_FETCH_FAIL",s="HASHTAG_FOLLOW_REQUEST",c="HASHTAG_FOLLOW_FAIL",u="HASHTAG_UNFOLLOW_REQUEST",l="HASHTAG_UNFOLLOW_FAIL",d=e=>(t,n)=>{t(p()),Object(o.a)(n).get("/api/v1/tags/"+e).then((n=>{let{data:o}=n;t(f(e,o))})).catch((e=>{t(h(e))}))},p=()=>({type:i}),f=(e,t)=>({type:r,name:e,tag:t}),h=e=>({type:a,error:e}),m=e=>(t,n)=>{t(g(e)),Object(o.a)(n).post("/api/v1/tags/"+e+"/follow").then((n=>{let{data:o}=n;t(b(e,o))})).catch((n=>{t(v(e,n))}))},g=e=>({type:s,name:e}),b=(e,t)=>({type:"HASHTAG_FOLLOW_SUCCESS",name:e,tag:t}),v=(e,t)=>({type:c,name:e,error:t}),y=e=>(t,n)=>{t(_(e)),Object(o.a)(n).post("/api/v1/tags/"+e+"/unfollow").then((n=>{let{data:o}=n;t(O(e,o))})).catch((n=>{t(w(e,n))}))},_=e=>({type:i,name:e}),O=(e,t)=>({type:r,name:e,tag:t}),w=(e,t)=>({type:a,name:e,error:t})},972:function(e,t,n){var o=n(973),i=n(620),r=n(974).ArraySet,a=n(1089).MappingList;function s(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new a,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var o={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(o.source=e.source,null!=t&&(o.source=i.relative(t,o.source)),o.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(o.name=e.name)),n.addMapping(o)})),e.sources.forEach((function(t){var o=e.sourceContentFor(t);null!=o&&n.setSourceContent(t,o)})),n},s.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),o=i.getArg(e,"source",null),r=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,o,r),null!=o&&(o=String(o),this._sources.has(o)||this._sources.add(o)),null!=r&&(r=String(r),this._names.has(r)||this._names.add(r)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:o,name:r})},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var o=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=e.file}var a=this._sourceRoot;null!=a&&(o=i.relative(a,o));var s=new r,c=new r;this._mappings.unsortedForEach((function(t){if(t.source===o&&null!=t.originalLine){var r=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=r.source&&(t.source=r.source,null!=n&&(t.source=i.join(n,t.source)),null!=a&&(t.source=i.relative(a,t.source)),t.originalLine=r.line,t.originalColumn=r.column,null!=r.name&&(t.name=r.name))}var u=t.source;null==u||s.has(u)||s.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=s,this._names=c,e.sources.forEach((function(t){var o=e.sourceContentFor(t);null!=o&&(null!=n&&(t=i.join(n,t)),null!=a&&(t=i.relative(a,t)),this.setSourceContent(t,o))}),this)},s.prototype._validateMapping=function(e,t,n,o){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||o)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:o}))},s.prototype._serializeMappings=function(){for(var e,t,n,r,a=0,s=1,c=0,u=0,l=0,d=0,p="",f=this._mappings.toArray(),h=0,m=f.length;h<m;h++){if(e="",(t=f[h]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(h>0){if(!i.compareByGeneratedPositionsInflated(t,f[h-1]))continue;e+=","}e+=o.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=o.encode(r-d),d=r,e+=o.encode(t.originalLine-1-u),u=t.originalLine-1,e+=o.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=o.encode(n-l),l=n)),p+=e}return p},s.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=s},973:function(e,t,n){var o=n(1088);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=o.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,r,a,s,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(r=o.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&r),u+=(r&=31)<<l,l+=5}while(i);n.value=(s=(a=u)>>1,1==(1&a)?-s:s),n.rest=t}},974:function(e,t,n){var o=n(620),i=Object.prototype.hasOwnProperty;function r(){this._array=[],this._set=Object.create(null)}r.fromArray=function(e,t){for(var n=new r,o=0,i=e.length;o<i;o++)n.add(e[o],t);return n},r.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(e,t){var n=o.toSetString(e),r=i.call(this._set,n),a=this._array.length;r&&!t||this._array.push(e),r||(this._set[n]=a)},r.prototype.has=function(e){var t=o.toSetString(e);return i.call(this._set,t)},r.prototype.indexOf=function(e){var t=o.toSetString(e);if(i.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},t.ArraySet=r},990:function(e,t,n){"use strict";var o=n(4),i=n(12),r=n(581),a=n(80),s=n(143);t.a=Object(o.g)(Object(i.connect)(((e,t)=>{let{intl:n}=t;const o=Object(s.c)(e);return o.forEach((e=>["title","message"].forEach((t=>{const o=e[t];"object"==typeof o&&(e[t]=n.formatMessage(o,e[t+"_values"]))})))),{notifications:o}}),(e=>({onDismiss:t=>{e(Object(a.d)(t))}})))(r.NotificationStack))},991:function(e,t,n){"use strict";var o=n(12),i=n(69),r=n.n(i);t.a=Object(o.connect)(((e,t)=>({loading:e.get("loadingBar")[t.scope||"default"]})))(r.a.WrappedComponent)},997:function(e,t,n){var o,i,r;!function(a,s){"use strict";i=[n(1084),n(1085),n(1086)],void 0===(r="function"==typeof(o=function(e,t,n){var o={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},i=function(){try{throw new Error}catch(e){return e}};function r(e,t){var n={};return[e,t].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n})),n}function a(e){return e.stack||e["opera#sourceloc"]}function s(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=i();return a(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=r(o,n);var c=i();return s(a(c)?e.parse(c):t.backtrace(n),n.filter)},fromError:function(t,i){i=r(o,i);var a=new n(i);return new Promise(function(n){var o=s(e.parse(t),i.filter);n(Promise.all(o.map((function(e){return new Promise((function(t){function n(){t(e)}a.pinpoint(e).then(t,n).catch(n)}))}))))}.bind(this))},generateArtificially:function(e){e=r(o,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,o){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(t,n).catch(n),e.apply(o||this,arguments)}catch(e){throw a(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n,o){return new Promise((function(i,r){var a=new XMLHttpRequest;if(a.onerror=r,a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<400?i(a.responseText):r(new Error("POST to "+t+" failed with status: "+a.status)))},a.open("post",t),a.setRequestHeader("Content-Type","application/json"),o&&"object"==typeof o.headers){var s=o.headers;for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.setRequestHeader(c,s[c])}var u={stack:e};null!=n&&(u.message=n),a.send(JSON.stringify(u))}))}}})?o.apply(t,i):o)||(e.exports=r)}()}}]);
//# sourceMappingURL=382-988b844d3e685de6f2bf.chunk.js.map